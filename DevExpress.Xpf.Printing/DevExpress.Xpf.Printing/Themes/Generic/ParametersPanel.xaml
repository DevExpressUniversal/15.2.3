<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                    xmlns:mvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                    xmlns:dxpp="clr-namespace:DevExpress.Xpf.Printing.Parameters"
                    xmlns:local="clr-namespace:DevExpress.Xpf.Printing">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/DevExpress.Xpf.Printing.v15.2;component/Themes/Generic/Constants.xaml" />
    </ResourceDictionary.MergedDictionaries>
    <dxc:BoolToVisibilityConverter x:Key="boolToVisibilityConverter" />

    <ControlTemplate x:Key="parametersControlTemplate" TargetType="dxpp:ParametersPanel">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid Margin="12" DataContext="{Binding RelativeSource={RelativeSource TemplatedParent}}">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>
                <ItemsControl Name="PART_parametersContainer"
                          ItemsSource="{Binding ParametersModel.Parameters}" ItemTemplateSelector="{Binding ParameterTemplateSelector}" >
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Grid.IsSharedSizeScope="True" Name="itemsPanel" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>
            <UniformGrid Grid.Row="1" Margin="0,12" HorizontalAlignment="Right">
                <Button MinWidth="{StaticResource buttonMinWidth}" Content="{local:PrintingStringId StringId=ParametersReset}" Margin="0,0,3,0" Name="PART_resetButton" 
                        Command="{Binding ParametersModel.ResetParametersCommand}"/>
                <Button MinWidth="{StaticResource buttonMinWidth}" Content="{local:PrintingStringId StringId=ParametersSubmit}" Grid.Column="1" Margin="3,0,0,0" Name="PART_submitButton" 
                        
                        Command="{Binding ParametersModel.SubmitParametersCommand}">
                </Button>
            </UniformGrid>
        </Grid>
        </ScrollViewer>
    </ControlTemplate>

    <Style TargetType="dxpp:ParametersPanel">
        <Setter Property="Template" Value="{StaticResource parametersControlTemplate}" />
    </Style>
    
    <Style TargetType="dxpp:ParameterLineLayout">
        <Setter Property="Margin" Value="0,3" />
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="dxpp:ParameterLineLayout">
                    <ControlTemplate.Resources>
                        <dxpp:ParameterDescriptionConverter x:Key="parameterDescriptionConverter" />
                    </ControlTemplate.Resources>
                    <dxpp:AutoFitColumnGrid Visibility="{Binding Visible, Converter={StaticResource boolToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0" SharedSizeGroup="descriptionColumn"/>
                            <ColumnDefinition MinWidth="4" Width="4" />
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Label VerticalContentAlignment="Center">
                            <TextBlock TextTrimming="CharacterEllipsis">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource parameterDescriptionConverter}">
                                        <Binding Path="Description" />
                                        <Binding Path="Name" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </Label>
                        <ContentPresenter Grid.Column="2" Content="{TemplateBinding Content}" MinWidth="{Binding Content.MinWidth, RelativeSource={RelativeSource Self}}" />
                    </dxpp:AutoFitColumnGrid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>