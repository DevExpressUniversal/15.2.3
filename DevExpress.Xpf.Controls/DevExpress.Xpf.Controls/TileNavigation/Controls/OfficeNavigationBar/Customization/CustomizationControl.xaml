<UserControl x:Class="DevExpress.Xpf.Navigation.NavigationBar.Customization.CustomizationControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:dxtEx="clr-namespace:DevExpress.Xpf.Utils.Themes;assembly=DevExpress.Xpf.Core.v15.2"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxnavi="clr-namespace:DevExpress.Xpf.Navigation.Internal"
    xmlns:dxnavc="clr-namespace:DevExpress.Xpf.Navigation.NavigationBar.Customization"
    x:Name="customizationControl" Loaded="OnLoaded">
    <UserControl.Resources>
        <ResourceDictionary>
            <dxnavc:NavigationStringIdConverter x:Key="NavigationStringIdConverter" />
            <dx:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Margin="12,12,12,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition />
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="toolbarsLabel" VerticalAlignment="Center" Margin="0,0,4,0" Text="{Binding ConverterParameter=CustomizationForm_MaximumItemsCountLabel, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" />
            <dxe:SpinEdit  Grid.Column="1" EditValueChanged="SpinEdit_EditValueChanged"
                    Value="{Binding VisibleItemsCount}"
                    MinValue="0"
                    MaxValue="{Binding ItemsCount}"
                    MaxWidth="100"
                    VerticalAlignment="Center" HorizontalAlignment="Left"
                />
        </Grid>
        <dxe:CheckEdit Grid.Row="1"  Margin="0,8,0,0" Content="{Binding ConverterParameter=CustomizationForm_CompactModeCheckLabel, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" EditValueChanged="CheckEdit_EditValueChanged" EditValue="{Binding IsCompact}" Visibility="{Binding SupportCompactMode, Converter={StaticResource BoolToVisibilityConverter}}" />
        <dxnavi:CustomizationSeparatorControl Grid.Row="2"  Margin="0,8,0,0" />
        <TextBlock Grid.Row="3" Margin="0,8,0,0" Text="{Binding ConverterParameter=CustomizationForm_DisplayOrderLabel, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" />
        <Grid Grid.Row="4" Margin="0,8,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <dxe:ListBoxEdit x:Name="listBox" ItemsSource="{Binding ItemsSource}" SelectedIndex="{Binding SelectedIndex, Mode=TwoWay}">
                <dxe:ListBoxEdit.ItemContainerStyle>
                    <Style TargetType="dxe:ListBoxEditItem">
                        <Setter Property="Content" Value="{Binding }" />
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <dxnavi:CustomizationItemControl Content="{Binding Content}" ContentTemplate="{Binding ContentTemplate}" ContentTemplateSelector="{Binding ContentTemplateSelector}" />
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </dxe:ListBoxEdit.ItemContainerStyle>
            </dxe:ListBoxEdit>
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <Button x:Name="upBtn" Margin="12,3,12,3" Padding="5" Click="OnUpButtonClick" IsEnabled="{Binding AllowMoveUp}">
                    <dxnavi:CustomizationArrowControl Direction="Up" />
                </Button>
                <Button x:Name="downBtn" Margin="12,3,12,3"  Padding="5" Click="OnDownButtonClick" IsEnabled="{Binding AllowMoveDown}">
                    <dxnavi:CustomizationArrowControl Direction="Down" />
                </Button>
            </StackPanel>
        </Grid>
        <dxnavi:CustomizationSeparatorControl Grid.Row="5" Margin="0,8,0,0" />
        <Grid Grid.Row="6" HorizontalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Button x:Name="resetButton" Margin="12,12,3,12" Padding="24,2"
                Content="{Binding Path=Margin, ConverterParameter=CustomizationForm_ResetButton, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" 
                Grid.Column="1" HorizontalAlignment="Right" Click="OnResetButtonClick" />
            <Button x:Name="okButton" Margin="3,12,3,12" Padding="24,2"
                Content="{Binding Path=Margin, ConverterParameter=CustomizationForm_OKButton, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" 
                Grid.Column="2" HorizontalAlignment="Right" Click="OnOKButtonClick" />
            <Button x:Name="cancelButton" Margin="3,12,0,12" Padding="24,2" 
                Content="{Binding Path=Margin, ConverterParameter=CustomizationForm_CancelButton, Converter={StaticResource NavigationStringIdConverter}, RelativeSource={RelativeSource Self}}" 
                Grid.Column="3" HorizontalAlignment="Right" Click="OnCancelButtonClick" />
        </Grid>
    </Grid>
</UserControl>
