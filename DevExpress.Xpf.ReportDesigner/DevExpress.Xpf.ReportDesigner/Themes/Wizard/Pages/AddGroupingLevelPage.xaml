<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                    xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
                    xmlns:wizardUtils="clr-namespace:DevExpress.Xpf.Reports.UserDesigner.ReportWizard.Utils"
                    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                    xmlns:dataAccessNative="clr-namespace:DevExpress.Xpf.DataAccess.Native;assembly=DevExpress.Xpf.DataAccess.v15.2"
                    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                    xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                    xmlns:local="clr-namespace:DevExpress.Xpf.Reports.UserDesigner.ReportWizard.Pages">
    <DataTemplate x:Key="{x:Type local:AddGroupingLevelPage}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <dataAccessNative:WizardTitle Title="Create multiple groups, each with a single field value, or define several fields in the same group."/>
            <dxlc:LayoutControl Orientation="Horizontal" Grid.Row="1" Margin="50,20" Padding="0" >
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="4*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Available columns:" />
                    <dxe:ListBoxEdit Name="availableColumns" Grid.Row="1" DisplayMember="DisplayName"  EditValue="{Binding SelectedColumn}" SelectedIndex="0" ItemsSource="{Binding AvailableColumns}" />
                    <StackPanel Grid.Row="1" Margin="12,0, 12, 60" Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center">
                        <Button Command="{Binding AddLevelCommand}" Margin="0,0,0,6" >
                            <Image Stretch="None" Source="/DevExpress.Xpf.ReportDesigner.v15.2;component/Images/Wizard/ArrowRight.png" />
                        </Button>
                        <Button Command="{Binding AddLevelGroupCommand}" Margin="0,0,0,6">
                            <Image Stretch="None" Source="/DevExpress.Xpf.ReportDesigner.v15.2;component/Images/Wizard/ArrowPlus.png" />
                        </Button>
                        <Button Command="{Binding RemoveLevelCommand}" Margin="0,0,0,18" >
                            <Image Stretch="None" Source="/DevExpress.Xpf.ReportDesigner.v15.2;component/Images/Wizard/ArrowLeft.png" />
                        </Button>
                        <Button Command="{Binding MoveUpCommand}" Margin="0,0,0,6">
                            <Image Stretch="None" Source="{dx:DXImage Image=MoveUp_16x16.png}" />
                        </Button>
                        <Button Command="{Binding MoveDownCommand}" >
                            <Image Stretch="None" Source="{dx:DXImage Image=MoveDown_16x16.png}" />
                        </Button>
                    </StackPanel>
                    <Grid Grid.RowSpan="2" Grid.Column="2">
                        <Border Background="White" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" CornerRadius="3,3,3,3" BorderThickness="1,1,1,1" BorderBrush="LightGray">
                            <Grid>
                                <Border Margin="26,0,26,0" BorderThickness="1,0,1,0" BorderBrush="LightGray"/>
                                <Border Margin="0,26,0,26" BorderThickness="0,1,0,1" BorderBrush="LightGray"/>
                                <Border Margin="26,26,26,26">
                                    <dxe:ListBoxEdit ScrollViewer.HorizontalScrollBarVisibility="Disabled" ShowBorder="False" DisplayMember="DisplayName" ItemsSource="{Binding Groups}" EditValue="{Binding SelectedGroup}" SelectedIndex="0">
                                        <dxe:ListBoxEdit.ItemContainerStyle>
                                            <Style TargetType="dxe:ListBoxEditItem">
                                                <Setter Property="Margin">
                                                    <Setter.Value>
                                                        <MultiBinding Converter="{wizardUtils:GroupIndexToHierarchicalMarginConverter}">
                                                            <Binding Path="ItemsSource" RelativeSource="{RelativeSource AncestorType=dxe:ListBoxEdit}"/>
                                                            <Binding />
                                                        </MultiBinding>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </dxe:ListBoxEdit.ItemContainerStyle>
                                        <dxe:ListBoxEdit.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding DisplayName}" TextWrapping="Wrap" />
                                            </DataTemplate>
                                        </dxe:ListBoxEdit.ItemTemplate>
                                    </dxe:ListBoxEdit>
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </dxlc:LayoutControl>
        </Grid>
    </DataTemplate>

</ResourceDictionary>