<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
    xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
    xmlns:cm="clr-namespace:System.ComponentModel;assembly=PresentationFramework"
    xmlns:local="clr-namespace:DevExpress.Charts.Designer.Native">

    <local:DataBrowserChildNodeSelector
        x:Key="dataBrowserChildNodeSelector" />

    <DataTemplate x:Key="TextEdit">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                EditWidth="90"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:TextEditSettings
                        ValidateOnEnterKeyPressed="True"
                        ValidateOnTextInput="False"
                        AcceptsReturn="False"
                        AllowNullInput="True"
                        AllowSpinOnMouseWheel="True"
                        NullText="{Binding Path=NullText}" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarDoubleEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                EditWidth="90"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:TextEditSettings
                        ValidateOnTextInput="False"
                        AllowNullInput="True"
                        MaskAutoComplete="None"
                        MaskType="Numeric"
                        NullText="{Binding Path=NullText}" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarCheckEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                Content="{Binding}"
                EditWidth="{Binding Path=EditWidth}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.ContentTemplate>
                    <DataTemplate>
                        <dxe:CheckEdit
                            Content="{Binding Path=Caption}"
                            IsChecked="{Binding Path=EditValue, Mode=TwoWay}" />
                    </DataTemplate>
                </dxb:BarEditItem.ContentTemplate>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarFontFamilyEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                EditWidth="90"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:FontEditSettings
                        ApplyItemTemplateToSelectedItem="True" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarComboBoxViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                EditWidth="{Binding Path=EditWidth}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:ComboBoxEditSettings
                        IsTextEditable="False"
                        ItemsSource="{Binding Path=ComboBoxItems}"
                        NullText="{Binding Path=NullText}" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarDynamicComboBoxViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                EditWidth="130"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:ComboBoxEditSettings
                        IsTextEditable="False"
                        ItemsSource="{Binding ItemsSource}" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarColorEditViewModelTemplate">
        <ContentControl>
            <dxb:BarSplitButtonItem
                Content="{Binding Path=Caption, Mode=OneWay}"
                Glyph="{Binding Path=Glyph, Mode=OneWay}"
                LargeGlyph="{Binding Path=LargeGlyph, Mode=OneWay}"
                RibbonStyle="{Binding Path=RibbonStyle, Mode=OneWay}">
                <dxb:BarSplitButtonItem.PopupControl>
                    <dxb:PopupControlContainer>
                        <dxe:ColorEdit
                            EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                            CloseOwnerPopupOnClick="True"
                            ShowBorder="False"
                            ShowDefaultColorButton="False" />
                    </dxb:PopupControlContainer>
                </dxb:BarSplitButtonItem.PopupControl>
            </dxb:BarSplitButtonItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarThicknessEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding EditValue}"
                EditWidth="{Binding EditWidth}"
                Content="{Binding Caption}"
                Command="{Binding Command}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:ComboBoxEditSettings
                        ItemsSource="{Binding Items}"
                        ApplyItemTemplateToSelectedItem="True"
                        IsTextEditable="False">
                        <dxe:ComboBoxEditSettings.ItemTemplate>
                            <DataTemplate>
                                <dx:ThemedUserControl>
                                    <StackPanel
                                        Orientation="Horizontal"
                                        Margin="4,0,4,0">
                                        <Rectangle
                                            Height="{Binding Path=Thickness}"
                                            Visibility="{Binding LineVisibility}"
                                            Fill="Black"
                                            Width="20"
                                            Margin="2,0,5,0"
                                            VerticalAlignment="Center" />
                                        <TextBlock
                                            Text="{Binding Path=Representation}"
                                            VerticalAlignment="Center" />
                                    </StackPanel>
                                </dx:ThemedUserControl>
                            </DataTemplate>
                        </dxe:ComboBoxEditSettings.ItemTemplate>
                    </dxe:ComboBoxEditSettings>
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarSpinEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue}"
                EditWidth="{Binding Path=EditWidth}"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:SpinEditSettings
                        MaxValue="{Binding Path=MaxValue}"
                        MinValue="{Binding Path=MinValue}"
                        Increment="{Binding Path=Increment}"
                        IsFloatValue="{Binding Path=IsFloatValue}"
                        HorizontalContentAlignment="Right" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarDateTimeEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditValue="{Binding Path=EditValue}"
                EditWidth="{Binding Path=EditWidth}"
                Content="{Binding Path=Caption}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:DateEditSettings
                        Mask="G"
                        AllowNullInput="True"
                        DisplayFormat="G"
                        NullText="{Binding Path=NullText}" />
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>

    <DataTemplate x:Key="BarPopupDataBrowserEditViewModelTemplate">
        <ContentControl>
            <dxb:BarEditItem
                EditWidth="100"
                Content="{Binding Path=Caption}"
                EditValue="{Binding Path=EditValue, Mode=TwoWay}"
                Command="{Binding Path=Command}"
                IsVisible="{Binding Path=IsVisible}">
                <dxb:BarEditItem.EditSettings>
                    <dxe:PopupBaseEditSettings
                        PopupFooterButtons="Close"
                        ShowSizeGrip="True"
                        PopupWidth="150"
                        PopupHeight="150">
                        <dxe:PopupBaseEditSettings.PopupContentTemplate>
                            <ControlTemplate>
                                <Grid>
                                    <dxg:GridControl
                                        ItemsSource="{Binding ItemsSource}"
                                        local:DataPickerBehaviour.CloseOnDoubleClick="True"
                                        cm:DesignerProperties.IsInDesignMode="false">
                                        <dxg:GridControl.Columns>
                                            <dxg:GridColumn>
                                                <dxg:GridColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel
                                                            Orientation="Horizontal">
                                                            <Image
                                                                Stretch="UniformToFill"
                                                                Source="{Binding RowData.Row.GlyphSource}"
                                                                Margin="5,5,5,5" />
                                                            <TextBlock
                                                                Text="{Binding RowData.Row.ID}"
                                                                VerticalAlignment="Center"
                                                                HorizontalAlignment="Left" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </dxg:GridColumn.CellTemplate>
                                            </dxg:GridColumn>
                                        </dxg:GridControl.Columns>
                                        <dxg:GridControl.View>
                                            <dxg:TreeListView
                                                TreeDerivationMode="ChildNodesSelector"
                                                ChildNodesSelector="{StaticResource dataBrowserChildNodeSelector}"
                                                ShowColumnHeaders="False"
                                                AutoWidth="True"
                                                NavigationStyle="Row"
                                                AutoExpandAllNodes="False"
                                                ShowIndicator="False"
                                                ShowVerticalLines="False"
                                                ShowHorizontalLines="False">
                                            </dxg:TreeListView>
                                        </dxg:GridControl.View>
                                    </dxg:GridControl>
                                </Grid>
                            </ControlTemplate>
                        </dxe:PopupBaseEditSettings.PopupContentTemplate>
                    </dxe:PopupBaseEditSettings>
                </dxb:BarEditItem.EditSettings>
            </dxb:BarEditItem>
        </ContentControl>
    </DataTemplate>
</ResourceDictionary>