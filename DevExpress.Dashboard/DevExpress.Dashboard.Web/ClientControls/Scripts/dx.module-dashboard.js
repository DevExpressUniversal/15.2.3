/*! 
* DevExpress Analytics Dashboard
* Version: 15.2.3
* Build date: Dec 1, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: http://www.devexpress.com/Support/EULAs/NetComponents.xml
*/
"use strict";if(!window.DevExpress||!DevExpress.MOD_DASHBOARD){if(!window.DevExpress||!DevExpress.MOD_WIDGETS_WEB)throw Error("Required module is not referenced: widgets-web");if(!window.DevExpress||!DevExpress.MOD_VIZ_CHARTS)throw Error("Required module is not referenced: viz-charts");if(!window.DevExpress||!DevExpress.MOD_VIZ_GAUGES)throw Error("Required module is not referenced: viz-gauges");if(!window.DevExpress||!DevExpress.MOD_VIZ_RANGESELECTOR)throw Error("Required module is not referenced: viz-rangeselector");if(!window.DevExpress||!DevExpress.MOD_VIZ_VECTORMAP)throw Error("Required module is not referenced: viz-vectormap");if(!window.DevExpress||!DevExpress.MOD_VIZ_SPARKLINES)throw Error("Required module is not referenced: viz-sparklines");(function(n){n.dashboard={viewerItems:{},data:{}}})(DevExpress),function(n,t){var r=t.dashboard;r.utils={specialValues:{nullValueGuid:"D86D8A6C-0D87-4CA4-9C15-3356A83699B5",othersValueGuid:"5821CCA5-303B-425D-909F-B8373FB7FAE3",olapNullValueGuid:"764E2930-72BE-4464-ACB6-4ADB205BD414",errorValueGuid:"D7BB8881-C9F3-45E3-B370-2EA8E836FC5D"},KpiValueMode:{Measure:"Measure",Delta:"Delta"},pivotArea:{column:"column",row:"row",data:"data"},gaugeViewType:{CircularFull:"CircularFull",CircularHalf:"CircularHalf",CircularQuarterRight:"CircularQuarterRight",CircularQuarterLeft:"CircularQuarterLeft",CircularThreeFourth:"CircularThreeFourth",LinearHorizontal:"LinearHorizontal",LinearVertical:"LinearVertical"},tooltipContainerSelector:".dx-viewport",toColor:function(n){var t=n>>>0,i=t&255,r=(t&65280)>>>8,u=(t&16711680)>>>16;return this.getRGBColor(u,r,i)},getRGBColor:function(n,t,i){return"rgb("+[n,t,i].join(",")+")"},allowSelectValue:function(t){var i=!0;return t&&n.each(t,function(n,t){i=i&&t!==r.utils.specialValues.othersValueGuid&&t!==r.utils.specialValues.errorValueGuid}),i},cleanNullValues:function(n){if(n)for(var t=n.length-1;r.utils.specialValues.olapNullValueGuid==n[t]&&t>=0;)n.splice(t,1),t--},encodeHtml:function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},decodeHtml:function(n){return String(n).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},moveContent:function(n,t,i){n.contents().appendTo(t),i&&n.html("")},checkValuesAreEqual:function(i,r){var u,e,f;if(!i||!r||(u=n.isArray(i)?i:[i],e=n.isArray(r)?r:[r],u.length!==e.length||u.length===0))return!1;for(f=0;f<u.length;f++)if(t.data.utils.toComparable(u[f],!1)!==t.data.utils.toComparable(e[f],!1))return!1;return!0},checkTuplesAreEqual:function(t,i){if(!t||!i)return!1;var u=0;return n.each(t,function(t,f){var e=n.grep(i,function(n){return n.AxisName==f.AxisName})[0].Value;r.utils.checkValuesAreEqual(f.Value,e)&&(u=u+1)}),u==t.length},checkArrayContainsTuple:function(t,i){var f=this,r,u;return n.each(t,function(n,t){return r=f.checkTuplesAreEqual(t,i),r&&(u=n),!r}),u},getAxisPointValue:function(t,i){var r=n.grep(t,function(n){return n.AxisName==i});return r.length>0?r[0].Value:null},getTagValue:function(n){var t=n.axisPoint;return t?t.getUniquePath():n},getValueIndex:function(n,t){if(n&&t)for(var i=0;i<n.length;i++)if(this.checkValuesAreEqual(n[i],t))return i;return-1},treeWalker:function(t,i){return{walk:function(n){this._walkInternal(t,null,n,function(){return!0})},walkLeaf:function(n){this._walkInternal(t,null,n,function(n,t,i){return i})},_walkInternal:function(t,r,u,f){var s=this,e=i(t),o=!e||e.length===0;f(t,r,o)&&u(t,r,o),o||n.each(e,function(n,i){s._walkInternal(i,t,u,f)})}}},getParentClasses:function(t){var i=[t.attr("class")];return n.each(t.parents(),function(t,r){var u=n(r).attr("class");u&&i.push(u)}),i.reverse()},createFakeObjects:function(t,i){var u,f,r;return n.each(t,function(t,e){r=n("<div>",{css:n.extend({position:"absolute",top:0,left:0,visibility:"hidden",overflow:"hidden"},i)}),r.appendTo(f?f:n("body")),r.addClass(e),f=r,u||(u=r)}),{firstElement:u,lastElement:r,remove:function(){u.remove()}}},getBorderSizeByClasses:function(n){if(n&&n.length>0){var i=this.createFakeObjects(n,{width:100,height:100});try{return t.utils.renderHelper.getActualBorder(i.lastElement)}finally{i.remove()}}else return{width:0,height:0}},wrapHash:function(t){var i={};return t&&n.each(t,function(n,t){i[t]=!0}),i},areNotOrderedListsEqual:function(n,t){if(n.length!=t.length)return!1;n=n.slice(),t=t.slice(),n.sort(),t.sort();for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0},pxToNumber:function(n){var i=0,t;if(n!=null&&n!="")try{t=n.indexOf("px"),t>-1&&(i=parseInt(n.substr(0,t)))}catch(r){}return i}}}(jQuery,DevExpress),function(n,t,i){var u=t.require("/utils/utils.formatHelper"),f=t.require("/utils/utils.common"),r=t.dashboard,e=r.data;r.localizationId={FilterElementShowAllItem:"FilterElementShowAllItem",DateTimeQuarterFormat:"DateTimeQuarterFormat",buttonNames:{ClearMasterFilter:"ClearMasterFilter",ClearSelection:"ClearSelection",ElementSelection:"ElementSelection",DrillUp:"DrillUp",ExportTo:"ExportTo",ExportToPdf:"ExportToPdf",ExportToImage:"ExportToImage",ExportToExcel:"ExportToExcel",ExportTemplate:"ExportTemplate",AllowMultiselection:"AllowMultiselection",ButtonCancel:"ButtonCancel",ButtonOK:"ButtonOK",ButtonReset:"ButtonReset",ButtonSubmit:"ButtonSubmit",ButtonExport:"ButtonExport",ParametersFormCaption:"ParametersFormCaption",InitialExtent:"InitialExtent",GridResetColumnWidths:"GridResetColumnWidths",GridSortAscending:"GridSortAscending",GridSortDescending:"GridSortDescending",GridClearSorting:"GridClearSorting"},labelName:{PageLayout:"PageLayout",PageLayoutAuto:"PageLayoutAuto",PageLayoutPortrait:"PageLayoutPortrait",PageLayoutLandscape:"PageLayoutLandscape",PaperKind:"PaperKind",PaperKindLetter:"PaperKindLetter",PaperKindLegal:"PaperKindLegal",PaperKindExecutive:"PaperKindExecutive",PaperKindA5:"PaperKindA5",PaperKindA4:"PaperKindA4",PaperKindA3:"PaperKindA3",ScaleMode:"ScaleMode",ScaleModeNone:"ScaleModeNone",ScaleModeUseScaleFactor:"ScaleModeUseScaleFactor",ScaleModeAutoFitToPageWidth:"ScaleModeAutoFitToPageWidth",AutoFitPageCount:"AutoFitPageCount",ScaleFactor:"ScaleFactor",PrintHeadersOnEveryPage:"PrintHeadersOnEveryPage",FitToPageWidth:"FitToPageWidth",SizeMode:"SizeMode",SizeModeNone:"SizeModeNone",SizeModeStretch:"SizeModeStretch",SizeModeZoom:"SizeModeZoom",AutoArrangeContent:"AutoArrangeContent",ImageFormat:"ImageFormat",ExcelFormat:"ExcelFormat",CsvValueSeparator:"CsvValueSeparator",Resolution:"Resolution",ShowTitle:"ShowTitle",Title:"Title",FileName:"FileName",FilterStatePresentation:"FilterStatePresentation",FilterStatePresentationNone:"FilterStatePresentationNone",FilterStatePresentationAfter:"FilterStatePresentationAfter",FilterStatePresentationAfterAndSplitPage:"FilterStatePresentationAfterAndSplitPage"},sparkline:{TooltipStartValue:"SparklineTooltipStartValue",TooltipEndValue:"SparklineTooltipEndValue",TooltipMinValue:"SparklineTooltipMinValue",TooltipMaxValue:"SparklineTooltipMaxValue"},MessageGridHasNoData:"MessageGridHasNoData",MessagePivotHasNoData:"MessagePivotHasNoData",PivotGridGrandTotal:"PivotGridGrandTotal",PivotGridTotal:"PivotGridTotal",ChartTotalValue:"ChartTotalValue",ParametersSelectorText:"ParametersSelectorText",OpenCaption:"OpenCaption",HighCaption:"HighCaption",LowCaption:"LowCaption",CloseCaption:"CloseCaption",NumericFormatUnitSymbolThousands:"NumericFormatUnitSymbolThousands",NumericFormatUnitSymbolMillions:"NumericFormatUnitSymbolMillions",NumericFormatUnitSymbolBillions:"NumericFormatUnitSymbolBillions"},e.localizer={_localizationStrings:i,initialize:function(n){var t,i,f,o,s;this._localizationStrings=n,t=this.getStringCore(r.localizationId.DateTimeQuarterFormat),t&&(u.defaultQuarterFormat=t),i=this.getStringCore(r.localizationId.NumericFormatUnitSymbolThousands),i&&(u.defaultLargeNumberFormatPostfixes[1]=i),f=this.getStringCore(r.localizationId.NumericFormatUnitSymbolMillions),f&&(u.defaultLargeNumberFormatPostfixes[2]=f),o=this.getStringCore(r.localizationId.NumericFormatUnitSymbolBillions),o&&(u.defaultLargeNumberFormatPostfixes[3]=o),s=this.getStringCore(r.localizationId.FilterElementShowAllItem),s&&(e.ALL_ELEMENT.text=s)},getString:function(n){return this.getStringCore(n,n)},getPredefinedString:function(n){switch(n){case r.utils.specialValues.nullValueGuid:case r.utils.specialValues.olapNullValueGuid:return this.getString(r.specialValueNames.NullValue);case r.utils.specialValues.othersValueGuid:return this.getString(r.specialValueNames.OthersValue);case r.utils.specialValues.errorValueGuid:return this.getString(r.specialValueNames.ErrorValue);default:return i}},getStringCore:function(n,t){var r=i;return this._localizationStrings?(r=this._localizationStrings[n],f.isDefined(r)?r:t):(r=Globalize.localize(n),f.isDefined(r)?r:t)}}}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard.data,f=u.localizer,r=t.require("/utils/utils.formatHelper"),e=t.require("/utils/utils.common");u.formatter={defaultNumericFormat:{format:"fixedPoint",unitPower:"auto",precision:0,significantDigits:3},defaultPercentFormat:{format:"percent",unitPower:0,precision:2,significantDigits:0,showTrailingZeros:!1},_types:{Abbreviated:"abbr",Full:"full",Long:"long",Numeric:"num",Short:"short",TimeOnly:"timeOnly"},format:function(n,t){var i=this.getPredefinedString(n),r,u;return e.isDefined(i)||(r=t.NumericFormat,u=t.DateTimeFormat,i=r?this.formatNumeric(n,r):u?this.formatDateTime(n,u):this.formatObject(n)),i},formatNumeric:function(n,t){if(t){var i=this._convertToNumberFormat(t);return r.format(n,i)}return n.toString()},formatDateTime:function(n,t){var i=this._convertToDateFormat(t);return r.format(n,i)},formatObject:function(n){return n==null?"":n.toString()},formatAxisValue:function(n,t,i,u){return r.format(n,this.getAxisFormat(t,i,u))},getAxisFormat:function(n,t,i){return i?this.defaultPercentFormat:{format:"fixedPoint",unitPower:this.calculateUnitPower(n,t),precision:2,significantDigits:0,showTrailingZeros:!1}},calculateUnitPower:function(n,t){var i=t-n;return i>=1e9?3:i>=1e6?2:i>=1e3?1:0},getPredefinedString:function(n){return f.getPredefinedString(n)},convertToFormat:function(n){var t=null,i,r;return n&&(i=n.NumericFormat,r=n.DateTimeFormat,t=i?this._convertToNumberFormat(i):r?this._convertToDateFormat(r):null),t},_convertToNumberFormat:function(n){var t=null,r=n?n.FormatType:i,u=n?n.Unit:i;return r!=="General"&&(t={},t.format=this._convertNumericFormat(r),t.currencyCulture=n.CurrencyCulture,n.IncludeGroupSeparator&&(t.includeGroupSeparator=n.IncludeGroupSeparator),n.ForcePlusSign&&(t.plus=n.ForcePlusSign),t.precision=n.Precision,u&&u==="Auto"&&(t.significantDigits=n.SignificantDigits),(u&&r==="Number"||r==="Currency")&&(t.unitPower=this._convertNumericUnit(u))),t},_convertToDateFormat:function(n){if(n)switch(this._getSyntheticDateTimeGroupInterval(n.GroupInterval,n.ExactDateFormat)){case"MonthYear":return{format:"monthYear",dateType:this._types.Full};case"QuarterYear":return{format:"quarterYear",dateType:this._types.Full};case"DayMonthYear":return{format:"dayMonthYear",dateType:n.DateFormat==="Long"?this._types.Long:this._types.Short};case"DateHour":return n.DateHourFormat==="Long"?{format:"dateHour",dateType:this._types.Long}:{format:"dateHour",dateType:n.DateHourFormat==="Short"?this._types.Short:this._types.TimeOnly};case"DateHourMinute":return n.DateHourMinuteFormat==="Long"?{format:"dateHourMinute",dateType:this._types.Long}:{format:"dateHourMinute",dateType:n.DateHourMinuteFormat==="Short"?this._types.Short:this._types.TimeOnly};case"DateHourMinuteSecond":return n.DateTimeFormat==="Long"?{format:"dateHourMinuteSecond",dateType:this._types.Long}:{format:"dateHourMinuteSecond",dateType:n.DateTimeFormat==="Short"?this._types.Short:this._types.TimeOnly};case"Year":return{format:"year",dateType:n.YearFormat==="Abbreviated"?this._types.Abbreviated:this._types.Full};case"DateYear":return{format:"dateYear",dateType:n.YearFormat==="Abbreviated"?this._types.Abbreviated:this._types.Full};case"Quarter":return n.QuarterFormat==="Numeric"?{format:"quarter",dateType:this._types.Numeric}:{format:"quarter",dateType:this._types.Full};case"Month":return n.MonthFormat==="Numeric"?{format:"month",dateType:this._types.Numeric}:{format:"month",dateType:n.MonthFormat==="Abbreviated"?this._types.Abbreviated:this._types.Full};case"Hour":return{format:"hour",dateType:n.HourFormat==="Long"?this._types.Long:this._types.Short};case"DayOfWeek":return n.DayOfWeekFormat==="Numeric"?{format:"dayOfWeek",dateType:this._types.Numeric}:{format:"dayOfWeek",dateType:n.DayOfWeekFormat==="Abbreviated"?this._types.Abbreviated:this._types.Full};default:return{format:n.GroupInterval.toString(),dateType:this._types.Numeric}}else return null},_getSyntheticDateTimeGroupInterval:function(n,t){if(n!="None")return n;switch(t){case"Year":return"DateYear";case"Quarter":return"QuarterYear";case"Month":return"MonthYear";case"Day":return"DayMonthYear";case"Hour":return"DateHour";case"Minute":return"DateHourMinute";case"Second":return"DateHourMinuteSecond";default:return null}return null},_convertNumericFormat:function(n){switch(n){case"Number":return"fixedPoint";case"Currency":return"currency";case"Scientific":return"exponential";case"Percent":return"percent";default:return i}},_convertNumericUnit:function(n){switch(n){case"Auto":return"auto";case"Thousands":return 1;case"Millions":return 2;case"Billions":return 3;default:return 0}}}}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=r.data;u.tagValuesProvider={getTag:function(n,t,i){var r=null,u;if(t===null)return r;for(r=[],u=0;u<t.length;u++)r.push(n.getRowValue(i,t[u]));return this.getTagByValues(r)},getTagByValues:function(n){return!n||n.length===0?null:n}}}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=r.data.formatter,f=DevExpress.require("/class"),e=r.data;e.listSource=f.inherit({ctor:function(n,t){this.dataSource=this._wrapIfRequired(n,t),this.dataMembers=t,this.dataSource&&this.dataMembers?(this.rowCount=this.dataSource.length,this.columnCount=this.dataMembers.length):(this.dataSource=[],this.dataMembers=[],this.rowCount=0,this.columnCount=0)},_wrapIfRequired:function(t,i){var u,e=[],o=t&&t.length>0&&n.isArray(t)&&n.isArray(t[0]),r,f;if(o)for(r=0;r<t.length;r++)if(u=t[r],i&&u&&u.length===i.length)for(e[r]={},f=0;f<u.length;f++)e[r][i[f]]=u[f];else{o=!1;break}return o?e:t},getRowValue:function(n,t){return this.dataSource[n][t]},getFormattedRowValue:function(n,t,i){var r=this.getRowValue(n,t);return u.formatNumeric(r,i)},getFormattedArgumentRowValue:function(n,t,i){var r=this.getRowValue(n,t);return u.format(r,i)},getColumnIndex:function(t){return n.inArray(t,this.dataMembers)},getRowCount:function(){return this.rowCount}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data;u.chartHelper={SelectionMode:{Argument:"Argument",Series:"Series",Points:"Points"},ChartLegendInsidePosition:{TopLeftVertical:"TopLeftVertical",TopLeftHorizontal:"TopLeftHorizontal",TopCenterVertical:"TopCenterVertical",TopCenterHorizontal:"TopCenterHorizontal",TopRightVertical:"TopRightVertical",TopRightHorizontal:"TopRightHorizontal",BottomLeftVertical:"BottomLeftVertical",BottomLeftHorizontal:"BottomLeftHorizontal",BottomCenterVertical:"BottomCenterVertical",BottomCenterHorizontal:"BottomCenterHorizontal",BottomRightVertical:"BottomRightVertical",BottomRightHorizontal:"BottomRightHorizontal"},ChartLegendOutsidePosition:{TopLeftVertical:"TopLeftVertical",TopLeftHorizontal:"TopLeftHorizontal",TopCenterHorizontal:"TopCenterHorizontal",TopRightVertical:"TopRightVertical",TopRightHorizontal:"TopRightHorizontal",BottomLeftVertical:"BottomLeftVertical",BottomLeftHorizontal:"BottomLeftHorizontal",BottomCenterHorizontal:"BottomCenterHorizontal",BottomRightVertical:"BottomRightVertical",BottomRightHorizontal:"BottomRightHorizontal"},convertSeriesType:function(n){switch(n){case"Bar":return"bar";case"StackedBar":return"stackedbar";case"FullStackedBar":return"fullstackedbar";case"Point":return"scatter";case"Line":return"line";case"StackedLine":return"stackedline";case"FullStackedLine":return"fullstackedline";case"StepLine":return"stepline";case"Spline":return"spline";case"Area":return"area";case"StackedArea":return"stackedarea";case"FullStackedArea":return"fullstackedarea";case"StepArea":return"steparea";case"SplineArea":return"splinearea";case"StackedSplineArea":return"stackedSplineArea";case"FullStackedSplineArea":return"fullStackedSplineArea";case"SideBySideRangeBar":return"rangebar";case"RangeArea":return"rangearea";case"CandleStick":return"candlestick";case"Stock":return"stock";case"Donut":return"doughnut";case"Pie":return"pie";case"HighLowClose":return"stock";case"Weighted":return"bubble";default:return"area"}},convertPresentationUnit:function(n){if(n&&n.DataType==="DateTime")switch(n.DateTimePresentationUnit){case"Second":return"second";case"Minute":return"minute";case"Hour":return"hour";case"Day":return"day";case"Month":return"month";case"Quarter":return"quarter";default:return null}return null},convertLegendInsidePosition:function(n){var t=this.ChartLegendInsidePosition;switch(n){case t.TopLeftVertical:return{verticalAlignment:"top",horizontalAlignment:"left",orientation:"vertical"};case t.TopLeftHorizontal:return{verticalAlignment:"top",horizontalAlignment:"left",orientation:"horizontal"};case t.TopCenterVertical:return{verticalAlignment:"top",horizontalAlignment:"center",orientation:"vertical"};case t.TopCenterHorizontal:return{verticalAlignment:"top",horizontalAlignment:"center",orientation:"horizontal"};case t.TopRightVertical:return{verticalAlignment:"top",horizontalAlignment:"right",orientation:"vertical"};case t.TopRightHorizontal:return{verticalAlignment:"top",horizontalAlignment:"right",orientation:"horizontal"};case t.BottomLeftVertical:return{verticalAlignment:"bottom",horizontalAlignment:"left",orientation:"vertical"};case t.BottomLeftHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"left",orientation:"horizontal"};case t.BottomCenterVertical:return{verticalAlignment:"bottom",horizontalAlignment:"center",orientation:"vertical"};case t.BottomCenterHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"center",orientation:"horizontal"};case t.BottomRightVertical:return{verticalAlignment:"bottom",horizontalAlignment:"right",orientation:"vertical"};case t.BottomRightHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"right",orientation:"horizontal"};default:return{verticalAlignment:"top",horizontalAlignment:"center",orientation:"horizontal"}}},convertLegendOutsidePosition:function(n){var t=this.ChartLegendOutsidePosition;switch(n){case t.TopLeftVertical:return{verticalAlignment:"top",horizontalAlignment:"left",orientation:"vertical"};case t.TopLeftHorizontal:return{verticalAlignment:"top",horizontalAlignment:"left",orientation:"horizontal"};case t.TopCenterHorizontal:return{verticalAlignment:"top",horizontalAlignment:"center",orientation:"horizontal"};case t.TopRightVertical:return{verticalAlignment:"top",horizontalAlignment:"right",orientation:"vertical"};case t.TopRightHorizontal:return{verticalAlignment:"top",horizontalAlignment:"right",orientation:"horizontal"};case t.BottomLeftVertical:return{verticalAlignment:"bottom",horizontalAlignment:"left",orientation:"vertical"};case t.BottomLeftHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"left",orientation:"horizontal"};case t.BottomCenterHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"center",orientation:"horizontal"};case t.BottomRightVertical:return{verticalAlignment:"bottom",horizontalAlignment:"right",orientation:"vertical"};case t.BottomRightHorizontal:return{verticalAlignment:"bottom",horizontalAlignment:"right",orientation:"horizontal"};default:return{verticalAlignment:"top",horizontalAlignment:"center",orientation:"horizontal"}}},convertPointLabelRotationAngle:function(n){switch(n){case"RotateRight":return 90;case"RotateLeft":return 270;default:return 0}},convertPointLabelPosition:function(n){return n=="Inside"?"inside":"outside"},allowArgumentAxisMargins:function(t){var r=i,u=!0,f;return t.length==1?(n.each(t[0].SeriesTemplates,function(n,t){r=r==i?t.SeriesType:r,u=u&&r===t.SeriesType}),f=!(u&&n.inArray(r,["Area","StackedArea","FullStackedArea","StepArea","SplineArea","StackedSplineArea","RangeArea","FullStackedSplineArea"])!=-1)):f=!0,f},isFinancialType:function(n){switch(n){case"candlestick":case"stock":return!0;default:return!1}},isTransparentColorType:function(n){switch(n){case"area":case"steparea":case"splinearea":case"rangearea":case"stackedarea":case"fullstackedarea":case"bubble":return!0;default:return!1}},isSeriesColorSupported:function(n){switch(n){case"line":case"stackedLine":case"fullstackedLine":case"stepline":case"spline":case"area":case"fullstackedarea":case"spline":case"stackedarea":case"stackedsplineArea":case"steparea":case"rangearea":return!0;default:return!1}}}}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=r.data;u.selectionHelper={setSelectedArguments:function(n,t,i){if(t)for(var r=0;r<t.length;r++)this._selectArgument(n,t[r],i)},setSelectedSeries:function(n,t,i){if(t)for(var r=0;r<t.length;r++)this._selectSeries(n,t[r],i)},setSelectedPoint:function(n,t,i,r){var e=this,f,u;if(t!=null&&i==null&&e._selectSeries(n,t,r),t==null&&i!=null&&e._selectArgument(n,i,r),t!=null&&i!=null)for(f=n.getAllSeries(),u=0;u<f.length;u++)e._checkWidgetCorrespondsToValue(f[u],t)&&this._selectSeriesPoints(f[u],i,r)},setSelectedWidgetViewer:function(n,t,i){if(t)for(var r=0;r<t.length;r++)this._selectValue(n,t[r],i)},selectWholePie:function(n,t){for(var r=n.getAllSeries(),i=0;i<r.length;i++)this._selectWidget(r[i],t)},_selectSeries:function(n,t,i){for(var u=n.getAllSeries(),r=0;r<u.length;r++)this._selectValue(u[r],t,i)},_selectArgument:function(n,t,i){for(var u=n.getAllSeries(),r=0;r<u.length;r++)this._selectSeriesPoints(u[r],t,i)},_selectSeriesPoints:function(n,t,i){for(var u=n.getAllPoints(),r=0;r<u.length;r++)this._selectValue(u[r],t,i)},_selectValue:function(n,t,i){this._checkWidgetCorrespondsToValue(n,t)&&this._selectWidget(n,i)},_selectWidget:function(n,t){t?n.select():n.clearSelection()},_checkWidgetCorrespondsToValue:function(t,i){var u=t.tag;if(!u||!i)return!1;if(u&&(u=r.utils.getTagValue(u)),u&&!n.isArray(u)&&!n.isArray(i))throw Error("Internal Error: incorrect values for selection");return r.utils.checkValuesAreEqual(u,i)}}}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=DevExpress.require("/class"),f=r.data;f.tuple=u.inherit({ctor:function(n){var t=this;t.axisPoints=n},getAxisPoint:function(t){var i=this;return n.grep(i.axisPoints,function(n){return n.AxisName==t})[0]}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=DevExpress.require("/class"),f=r.data;f.parameter=u.inherit({ctor:function(t){var i=this;i._name=t.Name,i._value=t.DefaultValue,i._defaultValue=t.DefaultValue,i._description=t.Description,i._type=t.Type,i._visible=t.Visible,i._allowNull=t.AllowNull,i._allowmultiselect=t.AllowMultiselect,i._values=[],t.Values&&n.each(t.Values,function(n,u){i._values.push(new r.data.parameterValue(u.Value,u.DisplayText,t.ContainsDisplayMember))}),this.parameterChanged=new n.Callbacks},getName:function(){return this._name},getAllowNull:function(){return this._allowNull},getAllowMultiselect:function(){return this._allowmultiselect},getValue:function(){return this._value},setValue:function(n){this._value=n,this.parameterChanged.fire()},getDefaultValue:function(){return this._defaultValue},getDescription:function(){return this._description},getType:function(){return this._type},getValues:function(){return this._values},isVisible:function(){return this._visible}}),f.parameterValue=u.inherit({ctor:function(n,t,i){var r=this;r._value=n,r._displayText=i?t:n},getValue:function(){return this._value},getDisplayText:function(){return this._displayText}}),f.parametersCollection=u.inherit({ctor:function(t){var i=this;i._parameters=[],t&&n.each(t,function(n,t){var u=new r.data.parameter(t);u.parameterChanged.add(function(){i.collectionChanged.fire()}),i._parameters.push(u)}),this.collectionChanged=new n.Callbacks},setParameters:function(t){var i=this;n.each(t,function(n,t){var r=i.getParameterByName(t.Name);r.setValue(t.Value)})},getParameterValues:function(){var i=this,t=[];return n.each(i._parameters,function(n,i){t.push({Name:i.getName(),Value:i.getValue()})}),t},getParameterDefaultValue:function(n){return this.getParameterByName(n).getDefaultValue()},getParameterValue:function(n){return this.getParameterByName(n).getValue()},setParameterValue:function(n,t){var i=this.getParameterByName(n);i.setValue(t)},getVisibleParameters:function(){return n.grep(this._parameters,function(n){return n.isVisible()})},getParameters:function(){return this._parameters},getParameterByName:function(t){var i=this;return n.grep(i._parameters,function(n){return n.getName()==t})[0]},getParameterByIndex:function(n){return this._parameters[n]}})}(jQuery,DevExpress),function(n,t,i){var e=t.ui,f=t.dashboard,u=f.data,r=f.viewerItems;r.types={group:"GROUP",rangeFilter:"RANGEFILTER",chart:"CHART",scatter:"SCATTERCHART",pie:"PIE",card:"CARD",grid:"GRID",pivot:"PIVOT",gauge:"GAUGE",text:"TEXT",image:"IMAGE",map:"MAP",choroplethMap:"CHOROPLETHMAP",geoPointMap:"GEOPOINTMAP",bubbleMap:"BUBBLEMAP",pieMap:"PIEMAP",comboBox:"COMBOBOX",listBox:"LISTBOX",treeView:"TREEVIEW"},u.factory=function(){var n=function(n,t){switch(t.Type){case r.types.group:return new r.groupItem(n,t);case r.types.rangeFilter:return new r.rangeSelectorItem(n,t);case r.types.chart:case r.types.scatter:return new r.chartItem(n,t);case r.types.pie:return new r.pieItem(n,t);case r.types.card:return new r.cardsItem(n,t);case r.types.grid:return new r.dataGridItem(n,t);case r.types.pivot:return new r.pivotGridItem(n,t);case r.types.gauge:return new r.gaugesItem(n,t);case r.types.text:return new r.textItem(n,t);case r.types.image:return new r.imageItem(n,t);case r.types.map:case r.types.choroplethMap:return new r.choroplethMapItem(n,t);case r.types.geoPointMap:return new r.geoPointMapItem(n,t);case r.types.bubbleMap:return new r.bubbleMapItem(n,t);case r.types.pieMap:return new r.pieMapItem(n,t);case r.types.comboBox:return new r.comboBoxFilterElement(n,t);case r.types.listBox:return new r.listFilterElement(n,t);case r.types.treeView:return new r.treeViewFilterElement(n,t);default:return{}}},t=function(n,t){switch(n){case r.types.rangeFilter:return new u.rangeFilterDataController(t);case r.types.chart:return new u.chartDataController(t);case r.types.scatter:return new u.scatterChartDataController(t);case r.types.pie:return new u.pieDataController(t);case r.types.pivot:return new u.pivotDataController(t);case r.types.choroplethMap:return new u.choroplethMapDataController(t);case r.types.grid:return new u.gridDataController(t);case r.types.card:return new u.cardDataController(t);case r.types.gauge:return new u.gaugeDataController(t);case r.types.geoPointMap:return new u.geoPointMapDataController(t);case r.types.bubbleMap:return new u.bubbleMapDataController(t);case r.types.pieMap:return new u.pieMapDataController(t);case r.types.comboBox:return new u.comboBoxDataController(t);case r.types.listBox:return new u.listBoxDataController(t);case r.types.treeView:return new u.treeViewDataController(t);default:return i}};return{createItem:n,createDataController:t}}()}(jQuery,DevExpress),function(n,t){var u=DevExpress.require("/class"),f=t.dashboard,e=f.data,r=.15;e.gridBarCalculator=u.inherit({ctor:function(n){this._valueItems=[],this._alwaysShowZeroLevel=n.showZeroLevel},addValue:function(n){this._valueItems.push(n),this._initialized=!1,this._invalidate()},getNormalizedValue:function(n){if(this._initialized||this._initialize(),this._normalizedValues[n])return this._normalizedValues[n];var t=this._normalizeValue(this._valueItems[n].getValue());return this._normalizedValues[n]=t,t},getZeroPosition:function(){return this._initialized||this._initialize(),this._zeroPosition},_invalidate:function(){this._normalizedValues=[],this._range=null,this._min=null,this._max=null,this._zeroPosition=null,this._normalizationData=null,this._initialized=!1},_normalizeValue:function(n){var i=this._normalizationData.showZero,u=this._normalizationData.minimum,t=this._normalizationData.ratio,f=this._normalizationData.range,e=n>=0?1:-1;return i||t===0?n/f:e*(r+t*(Math.abs(n)-u))},_calcMinMax:function(){var t=[];n.each(this._valueItems,function(n,i){t.push(i.getValue())}),this._min=Math.min.apply(Math,t),this._max=Math.max.apply(Math,t)},_calcRange:function(){var n=this._min,i=Math.abs(n),t=this._max,r=Math.abs(t);this._range=Math.max(t-n,i,r)},_calcZeroPosition:function(){var n=this._min,i=Math.abs(n),r=this._max,t=this._range;this._zeroPosition=n<0?r<0?1:t!==0?i/t:0:0},_calcNormalizationData:function(){var s=this._range||1,n=this._min,t=this._max,h=n<0&&t<0||n>=0&&t>=0,u=Math.abs(n),f=Math.abs(t),i=Math.min(u,f),e=Math.max(u,f),o=e-i,c=o!==0?(1-r)/o:0,l=this._alwaysShowZeroLevel||h&&i/e<=r;this._normalizationData={showZero:l,minimum:i,ratio:c,range:s}},_initialize:function(){this._calcMinMax(),this._calcRange(),this._calcZeroPosition(),this._calcNormalizationData(),this._initialized=!0}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=u.data,r=u.utils,e=DevExpress.require("/class");f.gaugeRangeCalculator=e.inherit({ctor:function(n){this._values=n.values,this._gaugeViewType=n.gaugeModel.Type,this._customMin=n.gaugeModel.MinValue,this._customMax=n.gaugeModel.MaxValue,this._minDefined=!!this._customMin,this._maxDefined=!!this._customMax,this._minTickCount=i,this._maxTickCount=i,this._min=i,this._max=i,this._equalSign=i,this._defineMinMaxTicks()},getGaugeRange:function(){var u;this._defineMinMax(),this._setRangeStart(),this._extendRange();var t=Math.min(this._min,this._max),i=Math.max(this._min,this._max),f=i-t,v=this._min>this._max,s,e,r,n,h,c,o,l,a;if(f===0)s=1,e=0;else{for(r=this._minTickCount-1,n=this._chooseMultiplier(f/r),h=n*r-f,c=this._isFit(t,i,n,r),u=r+1;u<this._maxTickCount;u++)o=this._chooseMultiplier(f/u),l=o*u-f,a=this._isFit(t,i,o,u),a&&(l<h||!c)&&(h=l,n=o,c=a,r=u);return t=this._getLeft(t,n),i=this._getRight(i,n),this._min=v?i:t,this._max=v?t:i,s=r+1,e=n%5==0?4:n%3==0?2:3,{minorTickCount:e,majorTickCount:s,min:this._min,max:this._max}}},_getLeft:function(n,t){var i=n>0?1:-1;return this._equalSign&&n>0?Math.floor(Math.abs(n)/t)*t*i:Math.ceil(Math.abs(n)/t)*t*i},_getRight:function(n,t){var i=n>0?1:-1;return this._equalSign&&n<0?Math.floor(Math.abs(n)/t)*t*i:Math.ceil(Math.abs(n)/t)*t*i},_isFit:function(n,t,i,r){var u=Math.abs(n),f=Math.abs(t),e=!1,o,s;return this._signsEqual(n,t)?(o=Math.min(u,f),s=Math.max(u,f),e=Math.ceil(s/i)-Math.floor(o/i)<=r):e=Math.ceil(u/i)+Math.ceil(f/i)<=r,e},_extendRange:function(){var n=this,t=function(t){n._minDefined||(n._min*=t)},i=function(t){n._maxDefined||(n._max*=t)};this._equalSign?Math.abs(this._min)<Math.abs(this._max)?(t(.95),i(1.05)):(t(1.05),i(.95)):(t(1.05),i(1.05)),this._min===this._max&&(this._min!==0?this._max*=1.4:this._max=1)},_setRangeStart:function(){this._equalSign&&(this._min===this._max&&(this._min>0?this._minDefined||(this._min=0):this._maxDefined||(this._max=0)),Math.abs(this._min)<=Math.abs(this._max)?this._minDefined||(this._min=0):this._maxDefined||(this._max=0))},_defineMinMax:function(){this._min=this._minDefined?this._customMin:this._values.length>0?Math.min.apply(Math,this._values):0,this._max=this._maxDefined?this._customMax:this._values.length>0?Math.max.apply(Math,this._values):1,this._equalSign=this._signsEqual(this._min,this._max)},_signsEqual:function(n,t){return n>=0&&t>=0||n<0&&t<0},_defineMinMaxTicks:function(){switch(this._gaugeViewType){case r.gaugeViewType.CircularFull:this._minTickCount=6,this._maxTickCount=9;break;case r.gaugeViewType.CircularHalf:case r.gaugeViewType.CircularThreeFourth:this._minTickCount=4,this._maxTickCount=6;break;case r.gaugeViewType.LinearHorizontal:this._minTickCount=3,this._maxTickCount=3;break;default:this._minTickCount=4,this._maxTickCount=5}},_chooseMultiplier:function(n){var r=[1,2,3,5],i,o,u,s,f,t,e;if(n>1){for(e=1;;e*=10)for(t=0;t<r.length;t++)if(i=r[t]*e,n<=i)return i}else{for(i=10,o=Math.floor(Math.log(Math.abs(n))/Math.LN10),u=Math.pow(10,-o),s=n*u,t=r.length-1;t>=0;t--){if(f=r[t],s>f)break;i=f}return i/u}}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,e=DevExpress.require("/class"),f=r.data,u=f.localizer,o=t.utils;f.dataController={DATA_POSTFIX:"_Data"},f.dataControllerBase=e.inherit({ctor:function(n){this.deltaIndicatorTypes=["none","up","down","warning"],this.multiData=n?n.multiData:i,this.viewModel=n?n.viewModel:i,this.cfModel=n?n.cfModel:i,this.drillDownState=n?n.drillDownState:i},isMultiselectable:function(){return!1},getTitle:function(n,t){var i=" - ",r=n.getAxisName();return this.drillDownState[r]?n.getDisplayText():n.getDisplayPath().reverse().join(t?t:i)},_getMeasureValueByAxisPoints:function(n,t){var i=this._getSlice(n);return i.getConditionalFormattingMeasureValue(t)},_getSlice:function(t){var i=this.multiData;return n.each(t,function(n,t){i=i.getSlice(t)}),i},_getZeroPosition:function(n,t,r){var f=this,u,e,o,s;return o=f.multiData.getAxis(t).getRootPoint(),s=f.multiData.getAxis(r).getRootPoint(),u=f._getMeasureValueByAxisPoints([o,s],n),u!==i&&u!==null&&(e=u),e},_getStyleSettingsInfoCore:function(t,r,u,f){var e=this,h=[],c=[],v={},y,o,l,a,s,p=[];return r.length>0&&n.each(r,function(r,s){h=e._getStyleIndexes(s,t,p),h.length>0&&(Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1}),y=e.cfModel.RuleModels.indexOf(s),n.each(h,function(n,t){c[t]===i&&(c.push(t),v[t]=y)})),o=e._getMeasureValueByAxisPoints(p,s.NormalizedValueMeasureId),o!==i&&o!==null&&(l=o,a=e._getZeroPosition(s.ZeroPositionMeasureId,u,f))}),s={styleIndexes:c,styleAndRuleMappingTable:v},l!==i&&a!==i&&(s.normalizedValue=l,s.zeroPosition=a),s},_generateSparklineOptions:function(n,t,i){return{dataSource:n,type:t.ViewType.toLowerCase(),onIncidentOccurred:o.renderHelper.widgetIncidentOccurred,showMinMax:t.HighlightMinMaxPoints,showFirstLast:t.HighlightStartEndPoints,tooltip:{_justify:!0,container:r.utils.tooltipContainerSelector,customizeTooltip:function(){var f=u.getString(r.localizationId.sparkline.TooltipStartValue),e=u.getString(r.localizationId.sparkline.TooltipEndValue),o=u.getString(r.localizationId.sparkline.TooltipMinValue),s=u.getString(r.localizationId.sparkline.TooltipMaxValue),n="<table style='border-spacing:0px;'>",t="<\/td><td style='width: 15px'><\/td><td style='text-align: right'>";return n+="<tr><td>"+f+t+i(this.originalFirstValue)+"<\/td><\/tr>",n+="<tr><td>"+e+t+i(this.originalLastValue)+"<\/td><\/tr>",n+="<tr><td>"+o+t+i(this.originalMinValue)+"<\/td><\/tr>",n+="<tr><td>"+s+t+i(this.originalMaxValue)+"<\/td><\/tr>",n+="<\/table>",{html:n}},zIndex:100}}},_convertIndicatorType:function(n){return this.deltaIndicatorTypes[n]}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data,e=u.localizer,o=t.require("/utils/utils.common"),f=t.require("/color");u.chartDataControllerBase=u.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.elementCustomColor=n.elementCustomColor},getArgument:function(n){return this.isQualitativeArgument()?this.getTitle(n,"\n"):this.isDiscreteArgument()?n.getParent()!=null?n.getDisplayText():e.getString(r.localizationId.ChartTotalValue):n.getValue()},getArgumentAxisPoints:function(n){if(this.viewModel){var i=n?n:this.viewModel.Argument.SummaryArgumentMember,t=this._getArgumentAxis();return t?t.getPointsByDimension(i,!0):[]}return[]},getSeriesAxisPoints:function(n){var t=this._getSeriesAxis(),i=n?n:this.viewModel.SummarySeriesMember;return t?t.getPointsByDimension(i,!0):[]},getArgumentAxisDimensionFormat:function(n){var t=this._getArgumentDimension(n);return t?t.getFormat():i},getColor:function(n,t,i,r){var u=this,f=u._getColorFromData(n,t,r);return u._getElementCustomColor(n,t,i,f)},isDiscreteArgument:function(){return this.viewModel&&this.viewModel.Argument.DataType==="String"},isQualitativeArgument:function(){return this._getArgumentAxisDimensions().length>1},isSingleArgument:function(){return this._getArgumentAxisDimensions().length==1},hasSeriesPoints:function(){return this.viewModel&&!!this.viewModel.SummarySeriesMember},_getElementCustomColor:function(n,t,i,r){var e=this,s=new f(r),o,u;return e.elementCustomColor&&r&&(u={targetElement:[n,t],measureIds:i,color:s.toHex()},e.elementCustomColor(u),o=new f(u.color),!o.colorIsInvalid)?u.color:r},_getColorFromData:function(n,t,u){var f=this,s=n?n.getParentByDimensionId(f.viewModel.ArgumentColorDimension):i,h=t.getParentByDimensionId(f.viewModel.SeriesColorDimension),e;if(o.isDefined(u))try{return e=f._getCrossSlice(s,h).getColorMeasureValue(u),e!==null?r.utils.toColor(e):i}catch(c){return i}return i},_getCrossSlice:function(n,t){var i=this.multiData.getSlice(t);return n?i.getSlice(n):i},_getArgumentAxis:function(){return this.multiData?this.multiData.getAxis(r.itemDataAxisNames.chartArgumentAxis):i},_getSeriesAxis:function(){return this.multiData?this.multiData.getAxis(r.itemDataAxisNames.chartSeriesAxis):i},_getArgumentAxisDimensions:function(){var n=this._getArgumentAxis(),t=n?n.getDimensions():[];return t?t:[]},_getArgumentDimension:function(n){var t=this._getArgumentAxisDimensions();return n>=0&&n<t.length?t[n]:i}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data,f="GT";u.pivotDataController=u.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this._columnPointsHash={},this._rowPointsHash={},this._measureIds=this._getMeasureIds(),this._collapseStateCache={},this._conditionalFormattingInfoCache=[]},_createAreaFields:function(t,i){var r=[];return t&&t.length>0&&n.each(t,function(n,t){r.push({caption:t.Caption,area:i})}),r},_getFields:function(){var n=this.viewModel;return n?this._createAreaFields(n.Columns,"column").concat(this._createAreaFields(n.Rows,"row")).concat(this._createAreaFields(n.Values,"data")):i},getDataSource:function(n,t){var s=t&&n?this._getColumnAxis().getPointByUniqueValues(t):this._getColumnAxis().getRootPoint(),h=t&&!n?this._getRowAxis().getPointByUniqueValues(t):this._getRowAxis().getRootPoint(),i=[],r=[],u=[],f=[],e={},o={};return this._prepareHierarchy(s,i,u,e,t&&n),this._prepareHierarchy(h,r,f,o,t&&!n),this._columnPointsHash=e,this._rowPointsHash=o,{fields:this._getFields(),columns:i,rows:r,values:this._prepareCells(u,f,!!t)}},getStyleSettingsInfo:function(n,t,i){var r=this._getFormatRules(n);return this._collapseStateCache=t,this._conditionalFormattingInfoCache=i,this._getStyleSettingsInfo(n,r)},_prepareHierarchy:function(n,t,i,r,u){var s=0,e,o=function(n,t,i,r,u,f){var c=i.getChildren(),h,l;if(c&&c.length>0)for(l=0;l<c.length;l++)h=c[l],e={index:s++,value:h.getUniqueValue(),displayText:h.getDisplayText()},u[h.getUniquePath()]=h,r.push(h),f&&(f.children||(f.children=[]),f.children.push(e)),o(n,t,h,r,u,e);i.getParent()===n&&t.push(f)};o(n,t,n,i,r),u||(r[f]=n,i.push(n))},_getMeasureIds:function(){for(var t=[],n=0;n<this.viewModel.Values.length;n++)t.push(this.viewModel.Values[n].DataId);return t},_prepareCells:function(n,t,i){for(var f=[],l=this.multiData,s=this._measureIds,r=0,u=0,e=0,o,h,c,a=function(){h=n[u],c=t[r],o=l.getMeasureValueByAxisPoints(s[e],[h,c]).getDisplayText(),(o||!i)&&(f[r]||(f[r]=[]),f[r][u]||(f[r][u]=[]),f[r][u][e]=o)},r=0;r<t.length;r++)for(u=0;u<n.length;u++)for(e=0;e<s.length;e++)a();return f},_getColumnAxis:function(){return this.multiData.getAxis(r.itemDataAxisNames.pivotColumnAxis)},_getRowAxis:function(){return this.multiData.getAxis(r.itemDataAxisNames.pivotRowAxis)},_getStyleSettingsInfo:function(n,t){var i,u,f;return t.length>0&&((n.area===r.utils.pivotArea.column||n.area===r.utils.pivotArea.data)&&(u=this._getColumnAxisPointByPath(n.columnPath)),(n.area===r.utils.pivotArea.row||n.area===r.utils.pivotArea.data)&&(f=this._getRowAxisPointByPath(n.rowPath))),i={columnAxisPoint:u,rowAxisPoint:f},this._getStyleSettingsInfoCore(i,t,r.itemDataAxisNames.pivotColumnAxis,r.itemDataAxisNames.pivotRowAxis)},_getStyleIndexes:function(n,t,i){var f=this,r,u=[];return n.ApplyToRow&&(r=f._findStyleSettingsOnAxis(t.rowAxisPoint,t.columnAxisPoint,n.FormatConditionMeasureId,!0),r.length>0&&(u=u.concat(r))),n.ApplyToColumn&&(r=f._findStyleSettingsOnAxis(t.rowAxisPoint,t.columnAxisPoint,n.FormatConditionMeasureId,!1),r.length>0&&(u=u.concat(r))),n.ApplyToRow||n.ApplyToColumn||(t.columnAxisPoint&&i.push(t.columnAxisPoint),t.rowAxisPoint&&i.push(t.rowAxisPoint),r=f._getMeasureValueByAxisPoints(i,n.FormatConditionMeasureId),r&&(u=u.concat(r))),u},_findStyleSettingsOnAxis:function(t,r,u,f){var y=this,b,e=[],p=t?t:this._getRowAxis().getRootPoint(),w=r?r:this._getColumnAxis().getRootPoint(),h=f?p:w,c,l,a=[],s,o={slicePoint:h,measureId:u,styleIndexes:[],toString:function(){return this.slicePoint.getUniquePath()+this.measureId}},v=function(n,t){var r=t.getChildren(),e,o=t.getUniquePath().concat(f?"column":"row"),s=y._collapseStateCache[o],u;if(s===i&&(n.push(t),r&&r.length>0))for(u=0;u<r.length;u++)e=r[u],v(n,e)};return(s=this._conditionalFormattingInfoCache[o],s)?s.styleIndexes:(l=this.multiData.getSlice(h),c=f?this._getColumnAxis().getRootPoint():this._getRowAxis().getRootPoint(),v(a,c),n.each(a,function(n,t){var r=l.getSlice(t),i=r.getConditionalFormattingMeasureValue(u);i&&(e=e.concat(i))}),o.styleIndexes=e,this._conditionalFormattingInfoCache[o]=o,e)},_getFormatRules:function(t){var i=this,u,f=[];if(i.cfModel&&i.cfModel.RuleModels.length!==0)switch(t.area){case r.utils.pivotArea.column:u=i._getPointId(i._getColumnAxisPointByPath(t.columnPath)),f=f.concat(i._getFormatRulesByDataId(u));break;case r.utils.pivotArea.row:u=i._getPointId(i._getRowAxisPointByPath(t.rowPath)),f=f.concat(i._getFormatRulesByDataId(u));break;default:u=i._measureIds[t.cellIndex],f=n.grep(i.cfModel.RuleModels,function(n){return n.ApplyToRow||n.ApplyToDataId===u})}return f},_getColumnAxisPointByPath:function(n){var t=this._columnPointsHash[n];return t||(t=this._getColumnAxis().getPointByUniqueValues(n)),t},_getRowAxisPointByPath:function(n){var t=this._rowPointsHash[n];return t||(t=this._getRowAxis().getPointByUniqueValues(n)),t},_getFormatRulesByDataId:function(t){var i=this,r=[];return i.cfModel&&n.each(i.cfModel.RuleModels,function(n,i){i.ApplyToDataId===t&&r.push(i)}),r},_getPointId:function(n){var t,r;return n&&(t=n.getDimension(),r=t?t.id:i),r}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data,s=r.data.chartHelper,f=u.formatter,e=u.localizer,h=t.require("/utils/utils.formatHelper"),o=t.require("/utils/utils.common");u.chartDataController=u.chartDataControllerBase.inherit({ctor:function(n){this.callBase(n),this._argumentAxisPoints=this.getArgumentAxisPoints()},getDataSourceAndSeries:function(t){var r=this;if(!r.viewModel||r._argumentAxisPoints.length==0)return{dataSource:null,series:null};var o=r.isDiscreteArgument(),f=r._getSeriesInfo(t),s=r._getLegendInfo(),e=[],u={dataSource:[],series:[]};return f.length>0&&(n.each(f,function(n,t){t.seriesItem&&u.series.push(t.seriesItem)}),r.viewModel.AxisX&&r.viewModel.AxisX.Reverse&&u.series.reverse(),n.each(s,function(n,t){u.series.push({name:t.name,color:t.color,type:t.type})}),n.each(r._argumentAxisPoints,function(t,i){var h=r.getArgument(i),s={x:h};r._isSelectionTagsRequired()&&(s.tag={axisPoint:i}),o&&e.push(h),n.each(f,function(t,r){r.originalSeriesType==="HighLowClose"&&(s.nullColumn=null),n.each(r.valueFields,function(n,t){s[t.name]=t.getValue(i)})}),u.dataSource.push(s)}),u.argumentAxis=e.length>0?{categories:e}:i),u},generatePaneName:function(n,t){return n||"Pane "+t},_getSeriesInfo:function(t){var f=this,r,e=0,s=this.getSeriesAxisPoints(),h=!this.viewModel.SummarySeriesMember,c=f._isSelectionTagsRequired(),o=[];return f._iterateSeriesTemplates(function(l,a,v){var p=l?f.generatePaneName(l.Name,v):i,w=l?l.SpecifySeriesTitlesWithSeriesName:!1;n.each(s,function(i,s){r={name:a.Name,paneName:p,pointVisible:a.SeriesType==="Point"?!0:a.ShowPointMarkers,seriesType:u.chartHelper.convertSeriesType(a.SeriesType),originalSeriesType:a.SeriesType,plotOnSecondaryAxis:a.PlotOnSecondaryAxis,ignoreEmptyPoints:a.IgnoreEmptyPoints,axisPoint:s,dataMembers:a.DataMembers,colorMeasureId:a.ColorMeasureID,valueFormats:[],valueFields:[]},n.each(r.dataMembers,function(n,t){r.valueFormats.push(f.multiData.getMeasureFormat(t)),r.valueFields.push({name:"y"+e.toString(),getValue:function(n){return f._getCrossSlice(n,s).getMeasureValue(t).getValue()}}),e++}),a.PointLabel&&(r.pointLabel={showPointLabels:a.PointLabel.ShowPointLabels,rotationAngle:u.chartHelper.convertPointLabelRotationAngle(a.PointLabel.Orientation),position:u.chartHelper.convertPointLabelPosition(a.PointLabel.Position),showForZeroValues:a.PointLabel.ShowForZeroValues,content:a.PointLabel.Content,scatterContent:a.PointLabel.ScatterContent}),h?r.title=a.Name:(r.title=f.getTitle(s),w&&(r.title+=" - "+a.Name)),r.seriesItem=f._createSeriesItem(r,c,t),o.push(r)})}),o},customizeTooltipText:function(n,t,i,r){if(!this._validatePoint(t,n.type))return null;var u=this._getCustomizeTooltipTextColor(t);return this._getTooltipHtml(n,t,i,r,u)},_getTooltipHtml:function(n,i,r,u,f){var e=this._getTooltipTextInternal(n,i,r,u);return f&&(e="<div>"+t.utils.renderHelper.rectangle(f,10,10)+"&nbsp;&nbsp;"+e+"<\/div>"),e},_getTooltipTextInternal:function(n,t,i,u){var e=this,f=n.name+": ";f=u?r.utils.encodeHtml(f):f;switch(n.type){case"rangebar":case"rangearea":f+=e._formatValuesList([t.originalMinValue,t.originalValue],i,u);break;case"bubble":f+=e._formatValuesList([t.originalValue,t.size],i,u);break;case"stock":case"candlestick":f+=e._formatOpenHighLowCloseValues([t.originalOpenValue,t.originalHighValue,t.originalLowValue,t.originalCloseValue],i,n.getOptions().openValueField!=="nullColumn",u,"<br>");break;default:f+=e._formatValuesList([t.originalValue],i,u)}return f},getTooltipArgumentText:function(n){var t=f.getPredefinedString(n.argument);return o.isDefined(t)?t:this.isDiscreteArgument()?n.originalArgument:n.argumentText},getZoomArguments:function(){var n=this,t=n.viewModel?n.viewModel.AxisX:i;if(t&&t.LimitVisiblePoints&&n._argumentAxisPoints.length>t.VisiblePointsCount)return{start:n.getArgument(n._argumentAxisPoints[0]),end:n.getArgument(n._argumentAxisPoints[t.VisiblePointsCount-1])}},getArgumentUniquePath:function(n){for(var i=this,t=0;t<i._argumentAxisPoints.length;t++)if(i.getArgument(i._argumentAxisPoints[t])===n)return i._argumentAxisPoints[t].getUniquePath()},_getArgumentAutoFormat:function(){var n=this,t=0,i=1;return n._argumentAxisPoints.length>0&&(t=n._argumentAxisPoints[0].getValue(),i=n._argumentAxisPoints[n._argumentAxisPoints.length-1].getValue()),f.getAxisFormat(t,i,!1)},getArgumentFormat:function(n,t){var u=this,r=n?f.convertToFormat(n):i;return t=="Numeric"&&(r&&n.NumericFormat?n.NumericFormat.Unit=="Auto"&&(r.unitPower=u._getArgumentAutoFormat().unitPower):r=u._getArgumentAutoFormat()),r&&(r.showTrailingZeros=!1),r},formatArgument:function(n,t){return h.format(n.value,t)},_validatePoint:function(n,t){switch(t){case"rangebar":case"rangearea":return!(n.originalMinValue===null&&n.originalValue===null);case"bubble":return!(n.originalValue===null&&n.size===null);case"stock":case"candlestick":return!(n.originalOpenValue===null&&n.originalHighValue===null&&n.originalLowValue===null&&n.originalCloseValue===null);default:return!(n.originalValue===null)}},_getCustomizeTooltipTextColor:function(n){if(n.getColor)return n.getColor()},_getLegendInfo:function(){var t=this,i=[],r=[],o=t.multiData.getColorMeasures(),h=t.getArgumentAxisPoints(t.viewModel.ArgumentColorDimension),c=t.getSeriesAxisPoints(t.viewModel.SeriesColorDimension),u=function(i){var r=i.getDimension();return r&&n.inArray(r.id,t.viewModel.ColorPathMembers)>=0},f=function(n){return n.getValuePath(u)},e=function(n){return n.getDisplayPath(u)};return n.each(o,function(u,o){n.each(h,function(u,h){n.each(c,function(n,u){var v=t._getColorFromData(h,u,o.id),l,a,c,y;v&&(l=f(h).concat(f(u)),a=e(h).concat(e(u)),o.name&&(l.push(o.name),a.push(o.name)),t._valuesContainsValueSet(i,l)||(i.push(l),c=a.join(" - "),c&&c!=""||(c=t._getDisplayTextBySeriesTemplates()),y=!t.viewModel.ArgumentColorDimension&&s.isTransparentColorType(t._getLastSeriesType(o.id)),r.push({name:c,color:v,type:y?"bubble":"line"})))})})}),r},_valuesContainsValueSet:function(n,t){for(var u,r,i=0;i<n.length;i++)if(n[i].length===t.length){for(u=!0,r=0;r<n[i].length;r++)if(n[i][r]!==t[r]){u=!1;break}if(u)return!0}return!1},_getLastSeriesType:function(n){for(var r=this.viewModel.Panes,i,t=r.length-1;t>=0;t--)for(i=r[t].SeriesTemplates.length-1;i>=0;i--)if(n===r[t].SeriesTemplates[i].ColorMeasureID)return s.convertSeriesType(r[t].SeriesTemplates[i].SeriesType)},_getDisplayTextBySeriesTemplates:function(){var t=[];return this._iterateSeriesTemplates(function(i,r){var e=r.Name;n.inArray(e,t)<0&&t.push(e)}),t.join(", ")},_iterateSeriesTemplates:function(t){n.each(this.viewModel.Panes,function(i,r){n.each(r.SeriesTemplates,function(n,u){t(r,u,i,n)})})},_isSelectionTagsRequired:function(){return!0},_createSeriesItem:function(n,t,u){var c=this,f={argumentField:"x",type:n.seriesType,showInLegend:n.seriesType==="stock"||n.seriesType==="candlestick"},l=function(t){n.originalSeriesType==="HighLowClose"&&(f[t[0]]="nullColumn",t.splice(0,1));for(var i=0;i<Math.min(t.length,n.valueFields.length);i++)f[t[i]]=n.valueFields[i].name},h,e,a;o.isDefined(n.title)&&(f.name=n.title),o.isDefined(n.paneName)&&(f.pane=n.paneName),t&&(f.tag={axisPoint:n.axisPoint,dataMembers:n.dataMembers,valueFormats:n.valueFormats,colorMeasureId:n.colorMeasureId}),n.pointVisible&&(f.point={visible:n.pointVisible});switch(f.type){case"rangebar":case"rangearea":l(["rangeValue1Field","rangeValue2Field"]);break;case"bubble":l(["valueField","sizeField"]);break;case"stock":case"candlestick":l(["openValueField","highValueField","lowValueField","closeValueField"]);break;default:l(["valueField"])}return f.axis=(n.paneName||"")+(n.plotOnSecondaryAxis?"secondary":"primary"),n.ignoreEmptyPoints&&(f.ignoreEmptyPoints=n.ignoreEmptyPoints),n.pointLabel&&n.pointLabel.showPointLabels&&(h=n.pointLabel,f.label={visible:!0,rotationAngle:h.rotationAngle,customizeText:function(){return c._customizePointLabelText(this,h,n,u)}},f.type==="bar"&&(f.label.showForZeroValues=h.showForZeroValues),f.type==="bar"||f.type==="bubble"?f.label.position=h.position:f.type==="fullstackedbar"&&(f.label.position="inside")),e=i,o.isDefined(n.colorMeasureId)&&(e=c._getColorFromData(c._argumentAxisPoints[0],n.axisPoint,n.colorMeasureId)),s.isSeriesColorSupported(f.type)&&(a=this.multiData.getAxis(r.itemDataAxisNames.chartArgumentAxis).getRootPoint(),e=c._getElementCustomColor(a,n.axisPoint,n.dataMembers,e)),e&&(f.color=e),f},_customizePointLabelText:function(n,t,i,r){var u=this,f=function(){var t=i.valueFormats;switch(i.seriesType){case"rangebar":case"rangearea":return u._formatValuesList([n.value],[t[n.index]],r);case"bubble":return u._formatValuesList([n.value,n.size],t,r);case"stock":case"candlestick":return u._formatOpenHighLowCloseValues([n.openValue,n.highValue,n.lowValue,n.closeValue],t,i.originalSeriesType!=="HighLowClose",r,"\n\r");default:return u._formatValuesList([n.value],t,r)}};switch(t.content){case"Argument":return n.argument;case"SeriesName":return n.seriesName;case"ArgumentAndValue":return n.argument+": "+f();default:return f()}},_formatOpenHighLowCloseValues:function(n,t,i,u,f){var c="",f=f||" ",h=t?t.length:0,o,s,l=[e.getString(r.localizationId.OpenCaption),e.getString(r.localizationId.HighCaption),e.getString(r.localizationId.LowCaption),e.getString(r.localizationId.CloseCaption)];if(n&&h>0&&h<=n.length)for(s=0,o=i?0:1;s<h;s++,o++)c+=f+l[o]+": "+this._formatValue(n[o],t[s],u);return c},_formatValuesList:function(n,t,i){var u="",r;if(t&&t.length===n.length)for(r=0;r<n.length;r++)u=u+(r===0?"":" - ")+this._formatValue(n[r],t[r],i);return u},_formatValue:function(n,t,i){var u=f.format(n?n:0,t);return i?r.utils.encodeHtml(u):u}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data,f=r.formatter;r.scatterChartDataController=r.chartDataController.inherit({ctor:function(n){this.callBase(n)},getArgument:function(n){var t=this.viewModel.AxisXDataMember,i=this.multiData.getSlice(n);return i.getMeasureValue(t).getValue()},getArgumentDisplayPath:function(n){return n.getDisplayPath().reverse().join(", ")},getArgumentFormat:function(){return this.multiData.getMeasureFormat(this.viewModel.AxisXDataMember)},formatArgument:function(n){var i=this.viewModel.AxisXPercentValues;return f.formatAxisValue(n.value,n.min,n.max,i)},_getTooltipHtml:function(i,r,u,f,e){var o=this,s="",h,c=o.multiData.getSlice(r.tag.axisPoint),l=o._getMeasureIds();return n.each(l,function(n,i){h=o.multiData.getMeasureById(i).name+": "+c.getMeasureValue(i).getDisplayText(),s+="<tr><td>"+(e&&n===0?t.utils.renderHelper.rectangle(e,10,10):"")+"&nbsp;<\/td><td>"+h+"<\/td><\/tr>"}),"<table>"+s+"<\/table>"},_getMeasureIds:function(){var t=[];return t.push(this.viewModel.AxisXDataMember),n.each(this.viewModel.Panes[0].SeriesTemplates[0].DataMembers,function(n,i){t.push(i)}),t},getTooltipArgumentText:function(n){return this._getTooltipArgumentText(n.point.tag.axisPoint)},_getTooltipArgumentText:function(n){var t=n.getAxisName();return this.drillDownState[t]?n.getDisplayText():this.getArgumentDisplayPath(n)},_customizePointLabelText:function(t,i){var f=this,e=t.point.tag.axisPoint,o=function(){return f._getTooltipArgumentText(e)},s=function(){var n=f.viewModel.Panes[0].SeriesTemplates[0].DataMembers,t,i;return n.length>1?(t=n[1],i=f.multiData.getSlice(e),i.getMeasureValue(t).getDisplayText()):null},h=function(){var t="",i=f._getMeasureIds(),r=f.multiData.getSlice(e);return n.each(i,function(n,i){t+=(n>0?" - ":"")+r.getMeasureValue(i).getDisplayText()}),t};switch(i.scatterContent){case"Argument":return o();case"Weight":return s();case"Values":return h();case"ArgumentAndWeight":return o()+": "+s();case"ArgumentAndValues":return o()+": "+h();default:return null}}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data;u.rangeFilterDataController=u.chartDataController.inherit({ctor:function(n){this.callBase(n)},getArgument:function(n){return n.getParent()!=null?n.getValue():localizer.getString(r.localizationId.ChartTotalValue)},_iterateSeriesTemplates:function(t){n.each(this.viewModel.SeriesTemplates,function(n,r){t(i,r)})},_isSelectionTagsRequired:function(){return!1}})}(jQuery,DevExpress),function(n,t,i){var f=t.dashboard,u=f.data,e=u.formatter,r={SeriesOnly:"SeriesOnly",ArgumentsOnly:"ArgumentsOnly",ArgumentsAndSeries:"ArgumentsAndSeries",ElementSelection:"ElementSelection"};u.pieDataController=u.chartDataControllerBase.inherit({ctor:function(n){this.callBase(n),this.multiData&&this.viewModel&&(this._measures=this.multiData?this.multiData.getMeasures():[],this._argumentAxisPoints=this.getArgumentAxisPoints(),this.settingsType=this.viewModel.ProvideValuesAsArguments?r.SeriesOnly:this.viewModel.SummarySeriesMember?this.viewModel.ContentDescription&&this.viewModel.ContentDescription.ElementSelectionEnabled?r.ElementSelection:r.ArgumentsAndSeries:r.ArgumentsOnly)},getPointDisplayTexts:function(n,t,i){var f=this,o=n.dataMembers[0],u=this.multiData.getMeasureById(o);return{argumentText:this.settingsType===r.SeriesOnly?u.name:f.getTitle(n.axisPoint,"\n"),valueText:u.format(t),percentText:e.formatNumeric(i,this.viewModel.PercentFormatViewModel)}},createDataSource:function(t,i){var u=this,o=u.viewModel,f=[],e;return u.settingsType===r.SeriesOnly?(e=u._getArgumentAxis().getRootPoint(),n.each(u._measures,function(i,r){var s=r.id;n.inArray(s,o.ValueDataMembers)!==-1&&f.push({x:r.name,y:u._getCrossSlice(e,t).getMeasureValue(s).getValue(),tag:{axisPoint:e,dataMembers:[s],colorMeasureId:u._getColorDataMemberByIndex(i)}})})):n.each(u._argumentAxisPoints,function(n,r){f.push({x:u.getArgument(r),y:u._getCrossSlice(r,t).getMeasureValue(i).getValue(),tag:{axisPoint:r,dataMembers:[i],colorMeasureId:u._getColorDataMemberByMeasureId(i)}})}),f},getValueDataMembers:function(){var n=this.viewModel;switch(this.settingsType){case r.SeriesOnly:return["SeriesOnlyInternalFakeValueDataMember"];case r.ArgumentsOnly:case r.ArgumentsAndSeries:return n.ValueDataMembers;case r.ElementSelection:return[n.ValueDataMembers[n.ContentDescription.SelectedElementIndex]]}},getValueDisplayNames:function(n,t){var i=this.viewModel;switch(this.settingsType){case r.ArgumentsOnly:return i.ValueDisplayNames[t];case r.SeriesOnly:case r.ArgumentsAndSeries:case r.ElementSelection:return this.getTitle(n)}},_getColorDataMemberByMeasureId:function(t){var u=this.viewModel,f;switch(this.settingsType){case r.ArgumentsOnly:return f=n.inArray(t,u.ValueDataMembers),this._getColorDataMemberByIndex(f);case r.ArgumentsAndSeries:return this._getColorDataMemberByIndex(0);case r.ElementSelection:return this._getColorDataMemberByIndex(u.ContentDescription.SelectedElementIndex);default:return i}},_getColorDataMemberByIndex:function(n){var t=this.viewModel.ColorDataMembers;return t.length==1?t[0]:t[n]}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,r=u.data,f=r.localizer;r.VALUE_EXPR="value",r.ALL_ELEMENT={value:{all:!0},text:"(All)",isAll:!0},r.filterElementDataController=r.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.dataSource=[],this.selection=[],this.update(n?n.selectedValues:i)},getAllItemIndex:function(){return this.dataSource?n.inArray(r.ALL_ELEMENT,this.dataSource):-1},isAllSelected:function(){return this.dataSource&&this.selection?this.dataSource.length===this.selection.length:!1},update:function(t){this.dataSource=[],this.selection=[];var i=this,f=i.viewModel&&i.viewModel.ShowAllValue&&!i.isMultiselectable(),e=i.multiData?i.multiData.getAxis("Default").getPoints():[];f&&i.dataSource.push(r.ALL_ELEMENT),n.each(e,function(n,f){var e={},o=f.getUniquePath();e[r.VALUE_EXPR]=o,e.text=i.getTitle(f),i.dataSource.push(e),u.utils.getValueIndex(t,o)>=0&&i.selection.push(e)}),f&&i.dataSource.length-1===i.selection.length&&i.selection.splice(0,0,r.ALL_ELEMENT)},getInteractionValues:function(t){var u=this,f=[],e=!u.isMultiselectable()&&n.inArray(r.ALL_ELEMENT,t)>=0?u.dataSource:t;return n.each(e,function(n,t){t!==r.ALL_ELEMENT&&f.push(u._getDataValue(t))}),f},_getDataValue:function(n){var t=n&&n.itemData||n;return t[r.VALUE_EXPR]||null}}),r.comboBoxDataController=r.filterElementDataController.inherit({ComboBoxType:{Standard:"Standard",Checked:"Checked"},ctor:function(n){this.callBase(n)},isMultiselectable:function(){return this.viewModel&&this.viewModel.ComboBoxType==this.ComboBoxType.Checked}}),r.listBoxDataController=r.filterElementDataController.inherit({ListBoxType:{Checked:"Checked",Radio:"Radio"},ctor:function(n){this.callBase(n)},isMultiselectable:function(){return!this.viewModel||this.viewModel.ListBoxType==this.ListBoxType.Checked}}),r.treeViewDataController=r.filterElementDataController.inherit({ctor:function(n){this.callBase(n)},isMultiselectable:function(){return!0},getAllItemIndex:function(){return-1},isAllSelected:function(){return!1},update:function(t){var i=this,f=u.utils.wrapHash(t),e=i.multiData?i.multiData.getAxis("Default").getRootPoint().getChildren():{},o=0,s=function(n){return{key:o++,value:n.getUniqueValue(),text:n.getDisplayText(),expanded:i.viewModel.AutoExpandNodes}},r=function(t,i,u){var o=t.getChildren(),c=o&&o.length!==0,e=s(t),h=u.slice();h.push(e.value),i.push(e),c?(e.items=[],n.each(o,function(n,t){r(t,e.items,h)})):e.selected=!!f[h]};i.dataSource=[],i.selection=[],n.each(e,function(n,t){r(t,i.dataSource,[])})},getInteractionValues:function(t,r){for(var e=this,c=u.utils.wrapHash(r),f=t.length?t[0].parent:i,o=[],s=[],h=function(t,i){n.each(t,function(n,t){var r=i.slice(),f=e._getDataValue(t),u;r.push(f),t.items.length?h(t.items,r):(u=!!c[r],(t.selected&&!u||!t.selected&&u)&&s.push(r))})};f;)o.splice(0,0,e._getDataValue(f)),f=f.parent;return h(t,o),s}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.choroplethMapDataController=r.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.axisHash={},this.isEmpty=!0,this._prepare()},_prepare:function(){var i=this.viewModel.AttributeDimensionId,r=this.multiData.getAxis(),t=i?r.getPointsByDimension(i):[],n;for(this.isEmpty=t.length==0,n=0;n<t.length;n++)this.axisHash[t[n].getValue()]=t[n]},hasRecords:function(){return!this.isEmpty},getDeltaValue:function(n,t){var i=this.axisHash[n];return i?this.multiData.getSlice(i).getDeltaValue(t):null},getValue:function(n,t){var i=this._getMeasureValue(n,t);return i?i.getValue():null},getDisplayText:function(n,t){var i=this._getMeasureValue(n,t);return i?i.getDisplayText():null},getUniqueValue:function(n){var t=this.axisHash[n];return t?t.getUniqueValue():null},getMinMax:function(t){var f=this,r,u,i;return n.each(this.axisHash,function(n,e){i=f.multiData.getSlice(e).getMeasureValue(t).getValue(),(!r||i<r)&&(r=i),(!u||i>u)&&(u=i)}),{min:r,max:u}},getMeasureDescriptorById:function(n){return this.multiData.getMeasureById(n)},_getMeasureValue:function(n,t){var i=this.axisHash[n];return i?this.multiData.getSlice(i).getMeasureValue(t):null}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.geoPointMapDataControllerBase=r.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.axisPoints=[],this._prepare()},getPoint:function(n){var t=this._getPointsCount(n);return{lat:this._getLatitudeValue(n),lon:this._getLongitudeValue(n),latSel:this._getLatitudeUniqueValue(n),lonSel:this._getLongitudeUniqueValue(n),pointsCount:t,tooltipDimensions:t<2?this._getTooltipDimensions(n):[],tooltipMeasures:this._getTooltipMeasures(n)}},getCount:function(){return this.axisPoints.length},_prepare:function(){var n=this._getAxisPointDimensionDescriptorId(),t=this.multiData.getAxis();this.axisPoints=n?t.getPointsByDimension(n):[]},_getAxisPointDimensionDescriptorId:function(){return this.viewModel.LongitudeDataId},_getMeasure:function(n,t){var i=this._getAxisPoint(n);return this.multiData.getSlice(i).getMeasureValue(t)},_getMeasureValue:function(n,t){return this._getMeasure(n,t).getValue()},_getMeasureDisplayText:function(n,t){return this._getMeasure(n,t).getDisplayText()},_getLatitude:function(n){var t=this._getAxisPoint(n);return t.getParentByDimensionId(this.viewModel.LatitudeDataId)},_getLatitudeValue:function(n){return this._getLatitude(n).getValue()},_getLatitudeUniqueValue:function(n){return this._getLatitude(n).getUniqueValue()},_getLongitude:function(n){var t=this._getAxisPoint(n);return t.getParentByDimensionId(this.viewModel.LongitudeDataId)},_getLongitudeValue:function(n){return this._getLongitude(n).getValue()},_getLongitudeUniqueValue:function(n){return this._getLongitude(n).getUniqueValue()},_getPointsCount:function(n){var t=this._getAxisPoint(n).getParentByDimensionId(this.viewModel.LongitudeDataId);return this.multiData.getSlice(t).getMeasureValue(this.viewModel.PointsCountDataId).getValue()},_getTooltipDimensions:function(t){var r=this.viewModel.TooltipDimensions,f=[],u,e,i;if(r)for(i=0;i<r.length;i++)u=this._getAxisPoint(t).getDisplayTextsByDimensionId(r[i].DataId),e=n.grep(u,function(t,i){return i===n.inArray(t,u)}),f.push({caption:r[i].Caption,values:e});return f},_getTooltipMeasures:function(n){var i=this.viewModel.TooltipMeasures,r=[],t;if(i)for(t=0;t<i.length;t++)r.push({caption:i[t].Caption,value:this._getMeasureDisplayText(n,i[t].DataId)});return r},_getAxisPoint:function(n){return this.axisPoints[n]}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.geoPointMapDataController=r.geoPointMapDataControllerBase.inherit({ctor:function(n){this.callBase(n)},getPoint:function(t){return n.extend(!0,this.callBase(t),{text:this._getMeasureDisplayText(t,this.viewModel.ValueId)})}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.bubbleMapDataController=r.geoPointMapDataControllerBase.inherit({ctor:function(n){this.callBase(n)},getPoint:function(t){return n.extend(!0,this.callBase(t),{weight:this._getMeasureValue(t,this.viewModel.WeightId),color:this._getMeasureValue(t,this.viewModel.ColorId),weightText:this._getMeasureDisplayText(t,this.viewModel.WeightId),colorText:this._getMeasureDisplayText(t,this.viewModel.ColorId)})},formatColor:function(n){return this.multiData.getMeasureById(this.viewModel.ColorId).format(n)}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.pieMapDataController=r.geoPointMapDataControllerBase.inherit({ctor:function(n){this.callBase(n)},getPoint:function(t,i){var o=this.callBase(t),u=this.viewModel,l=u.Values&&u.Values.length>0,s,f,h,e,c,r;return u.ArgumentDataId?(s=this._getAxisPoint(t),f=s.getUniqueValue(),h=s.getDisplayText(),l?(r=u.Values[0],e=this._getMeasureValue(t,r),c=this._getMeasureDisplayText(t,r)):e=o.pointsCount>1?o.pointsCount:1):(r=u.Values[i],f=this.multiData.getMeasureById(r).name,h=f,e=this._getMeasureValue(t,r),c=this._getMeasureDisplayText(t,r)),n.extend(!0,o,{argument:f,argumentDisplayText:h,value:e,valueDisplayText:c})},_getAxisPointDimensionDescriptorId:function(){return this.viewModel.ArgumentDataId||this.viewModel.LongitudeDataId}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data,f={Dimension:"Dimension",Measure:"Measure",Delta:"Delta",Sparkline:"Sparkline"},e={ActualValue:"ActualValue",AbsoluteVariation:"AbsoluteVariation",PercentVariation:"PercentVariation",PercentOfTarget:"PercentOfTarget"};u.gridDataController=u.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.hasColumns=!1,this._hasColumnPoints=i,this._hasSparklinePoints=i,this._gridAxisPoints=i,this._gridSparklineAxisPoints=i,this._columnRepository={},this._selectionMembers=[],this._initialize()},_initialize:function(){if(this.multiData){var n=this,i=n.multiData,t=n.viewModel,u=t.ColumnAxisName,r=t.SparklineAxisName;n._hasColumnPoints=!!t.HasDimensionColumns,n._hasSparklinePoints=!!r,n._hasColumnPoints&&(n._gridAxisPoints=i.getAxis(u).getPoints(!0)),n._hasSparklinePoints&&(n._gridSparklineAxisPoints=i.getAxis(r).getPoints()),n._prepareColumns()}},getDataSource:function(){var i=this,e=[],h=i._gridAxisPoints,o=i._columnRepository,t,s=u.dataController.DATA_POSTFIX,r,c,f;if(i._hasColumnPoints)for(f=0;f<h.length;f++)t={index:f},n.each(o,function(n,u){r=i._getValueItem(u,f),t[n]=r.getValue(),t[n+s]=r}),e.push(t);else i._hasColumns&&(t={index:0},n.each(o,function(n,u){r=i._getValueItem(u),t[n]=r.getValue(),t[n+s]=r}),e.push(t));return{store:{type:"array",data:e,key:"index"}}},getSelectionValues:function(t){var f=this,i,e,s=[],o=f._selectionMembers,u;return t.length>o.length&&(t=t.slice(-o.length)),n.each(f._gridAxisPoints,function(h,c){if(u=!1,n.each(o,function(n,o){if(i=f._findAxisPoint(o,c),i&&t.length>n){if(!r.utils.checkValuesAreEqual(i.getUniqueValue(),t[n]))return u=!1,!1;e=i}u=!0}),u&&e){s=e.getUniquePath();return}}),s},getSelectedRowKeys:function(t){var i=this,f=[],u=i._selectionMembers,e=function(n,t){for(var e,f=0;f<t.length;f++)if(e=i._findAxisPoint(u[f],n),!r.utils.checkValuesAreEqual(e.getUniqueValue(),t[f]))return!1;return!0};return n.each(i._gridAxisPoints,function(i,r){n.each(t,function(n,t){if(t.length>u.length&&(t=t.slice(-u.length)),e(r,t)){f.push(i);return}})}),f},getDimensionValues:function(n){return this._gridAxisPoints[n].getUniquePath()},_getValueItem:function(n,t){var i=this,r=n.column;switch(r.ColumnType){case f.Measure:return i._getMeasureValue(n,t);case f.Delta:return i._getDeltaValue(n,t);case f.Sparkline:return i._getSparklineCellValues(n,t);case f.Dimension:default:return i._getDimensionCellValue(n,t)}},_getMeasureValue:function(n,t){return n.column.DisplayMode==="Bar"?this._getBarCellValue(n,t):this._getMeasureCellValue(n,t)},getTotalValue:function(n){return this.multiData.getMeasureValue(n).getDisplayText()},_getBarCellValue:function(n,t){var u=this,i=this.multiData.getMeasureValueByAxisPoints(n.columnName,u._getPointArray(t)),r=n.barCalculator;return r.addValue(i),{getValue:function(){return i.getValue()},getData:function(){return{zeroValue:r.getZeroPosition(),normalizedValue:r.getNormalizedValue(t||0),text:i.getDisplayText()}},getStyleSettingsInfo:function(){return u._getStyleSettingsInfo(n.columnName,t)}}},_getMeasureCellValue:function(n,t){var i=this,u=n.columnName,r=i.multiData.getMeasureValueByAxisPoints(u,i._getPointArray(t)),f=r.getValue();return{getValue:function(){return f},getData:function(){return{value:r.getValue(),displayText:r.getDisplayText()}},getStyleSettingsInfo:function(){return i._getStyleSettingsInfo(u,t)}}},_getDimensionCellValue:function(n,t){var u=this,e=n.columnName,f=i,o=i,r=function(){return f===i&&(f=u._findAxisPoint(e,u._getColumnAxisPoint(t))||{getValue:function(){return i},getUniqueValue:function(){return i},getDisplayText:function(){return""}}),f};return{getValue:function(){return r().getValue()},getUniqueValue:function(){return r().getUniqueValue()},getData:function(){return{value:r().getValue(),displayText:r().getDisplayText()}},getStyleSettingsInfo:function(){return u._getStyleSettingsInfo(e,t)}}},_getStyleSettingsInfo:function(t,i){var u=this,f=[],e={rowIndex:i};return u.cfModel&&(f=n.grep(u.cfModel.RuleModels,function(n){return n.ApplyToRow||n.ApplyToDataId===t})),u._getStyleSettingsInfoCore(e,f,u.viewModel.ColumnAxisName,r.itemDataAxisNames.defaultAxis)},_getStyleIndexes:function(n,t,r){var o=this,u,f,e=[];return u=t.rowIndex!==i?o._getAxisPoint(t.rowIndex,n.CalcByDataId):i,u&&r.push(u),f=o._getMeasureValueByAxisPoints(r,n.FormatConditionMeasureId),f&&(e=e.concat(f)),e},_getAxisPoint:function(n,t){var r=n!==i?this._gridAxisPoints[n]:i,u=r?this._findAxisPoint(t,r):i;return u||r},_getDeltaValue:function(n,t){return n.column.DisplayMode==="Bar"?this._getBarCellValue(n,t):this._getDeltaCellValue(n,t)},_getDeltaCellValue:function(n,t){var i=this,r=null,u=null,l=null,o=n.column,f=n.columnName,s=o.DeltaValueType,h=o.IgnoreDeltaColor,c=i.multiData.getDeltaById(f),e,a=function(t,r){return i._getStyleSettingsInfo(n.columnName,r)};return c?(r=i.multiData.getDeltaValueByAxisPoints(f,i._getPointArray(t)),u=i._getDeltaValueItem(r,s),{getValue:function(){return u.getValue()},getData:function(){return{type:i._convertIndicatorType(r.getIndicatorType().getValue()),hasPositiveMeaning:r.getIsGood().getValue(),text:{value:u.getDisplayText(),useDefaultColor:h}}},getStyleSettingsInfo:function(){return i._getStyleSettingsInfo(n.columnName,t)}}):(e=i.multiData.getMeasureValueByAxisPoints(f,i._getPointArray(t)),{getValue:function(){return e.getValue()},getData:function(){return{type:null,hasPositiveMeaning:null,text:{value:e.getDisplayText(),useDefaultColor:null}}},getStyleSettingsInfo:function(){return i._getStyleSettingsInfo(n.columnName,t)}})},_getDeltaValueItem:function(n,t){switch(t){case e.ActualValue:return n.getActualValue();case e.AbsoluteVariation:return n.getAbsoluteVariation();case e.PercentVariation:return n.getPercentVariation();case e.PercentOfTarget:return n.getPercentOfTarget()}},_getSparklineCellValues:function(t,i){var r=this,u=t.columnName,f=r.multiData.getMeasureById(u),e=r._getPointArray(i),o=function(t){var i=[];return r._gridSparklineAxisPoints?n.each(r._gridSparklineAxisPoints,function(n,f){i.push(t(r.multiData.getMeasureValueByAxisPoints(u,e.concat(f))))}):i.push(t(r.multiData.getMeasureValueByAxisPoints(u,e))),i},s=o(function(n){var t=n.getValue();return t||0});return{getValue:function(){return s},getData:function(){var n=o(function(n){return n}),i=n[0].getValue(),u=n[n.length-1].getValue();return{sparkline:r._generateSparklineOptions(s,t.column.SparklineOptions,f.format),startText:i?n[0].getDisplayText():f.format(0),endText:u?n[n.length-1].getDisplayText():f.format(0)}},getStyleSettingsInfo:function(){return r._getStyleSettingsInfo(t.columnName,i)}}},_findAxisPoint:function(n,t){if(t)while(t.getDimension()&&t.getDimension().id!==n)t=t.getParent();return t&&t.getParent()?t:null},_getColumnAxisPoint:function(n){return this._hasColumnPoints?this._gridAxisPoints[n]:i},_getPointArray:function(n){var t=this._getColumnAxisPoint(n),i=[];return t&&i.push(t),i},_prepareColumns:function(){var t=this,f=t.viewModel.Columns||[],e=t.viewModel.SelectionDataMembers,i,r;t._hasColumns=f.length>0,n.each(f,function(f,o){i=o.DataId,r=o.BarViewModel,t._columnRepository[i]={columnName:i,column:o,barCalculator:r?new u.gridBarCalculator({showZeroLevel:r.AlwaysShowZeroLevel}):null},n.inArray(i,e)!==-1&&t._selectionMembers.push(i)})}})}(jQuery,DevExpress),function(n,t,i){var u=t.utils,f=t.dashboard,r=f.data;r.kpiDataController=r.dataControllerBase.inherit({ctor:function(n){this.callBase(n),this.setSourceItemProperties=i,this._axisPoints=i,this._sparklineAxisPoints=i,this._initialize()},getDataSource:function(){var n=this,f=n._axisPoints,t,u=[],i,r;return n._iterateKpiItems(function(e){if(i=e,n._hasSeriesPoints())for(r=0;r<f.length;r++)t=n._createSourceItem(f[r],i),u.push(t);else t=n._createSourceItem(null,i),t.title=i.Title,u.push(t)}),u},_createSourceItem:function(n,t){var r=this,f=r._getDeltaValue(n,t),h=r.multiData.getMeasureById(t.ID),o=r._getMeasureValue(n,t),s=r._getSparklineValues(n,t),e,c=function(){return{getActualValue:function(){return f.getActualValue().getValue()},getTargetValue:function(){return f.getTargetValue().getValue()},getIndicatorType:function(){return r._convertIndicatorType(f.getIndicatorType().getValue())},getIsGood:function(){return f.getIsGood().getValue()},getMainValueText:function(){return f.getDisplayValue().getDisplayText()},getSubValue1Text:function(){return f.getDisplaySubValue1().getDisplayText()},getSubValue2Text:function(){return f.getDisplaySubValue2().getDisplayText()},getMeasureValue:function(){return o.getValue()},getMeasureDisplayText:function(){return o.getDisplayText()},getSparklineOptions:function(){var n=i;return s&&(n=r._generateSparklineOptions(s,t.SparklineOptions,h.format)),n},getSelectionValues:function(){return n?n.getUniquePath():null},getCaptions:function(){return n?n.getDisplayPath():[]},getGaugeRange:function(){return r._getGaugeRange(t)}}};return e={onIncidentOccurred:u.renderHelper.widgetIncidentOccurred},r.setSourceItemProperties(e,t,c()),e},_getDeltaValue:function(n,t){var i=this.multiData,r=t.ID;return n?i.getDeltaValueByAxisPoints(r,[n]):i.getDeltaValue(r)},_getMeasureValue:function(n,t){var i=this.multiData,r=t.ID;return n?i.getMeasureValueByAxisPoints(r,[n]):i.getMeasureValue(r)},_getSparklineValues:function(t,i){if(this._hasSparklinePoints()){var r=this,u=[],f,e=i.ID,o=r.multiData;return n.each(r._sparklineAxisPoints,function(n,i){f=t?o.getMeasureValueByAxisPoints(e,[t,i]):o.getMeasureValueByAxisPoints(e,[i]),u.push(f.getValue()||0)}),u}},_initialize:function(){if(this.multiData){var n=this,t=n.viewModel,r=n.multiData;n._axisPoints=n._hasSeriesPoints()?r.getAxis(t.SeriesAxisName).getPoints():i,n._sparklineAxisPoints=n._hasSparklinePoints()?r.getAxis(t.SparklineAxisName).getPoints():i}},_hasSeriesPoints:function(){return!!this.viewModel.SeriesAxisName},_hasSparklinePoints:function(){return!!this.viewModel.SparklineAxisName},_iterateKpiItems:function(){},_getGaugeRange:function(){}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.cardDataController=r.kpiDataController.inherit({ctor:function(n){this.callBase(n)},_iterateKpiItems:function(t){var i=this;i.viewModel&&n.each(i.viewModel.Cards,function(n,i){t(i)})}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=u.utils,r=u.data;r.gaugeDataController=r.kpiDataController.inherit({ctor:function(n){this.callBase(n),this._gaugeRanges={}},_iterateKpiItems:function(t){var i=this;i.viewModel&&n.each(i.viewModel.Gauges,function(n,i){t(i)})},_getGaugeRange:function(n){var i=n.ID,t=this._gaugeRanges[i],u;return t||(u=new r.gaugeRangeCalculator({values:this._getGaugeValues(n),gaugeModel:{Type:this._gaugeViewType,MinValue:n.MinValue,MaxValue:n.MaxValue}}),t=u.getGaugeRange(),this._gaugeRanges[i]=t),t},_getGaugeValues:function(t){var i=this.multiData,r=[],u=this._axisPoints||[null],e=function(n){var u=n?i.getMeasureValueByAxisPoints:i.getMeasureValue;r.push(u.call(i,t.ID,[n]).getValue())},o=function(n){var f=n?i.getDeltaValueByAxisPoints:i.getDeltaValue,u=f.call(i,t.ID,[n]),e=u.getActualValue(),o=u.getTargetValue();r.push(e.getValue()),r.push(o.getValue())},s=t.DataItemType===f.KpiValueMode.Measure?e:o;return n.each(u,function(n,t){s(t)}),r},_initialize:function(){this.callBase(),this._gaugeViewType=this.viewModel?this.viewModel.ViewType:i}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=DevExpress.require("/class"),r=u.data;r.dataStorage=f.inherit({ctor:function(n){this._sliceRep=this._createSliceRep(n)},_createSliceRep:function(t){var u=t.EncodeMaps,e={},f={},o=t.Slices,s=function(n,t){return u[n][t]},h=function(t,r){var o=e[t],s,c,h;return o||(o={},s=u[t],s||(s=[],u[t]=s),f[t]=s.length,n.each(s,function(n,t){o[t]=n}),e[t]=o),c=o[r],c===i&&(h=f[t],o[r]=h,f[t]=++h,u[t].push(r)),o[r]};return new r.dataStorage.sliceRepository(o,s,h)},_initialize:function(){},getSlices:function(){return this._sliceRep.getAll()},getSlice:function(n){return this._sliceRep.get(n)},getSliceKey:function(n){return this._sliceRep.getKey(n)},getSliceByIds:function(n){return this._sliceRep._getByKeyIds(n)},getOrCreateSlice:function(n){return this._sliceRep.getOrCreate(n)},findDataRowKey:function(n,t){return this._sliceRep.findDataRowKey(n,t)},getCrossValue:function(n,t){return this._sliceRep.getCrossValue(n,t)},getKeyValue:function(n,t){return this._sliceRep.getKeyValue(n,t)},getValue:function(n,t){return this._sliceRep.getValue(n,t)},insert:function(t){var u=this,f=t.getSlices(),r={};return n.each(f,function(n,t){var f=t.getKeyIds(),i=u.getOrCreateSlice(f);r[i.getKey()]=i.append(t)}),r}}),r.dataStorage.dataSlice=DevExpress.require("/class").inherit({ctor:function(t,i,r,u){var f={},e={};n.each(i.KeyIds,function(n,t){f[t]=n}),n.each(i.ValueIds,function(n,t){e[t]=n}),this._sliceKey=t,this._sliceDTO=i,this._decode=r,this._encode=u,this._keyIndexById=f,this._valueIdByKey=e},getKey:function(){return this._sliceKey},getValue:function(n,t){var r=this,o=r._sliceDTO,u=o.ValueIds[t],f=r._getRowDTO(n),e=!!f&&u>=0?f[u]:null;return e===i?null:e},getRowValues:function(t){var i=this,r={},u=i._valueIdByKey,f=i._getRowDTO(t);return n.each(f,function(n,t){r[u[n]]=t}),r},getRowKeyValues:function(t){var i=this,u=i.getKeyIds(),r={};return n.each(u,function(n,u){r[u]=i.getKeyValue(t,u)}),r},_getRowDTO:function(n){var t=this;return t._sliceDTO.Data[t._stringifyKey(n)]},getKeyValue:function(n,t){if(t===i)return null;var r=this,u=r._keyIndexById[t];return r._decode(t,n[u])},getKeyIds:function(){var n=this;return n._sliceDTO.KeyIds},forEach:function(t){var i=this;n.each(i._sliceDTO.Data,function(n){t({sliceKey:i._sliceKey,rowKey:i._parseKey(n)})})},append:function(t){var i=this,r=[],u={forEach:function(t){n.each(r,function(n,r){t({sliceKey:i._sliceKey,rowKey:r})})}};return t.forEach(function(n){var u=t.getRowKeyValues(n.rowKey),f=t.getRowValues(n.rowKey),e=i.addRow(u,f);r.push(e)}),u},addRow:function(t,r){var u=this,f=[],e=u._sliceDTO.ValueIds,s=u._encode,o;return n.each(t,function(n,t){f.push(s(n,t))}),o={},n.each(r,function(t,r){var u=e[t],f;u===i&&(f=0,n.each(e,function(){f++}),u=f,e[t]=u),o[u]=r}),u._sliceDTO.Data[u._stringifyKey(f)]=o,f},_parseKey:function(n){return JSON.parse(n)},_stringifyKey:function(n){return"["+n+"]"}}),r.dataStorage.sliceRepository=DevExpress.require("/class").inherit({ctor:function(n,t,i){this._sliceListDTO=n,this._sliceList=[],this._rowKeyConvertMap={},this._sliceJoinCache={},this._decode=t,this._encode=i,this._initialize(t)},_initialize:function(t){var i=this;n.each(i._sliceListDTO,function(n,u){var f=new r.dataStorage.dataSlice(n,u,t,i._encode);i._sliceList.push(f)})},getAll:function(){return this._sliceList},getKey:function(t){var i=this,r=i._getByKeyIds(t);return r?n.inArray(r,i._sliceList):-1},get:function(n){return this._sliceList[n]},getOrCreate:function(n){var t=this,i=t._getByKeyIds(n),u;return i||(u={KeyIds:n,ValueIds:{},Data:{}},n.length==0&&(u.Data["[]"]={}),i=new r.dataStorage.dataSlice(t._sliceList.length,u,t._decode,t._encode),t._sliceList.push(i)),i},findDataRowKey:function(n,t){for(var f=this,r=[],u=f._getConvertMap(t.sliceKey,n),i=0;i<u.length;i++)r.push(t.rowKey[u[i]]);return{sliceKey:n,rowKey:r}},getCrossValue:function(n,t){var e=this,o=n[0],u=n[1],s=u?e._joinSliceKey(o.sliceKey,u.sliceKey):o.sliceKey,l=null,i,r,h;if(s>=0){var f=[],a=e._getConvertMap(o.sliceKey,s),c=u?e._getConvertMap(u.sliceKey,s):null;for(i=0;i<a.length;i++)r=a[i],h=r>=0?o.rowKey[r]:f[i],f.push(h);if(c!=null)for(i=0;i<c.length;i++)r=c[i],h=r>=0?u.rowKey[r]:f[i],f[i]=h;l=e.get(s).getValue(f,t)}return l},getKeyValue:function(n,t){var u=this,i=u.get(n.sliceKey),r=null;return i&&(r=i.getKeyValue(n.rowKey,t)),r},getValue:function(n,t){var u=this,i=u.get(n.sliceKey),r=null;return i&&(r=i.getValue(n.rowKey,t)),r},_joinSliceKey:function(n,t){var r=this,f=[n,t],u;if(t<n&&(f=f.reverse()),u=r._sliceJoinCache[f],u==i){var e=r.get(n),o=r.get(t),s=e.getKeyIds().concat(o.getKeyIds());u=r.getKey(s),r._sliceJoinCache[f]=u}return u},_getByKeyIds:function(t){var r=this,i=null;return n.each(r._sliceList,function(n,r){if(u.utils.areNotOrderedListsEqual(r.getKeyIds(),t))return i=r,!1}),i},_getConvertMap:function(t,i){var u=this,f=[t,i],r=u._rowKeyConvertMap[f],e,o;return r||(e=u.get(t),o=u.get(i),r=[],n.each(o.getKeyIds(),function(t,i){r.push(n.inArray(i,e.getKeyIds()))}),u._rowKeyConvertMap[f]=r),r}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.dataStorageSpecialIds={DisplayText:"_DisplayText_{4873F9E9-65B2-4307-BB25-BFD09F6A2E54}",Value:"_Value_{E5597004-313E-4F79-B02E-DEA46EEB1BFE}"},r.pivotAreaNames={columns:"Columns",rows:"Rows"},r.itemDataAxisBuilder={build:function(t,i,f,e,o,s){var l=this,a=[];n.each(f,function(n,t){a.push(t.id)});var v=l._getKeyIdsList(a),c={},h=[];return n.each(v,function(n,r){var u=r.slice(-1),s=u.length>0?u[0]:null,f=i.getSliceKey(u),c=i.getOrCreateSlice(r),e=n-1;h.push({axisName:t,metaData:o,dataSlice:c,level:e,getMetaDataValue:function(n,t){if(f<0)return null;var r=i.findDataRowKey(f,n);return i.getValue(r,t)},getBaseValue:function(n){return e>=0?i.getKeyValue(n,s):null}})}),n.each(v,function(n,t){if(!(t.length>0)||l._isSortOrderSlice(t,e)){var a=h[t.length],f=a.dataSlice,o=f&&s?s[f.getKey()]:f;o&&o.forEach(function(n){var t=null,f=null,a=!1,e,o,s,l,v,y;do{if(e=n.rowKey.length,t=c[n.rowKey],o=!1,s=!!t,s||(l=h[e],o=l.getBaseValue(n)===u.utils.specialValues.olapNullValueGuid,t=new r.itemDataAxisPoint(l,n),c[n.rowKey]=t),f!=null&&(v=a?t._getRaggedChildren():t.getChildren(),v.push(f),f._setParent(t)),s||e==0)break;y=h[e-1].dataSlice.getKey(),n=i.findDataRowKey(y,n),f=t,a=o}while(1)})}}),c[[]]},_getKeyIdsList:function(t){var i=[[]];return n.each(t,function(n){var u=t.slice(0,n+1);i.push(u)}),i},_isSortOrderSlice:function(t,i){var r=!i||i.length==0;return r||n.each(i,function(n,i){return r=r||u.utils.areNotOrderedListsEqual(t,i),!r}),r}}}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=DevExpress.require("/class"),r=u.data;r.deltaValueNames={actualValue:"actualValue",targetValue:"targetValue",absoluteVariation:"absoluteVariation",percentVariation:"percentVariation",percentOfTarget:"percentOfTarget",mainValue:"mainValue",subValue1:"subValue1",subValue2:"subValue2",isGood:"isGood",indicatorType:"indicatorType"},r.deltaValueTypes={actualValue:"ActualValue",absoluteVariation:"AbsoluteVariation",percentVariation:"PercentVariation",percentOfTarget:"PercentOfTarget"},r.itemMetaData=f.inherit({ctor:function(n){this._metaData=n,this._data={}},initialize:function(){var n=this._data,t=this._metaData;n.measuresInfo=this._createMeasureInfo(t.MeasureDescriptors),n.colorMeasuresInfo=this._createMeasureInfo(t.ColorMeasureDescriptors),n.conditionalFormattingMeasuresInfo=this._createMeasureInfo(t.FormatConditionMeasureDescriptors),n.deltaInfo=this._createDeltaInfo(),n.axesInfo=this._createAxesInfo(),n.dataSourceColumns=this._metaData.DataSourceColumns},_createMeasureInfo:function(t){var u=[],f={};return t&&n.each(t,function(n,t){var e={id:t.ID,name:t.Name,dataMember:t.DataMember,summaryType:t.SummaryType,format:function(n){var u=t.Format,f=i;return u&&(f=r.formatter.format(n,u)),f}};u.push(e),f[e.id]=t.Format}),{measures:u,formatByMeasureId:f}},_createDeltaInfo:function(){var u=this._metaData,t=r.deltaValueNames,i=r.deltaValueTypes,f=[],e={},o={};return u.DeltaDescriptors&&n.each(u.DeltaDescriptors,function(n,r){var h={id:r.ID,name:r.Name,actualMeasureId:r.ActualMeasureID,targetMeasureId:r.TargetMeasureID},u={},s={};f.push(h),u[t.actualValue]=r.ActualValueID,u[t.targetValue]=r.TargetValueID,u[t.absoluteVariation]=r.AbsoluteVariationID,u[t.percentVariation]=r.PercentVariationID,u[t.percentOfTarget]=r.PercentOfTargetID,u[t.isGood]=r.IsGoodID,u[t.indicatorType]=r.IndicatorTypeID,s[t.actualValue]=r.ActualValueFormat,s[t.targetValue]=r.ActualValueFormat,s[t.absoluteVariation]=r.AbsoluteVariationFormat,s[t.percentVariation]=r.PercentVariationFormat,s[t.percentOfTarget]=r.PercentOfTargetFormat;switch(r.DeltaValueType){case i.actualValue:u[t.mainValue]=u[t.actualValue],u[t.subValue1]=u[t.absoluteVariation],u[t.subValue2]=u[t.percentVariation],s[t.mainValue]=s[t.actualValue],s[t.subValue1]=s[t.absoluteVariation],s[t.subValue2]=s[t.percentVariation];break;case i.absoluteVariation:u[t.mainValue]=u[t.absoluteVariation],u[t.subValue1]=u[t.actualValue],u[t.subValue2]=u[t.percentVariation],s[t.mainValue]=s[t.absoluteVariation],s[t.subValue1]=s[t.actualValue],s[t.subValue2]=s[t.percentVariation];break;case i.percentVariation:u[t.mainValue]=u[t.percentVariation],u[t.subValue1]=u[t.actualValue],u[t.subValue2]=u[t.absoluteVariation],s[t.mainValue]=s[t.percentVariation],s[t.subValue1]=s[t.actualValue],s[t.subValue2]=s[t.absoluteVariation];break;case i.percentOfTarget:u[t.mainValue]=u[t.percentOfTarget],u[t.subValue1]=u[t.actualValue],u[t.subValue2]=u[t.absoluteVariation],s[t.mainValue]=s[t.percentOfTarget],s[t.subValue1]=s[t.actualValue],s[t.subValue2]=s[t.absoluteVariation]}e[h.id]=u,o[h.id]=s}),{deltas:f,valueIdsByDeltaId:e,formatsByDeltaId:o}},_createAxesInfo:function(){var t=this._metaData,f={},s=t.DimensionDescriptors||{},e={},o={},u={};return n.each(s,function(t,u){var s=[];u&&n.each(u,function(n,t){var u={id:t.ID,name:t.Name,dataMember:t.DataMember,dateTimeGroupInterval:t.DateTimeGroupInterval,textGroupInterval:t.TextGroupInterval,getFormat:function(){return r.formatter.convertToFormat(t.Format)},format:function(n){var u=t.Format,f=i;return u&&(f=r.formatter.format(n,u)),f}};e[u.id]=t.Level,o[u.id]=t.Format,s.push(u)}),f[t]=s}),t.ColumnHierarchy&&(u[t.ColumnHierarchy]="Columns"),t.RowHierarchy&&(u[t.RowHierarchy]="Rows"),{axes:f,levelByDimensionId:e,formatByDimensionId:o,pivotAreaByAxisName:u}},getAxes:function(){return this._data.axesInfo.axes},getPivotAreaByAxisName:function(n){return this._data.axesInfo.pivotAreaByAxisName[n]},getColorMeasures:function(){return this._data.colorMeasuresInfo.measures},getConditionalFormattingMeasures:function(){return this._data.conditionalFormattingMeasuresInfo.measures},getMeasures:function(){return this._data.measuresInfo.measures},getDeltas:function(){return this._data.deltaInfo.deltas},getMeasureById:function(t){var i=this.getMeasures(),r=n.grep(i,function(n){return n.id==t});return r[0]},getDeltaById:function(t){var i=this.getDeltas(),r=n.grep(i,function(n){return n.id==t});return r[0]},getMeasureFormat:function(n){return this._data.measuresInfo.formatByMeasureId[n]},getDeltaValueIds:function(n){return this._data.deltaInfo.valueIdsByDeltaId[n]},getDeltaFormats:function(n){return this._data.deltaInfo.formatsByDeltaId[n]},getDeltaValueType:function(){},getDimensionLevel:function(n){return this._data.axesInfo.levelByDimensionId[n]},getDimensionFormat:function(n){return this._data.axesInfo.formatByDimensionId[n]},getDataMembers:function(){return this._data.dataSourceColumns}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.data;u.itemDataAxisHelper={eachPoint:function(t,i){var r=this,u=t.getChildren();if(i(t)===!1)return!1;n.each(u,function(n,t){if(r.eachPoint(t,i)===!1)return!1})},findFirstPoint:function(n,t){var u=this,r=i;return u.eachPoint(n,function(n){var i=n.getAxisPath();if(t(i))return r=n,!1}),r},findFirstPointByUniqueValues:function(n,t){var i=this;return i.findFirstPoint(n,function(n){return i._searchPredicate(n,t,function(n,t){return i._areEqual(n,t.getUniqueValue())})})},findFirstPointByValues:function(n,t){var i=this;return i.findFirstPoint(n,function(n){return i._searchPredicate(n,t,function(n,t){return i._areEqual(n,t.getValue())})})},_areEqual:function(n,i){return t.data.utils.toComparable(n,!1)===t.data.utils.toComparable(i,!1)},_searchPredicate:function(t,i,r){if(i=i||[],t.length!=i.length)return!1;var u=!0;return n.each(i,function(n,i){return u=u&&r(i,t[n])}),u},forSamePoints:function(t,i,r){var u=this;r(t,i),n.each(t.getChildren(),function(n,t){var f=u.findChildByUniqueValue(i,t.getUniqueValue());f&&u.forSamePoints(t,f,r)})},findChildByUniqueValue:function(t,r){var f=this,e=t.getChildren(),u=i;return n.each(e,function(n,t){if(f._areEqual(r,t.getUniqueValue()))return u=t,!1}),u}}}(jQuery,DevExpress),function(n,t){var f=t.dashboard,e=DevExpress.require("/class"),u=f.data,r=u.itemDataAxisHelper;u.itemDataAxis=e.inherit({ctor:function(n,t){this._dimensions=n,this._axisPoint=t},getDimensions:function(){return this._dimensions},getRootPoint:function(){var n=function(t){var i=t.getParent();return i?n(i):t};return n(this._axisPoint)},getPoints:function(n){var t=this.getDimensions(),i=t?t[t.length-1]:null;return i?this.getPointsByDimension(i.id,!!n):[]},getPointsByDimension:function(n,t){var u=this.getRootPoint(),i=[];return n?r.eachPoint(u,function(r){var u=r.getDimension();(u&&u.id==n||t&&r.getParent()&&r.getChildren().length===0)&&i.push(r)}):i.push(u),i},getPointByUniqueValues:function(n){return r.findFirstPointByUniqueValues(this.getRootPoint(),n)},getPointByValues:function(n){return r.findFirstPointByValues(this.getRootPoint(),n)}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=DevExpress.require("/class"),r=u.data;r.itemData=f.inherit({ctor:function(n,t){this._data=n,this._rootItems=t},getAllSelectionValues:function(t){var i=this,e=i.getAxisNames(),r=[],u=[],f=function(r,u,e){var o=i.getAxis(r[0]),s=r.slice(1,r.length-1),h=o.getPoints()||[];n.each(h,function(i,o){var h=u.slice();n.each(o.getAxisPath(),function(i,r){n.grep(t,function(n){return n===r.getDimension().id}).length>0&&h.push(r.getUniqueValue())}),r.length>1?f(s,h,e):e.push(h)})};return n.each(t,function(t,u){n.each(e,function(t,f){n.grep(i.getAxis(f).getDimensions(),function(n){return n.id===u}).length>0&&n.inArray(f,r)===-1&&r.push(f)})}),f(r,[],u),u},getAxisNames:function(){var t=[];return n.each(this._data.metaData.getAxes(),function(n){t.push(n)}),t},getAxis:function(n){n===i&&(n="Default");var t=this._data.metaData.getAxes()[n],u=this._rootItems[n];return new r.itemDataAxis(t,u)},getDimensions:function(n){return this.getAxis(n).getDimensions()},getColorMeasures:function(){return this._data.metaData.getColorMeasures()},getMeasures:function(){return this._data.metaData.getMeasures()},getDeltas:function(){return this._data.metaData.getDeltas()},getMeasureById:function(n){return this._data.metaData.getMeasureById(n)},getDeltaById:function(n){return this._data.metaData.getDeltaById(n)},getSlice:function(n){return n instanceof u.data.itemDataTuple?this._getSliceByTuple(n):n instanceof u.data.itemDataAxisPoint?this._getSliceByAxisPoint(n):null},getMeasureFormat:function(n){return this._data.metaData.getMeasureFormat(n)},getColorMeasureValue:function(n){return this._getValue(n)},getConditionalFormattingMeasureValue:function(n){return this._getValue(n)},getMeasureValue:function(n){var t=this,i=t.getMeasureFormat(n);return t._getMeasureValueByKeys(t._getKeys(),n,i)},_getKeys:function(t){var r=this,u=r._rootItems,i=[];return n.each(u,function(n,r){var u=t&&t[n],f=u||r;i.push(f.getKey())}),i},_getValue:function(n){var t=this;return t._getCellValue(t._getKeys(),n)},_getMeasureValueByKeys:function(n,t,i){var r=this;return{getValue:function(){return r._getCellValue(n,t)},getDisplayText:function(){return r._getCellDisplayText(n,t,i)}}},_getDeltaValueByKeys:function(n,t,i){var e=this,u=r.deltaValueNames,f=function(r){return{getValue:function(){return e._getCellValue(n,t[r])},getDisplayText:function(){var u=i[r];return u&&(u={NumericFormat:u}),e._getCellDisplayText(n,t[r],u)}}};return{getActualValue:function(){return f(u.actualValue)},getTargetValue:function(){return f(u.targetValue)},getAbsoluteVariation:function(){return f(u.absoluteVariation)},getPercentVariation:function(){return f(u.percentVariation)},getPercentOfTarget:function(){return f(u.percentOfTarget)},getIsGood:function(){return f(u.isGood)},getIndicatorType:function(){return f(u.indicatorType)},getDisplayValue:function(){return f(u.mainValue)},getDisplaySubValue1:function(){return f(u.subValue1)},getDisplaySubValue2:function(){return f(u.subValue2)}}},_createPointsHash:function(n){for(var i={},r,t=0;t<n.length;t++)r=n[t].getAxisName(),i[r]=n[t];return i},getMeasureValueByAxisPoints:function(n,t){var i=this,r=i.getMeasureFormat(n),u=i._createPointsHash(t);return i._getMeasureValueByKeys(i._getKeys(u),n,r)},getDeltaValue:function(n){var t=this,i=t._data.metaData,r=i.getDeltaValueIds(n),u=i.getDeltaFormats(n);return t._getDeltaValueByKeys(t._getKeys(),r,u)},getDeltaValueByAxisPoints:function(n,t){var r=this,i=this._data.metaData,u=i.getDeltaValueIds(n),f=i.getDeltaFormats(n),e=this._createPointsHash(t);return this._getDeltaValueByKeys(r._getKeys(e),u,f)},getDataMembers:function(){return this._data.metaData.getDataMembers()},createTuple:function(t){var f=this,i=[];return t[0]instanceof r.itemDataAxisPoint?i=t:n.each(t,function(n,t){var r=f.getAxis(t.AxisName),u=r.getPointByUniqueValues(t.Value);i.push(u)}),new u.data.itemDataTuple(i)},_getCellValue:function(n,t){return this._data.storage.getCrossValue(n,t)},_getCellDisplayText:function(n,t,u){return u?r.formatter.format(this._getCellValue(n,t),u):i},_getSliceByAxisPoint:function(t){var i=this,f=i._rootItems,u={};return n.each(f,function(n,i){u[n]=t.getAxisName()===n?t:i}),new r.itemData(i._data,u)},_getSliceByTuple:function(t){var i=this;return n.each(t._axisPoints,function(n,t){i=i._getSliceByAxisPoint(t)}),i}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,e=DevExpress.require("/class"),r=u.data,f=r.itemDataAxisHelper;r.itemDataManager=e.inherit({ctor:function(){},initialize:function(t){var i=this,s=t.MetaData,h=t.DataStorageDTO,u=i._createMetaData(s),o;i._metaData=u;var f=new r.dataStorage(h),c=t.SortOrderSlices,e={};n.each(u.getAxes(),function(n,t){e[n]=r.itemDataAxisBuilder.build(n,f,t,c,u)}),o=new r.itemData({metaData:i._metaData,storage:f},e),this._items=e,this._itemData=o,this._dataStorage=f},updateExpandedData:function(t,i){var e=this,h=u.itemDataAxisNames,w=t.DataStorageDTO,c=t.SortOrderSlices,o=i.pivotArea==r.pivotAreaNames.columns?h.pivotColumnAxis:h.pivotRowAxis,l=i.values,a=e._metaData,b=new r.dataStorage(w),k=e._dataStorage.insert(b,c),v=r.itemDataAxisBuilder.build(o,e._dataStorage,a.getAxes()[o],c,a,k),s;if(!!v){var d=e._items[o],y=f.findFirstPointByUniqueValues(d,l),p=f.findFirstPointByUniqueValues(v,l);!p||(s=p.getChildren(),n.each(s,function(n,t){t._setParent(y)}),y._setChildren(s))}},getItemData:function(){return this._itemData},getMetaData:function(){return this._metaData},_createMetaData:function(n){var t=new u.data.itemMetaData(n);return t.initialize(),t}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.data;r.itemDataTuple=function(n){this._axisPoints=n},r.itemDataTuple.prototype={constructor:r.itemDataTuple,getAxisPoint:function(t){return t?n.grep(this._axisPoints,function(n){return n.getAxisName()==t})[0]:this._axisPoints[0]}}}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,r=u.data;r.itemDataAxisPoint=function(n,t){var r=this;r._info=n,r._dataRowKey=t,r._children=[],r._parent=i,r._raggedChildren=[]},r.itemDataAxisPoint.prototype={constructor:r.itemDataAxisPoint,_getSpecialValue:function(n){var t=this,i=t._info;return i.getMetaDataValue(t._dataRowKey,n)},getUniqueValue:function(){var n=this,t=n._info;return t.getBaseValue(n._dataRowKey)},getValue:function(){var t=this,n=t._getSpecialValue(r.dataStorageSpecialIds.Value);return(n===null||n===i)&&(n=t.getUniqueValue()),n===u.utils.specialValues.nullValueGuid&&(n=null),n},_getLevel:function(){return this._info.level},_getServerText:function(){var n=this;return n._getSpecialValue(r.dataStorageSpecialIds.DisplayText)},getKey:function(){return this._dataRowKey},getAxisName:function(){return this._info.axisName},getChildren:function(){return this._children},getParent:function(){return this._parent},_setParent:function(n){this._parent=n},_setChildren:function(n){this._children=n},_getRaggedChildren:function(){return this._raggedChildren},getParentByDimensionId:function(n){for(var t=this,i;t.getParent();){if(i=t.getDimension(),i&&i.id==n)return t;t=t.getParent()}return n?this:t},getDimensionValue:function(n){var t=this,r=t.getDimension(),i;return!n||r&&r.id==n?{getValue:function(){return t.getValue()},getUniqueValue:function(){return t.getUniqueValue()},getDisplayText:function(){return t.getDisplayText()}}:(i=t.getParent(),i?i.getDimensionValue(n):null)},getDisplayText:function(){var t=this,i=t._getServerText(),f,e,n;return i==null&&(f=t.getDimension(),f&&(e=t._info.metaData.getDimensionFormat(f.id),n=this.getUniqueValue(),i=n===u.utils.specialValues.nullValueGuid||n===u.utils.specialValues.olapNullValueGuid?r.formatter.format(n,e):r.formatter.format(this.getValue(),e))),i},getDimension:function(){var n=this,t=n.getAxisName(),i=n._info.metaData.getAxes()[t];return i[n._getLevel()]},getDimensions:function(){var n=this,t=n.getParent();return t?t.getDimensions().concat([n.getDimension()]):[]},getAxisPath:function(){return this._selectPath(i)},getUniquePath:function(){return this._selectPath(function(n){return n.getUniqueValue()})},getValuePath:function(n){return this._selectIncludedPath(n,function(n){return n.getValue()})},getDisplayPath:function(n){return this._selectIncludedPath(n,function(n){return n.getDisplayText()})},getValues:function(){for(var t=[],n=this;n.getUniqueValue()!=null;){if(t.push(n.getUniqueValue()),this.getDimensions().length==1)break;n=n.getParent()}t.reverse()},_selectIncludedPath:function(n,t){return this._selectPath(function(r){return!n||n(r)?t(r):i})},_selectPath:function(n){var r=n?n:function(n){return n},t=function(n){var f=n.getParent(),u;return f?(u=r(n),t(f).concat(u==i?[]:[u])):[]};return t(this)},getPointsByDimensionId:function(n){return this._getPointsByDimensionId(n,function(n){return n})},getDisplayTextsByDimensionId:function(n){return this._getPointsByDimensionId(n,function(n){return n.getDisplayText()})},_getPointsByDimensionId:function(n,t){var i=[];return this._findPoints(n,i,t),i},_findPoints:function(n,t,i){var u,r;if(this.getDimension().id===n){t.push(i(this));return}for(u=this.getChildren(),r=0;r<u.length;r++)u[r]._findPoints(n,t,i)}}}(jQuery,DevExpress),function(n,t){var u=t.dashboard,f=DevExpress.require("/class"),r=u.data;r.drillThroughDataWrapper=f.inherit({ctor:function(n){this._drillThroughData=n},initialize:function(){var n=this;n._errorMessage=this._drillThroughData.ErrorMessage,n.isDataReceived()&&(n._data={},n._data.dataMembers=n._drillThroughData.DataMembers,n._data.listSource=new r.listSource(n._drillThroughData.Data,n._data.dataMembers))},getRowCount:function(){return this._data.listSource.getRowCount()},getRowValue:function(n,t){return this._data.listSource.getRowValue(n,t)},getDataMembers:function(){return this._data.dataMembers},isDataReceived:function(){return this._drillThroughData&&this._drillThroughData.Data!=null},getRequestDataError:function(){return this._errorMessage}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=DevExpress.require("/class");r.ColumnWidthCalculator=u.inherit({ctor:function(){},calcWidth:function(t,i){var r=t,u=r.columnsWidthInfo,f;return u.length!==0&&i!==0&&(r.columnWidthMode==="AutoFitToContents"&&n.each(u,function(n,t){t.actualWidth=t.initialWidth}),f=this._getColumnActualWidthSum(u),f!==i&&(r.columnWidthMode!=="AutoFitToContents"||r.columnWidthMode==="AutoFitToContents"&&f<i))?this._calcWidthCore(r,i):r},_calcWidthCore:function(t,i){var r=t,e=r.columnsWidthInfo;n.each(e,function(n,t){t.actualWidth=r.columnWidthMode!=="Manual"||t.isFixedWidth?t.initialWidth:0});var u=this._getActualWidthSumOfColumnsWithFixedWidthState(r),o=this._getInitialWidthSumOfColumnsWithFixedWidthState(r),f=u!==0&&u<o?!0:!1;return(r=this._calcWidthsForColumnsWithCurrentFixedWidthState(r,f,i),this._getColumnActualWidthSum(r.columnsWidthInfo)!==i)?this._calcWidthsForColumnsWithCurrentFixedWidthState(r,!f,i):r},_getInitialWidthSumOfColumnsWithFixedWidthState:function(t){var i=0;return n.each(t.columnsWidthInfo,function(n,r){t.columnWidthMode==="Manual"&&r.isFixedWidth&&(i+=r.initialWidth)}),i},_getActualWidthSumOfColumnsWithFixedWidthState:function(t){var i=0;return n.each(t.columnsWidthInfo,function(n,r){t.columnWidthMode==="Manual"&&r.isFixedWidth&&(i+=r.actualWidth)}),i},_calcWidthsForColumnsWithCurrentFixedWidthState:function(t,i,r){var u=t,f=this,e=f._getWidthSumOfColumnsWithFixedWidthStateNotEqualCurrent(u,i),o=f._getAllWidthSum(u.columnsWidthInfo)-e,s=Math.abs(r-e);return n.each(u.columnsWidthInfo,function(n,t){if(u.columnWidthMode!=="Manual"||t.isFixedWidth===i){var r=Math.round(s*f._getNonEmptyWidth(t)/o);t.actualWidth=r>=t.minWidth?r:t.minWidth}}),f._reverseOrderedLinearCorrection(u,i,r)},_getAllWidthSum:function(n){for(var i=0,t=0;t<n.length;t++)i+=this._getNonEmptyWidth(n[t]);return i},_reverseOrderedLinearCorrection:function(n,t,i){for(var u=n,o=this._getColumnActualWidthSum(u.columnsWidthInfo),r,e,f=u.columnsWidthInfo.length-1;f>=0;f--){if(r=u.columnsWidthInfo[f],e=o-i,e===0)return u;(u.columnWidthMode!=="Manual"||r.isFixedWidth===t)&&(r.actualWidth-=e,o-=e,r.actualWidth<r.minWidth&&(o+=Math.abs(r.actualWidth-r.minWidth),r.actualWidth=r.minWidth))}return u},_getWidthSumOfColumnsWithFixedWidthStateNotEqualCurrent:function(t,i){var r=0,u=this;return t.columnWidthMode==="Manual"&&n.each(t.columnsWidthInfo,function(n,t){t.isFixedWidth!==i&&(r+=u._getNonEmptyWidth(t))}),r},_getNonEmptyWidth:function(n){return n.actualWidth!==0?n.actualWidth:n.initialWidth},_getColumnActualWidthSum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].actualWidth;return i}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=DevExpress.require("/class");r.appearanceSettingsProvider=u.inherit({AppearanceType:{WhiteColor:"rgb(0xFF, 0xFF, 0xFF)",GrayedTextColor:"rgb(0xD3, 0xD3, 0xD3)",LightGradientRedColor:"rgb(255, 166, 173)",LightGradientYellowColor:"rgb(255, 226, 81)",LightGradientGreenColor:"rgb(139, 210, 78)",LightGradientBlueColor:"rgb(149, 204, 255)",LightGradientPurpleColor:"rgb(223, 166, 232)",LightGradientCyanColor:"rgb(113, 223, 221)",LightGradientOrangeColor:"rgb(255, 182, 90)",LightGradientTransparentColor:"#ffffff",DarkGradientRedColor:"#AC203D",DarkGradientYellowColor:"#FF8A01",DarkGradientGreenColor:"#538A31",DarkGradientBlueColor:"#4371B0",DarkGradientPurpleColor:"#7E53A2",DarkGradientCyanColor:"#149BA3",DarkGradientOrangeColor:"#D83D00",DarkGradientTransparentColor:"#303030",LightPaleRedColor:"rgb(255, 221, 224)",LightPaleYellowColor:"rgb(255, 245, 174)",LightPaleGreenColor:"rgb(208, 239, 172)",LightPaleBlueColor:"rgb(213, 237, 255)",LightPalePurpleColor:"rgb(244, 221, 247)",LightPaleCyanColor:"rgb(194, 244, 243)",LightPaleOrangeColor:"rgb(255, 228, 180)",LightPaleGrayColor:"rgb(234, 234, 234)",DarkPaleRedColor:"#5B2D3D",DarkPaleYellowColor:"#51492D",DarkPaleGreenColor:"#3B4D2D",DarkPaleBlueColor:"#2D3F5A",DarkPalePurpleColor:"#512D55",DarkPaleCyanColor:"#2D4B4B",DarkPaleOrangeColor:"#593E2D",DarkPaleGrayColor:"#444444",LightRedColor:"rgb(226, 60, 76)",LightYellowColor:"rgb(255, 166, 38)",LightGreenColor:"rgb(101, 172, 80)",LightBlueColor:"rgb(89, 143, 216)",LightPurpleColor:"rgb(148, 105, 184)",LightCyanColor:"rgb(39, 192, 187)",LightOrangeColor:"rgb(255, 92, 12)",LightGrayColor:"rgb(111, 111, 111)",DarkRedColor:"#E23C4C",DarkYellowColor:"#FFA626",DarkGreenColor:"#65AC50",DarkBlueColor:"#598FD8",DarkPurpleColor:"#9469B8",DarkCyanColor:"#27C0BB",DarkOrangeColor:"#FF5C0C",DarkGrayColor:"#6F6F6F"},ctor:function(){this.lightThemes=["generic.light"],this.darkThemes=["generic.dark","generic.contrast"]},toCssClassBody:function(n,t){var u=this._isDark(t),r;switch(n){case"FontBold":return"{ font-weight: bold; }";case"FontItalic":return"{ font-style: italic; }";case"FontUnderline":return"{ text-decoration: underline; }";case"FontGrayed":return"{ color: "+this.AppearanceType.GrayedTextColor+"; }";case"FontRed":return"{ color: "+(u?this.AppearanceType.DarkRedColor:this.AppearanceType.LightRedColor)+"; }";case"FontYellow":return"{ color: "+(u?this.AppearanceType.DarkYellowColor:this.AppearanceType.LightYellowColor)+"; }";case"FontGreen":return"{ color: "+(u?this.AppearanceType.DarkGreenColor:this.AppearanceType.LightGreenColor)+"; }";case"FontBlue":return"{ color: "+(u?this.AppearanceType.DarkBlueColor:this.AppearanceType.LightBlueColor)+"; }";default:return(r=this.backAndGradientColorGroupsToBackColor(n,t),r!==i)?"{ background-color: "+r+"; }":(r=this._backColorsWithFontGroupToBackColor(n,u),r!==i)?"{ background-color: "+r+"; color: "+this.AppearanceType.WhiteColor+"; }":"{ }"}},backAndGradientColorGroupsToBackColor:function(n,t){var i=this._isDark(t);switch(n){case"PaleRed":return i?this.AppearanceType.DarkPaleRedColor:this.AppearanceType.LightPaleRedColor;case"PaleYellow":return i?this.AppearanceType.DarkPaleYellowColor:this.AppearanceType.LightPaleYellowColor;case"PaleGreen":return i?this.AppearanceType.DarkPaleGreenColor:this.AppearanceType.LightPaleGreenColor;case"PaleBlue":return i?this.AppearanceType.DarkPaleBlueColor:this.AppearanceType.LightPaleBlueColor;case"PalePurple":return i?this.AppearanceType.DarkPalePurpleColor:this.AppearanceType.LightPalePurpleColor;case"PaleCyan":return i?this.AppearanceType.DarkPaleCyanColor:this.AppearanceType.LightPaleCyanColor;case"PaleOrange":return i?this.AppearanceType.DarkPaleOrangeColor:this.AppearanceType.LightPaleOrangeColor;case"PaleGray":return i?this.AppearanceType.DarkPaleGrayColor:this.AppearanceType.LightPaleGrayColor;case"GradientRed":return i?this.AppearanceType.DarkGradientRedColor:this.AppearanceType.LightGradientRedColor;case"GradientYellow":return i?this.AppearanceType.DarkGradientYellowColor:this.AppearanceType.LightGradientYellowColor;case"GradientGreen":return i?this.AppearanceType.DarkGradientGreenColor:this.AppearanceType.LightGradientGreenColor;case"GradientBlue":return i?this.AppearanceType.DarkGradientBlueColor:this.AppearanceType.LightGradientBlueColor;case"GradientPurple":return i?this.AppearanceType.DarkGradientPurpleColor:this.AppearanceType.LightGradientPurpleColor;case"GradientCyan":return i?this.AppearanceType.DarkGradientCyanColor:this.AppearanceType.LightGradientCyanColor;case"GradientOrange":return i?this.AppearanceType.DarkGradientOrangeColor:this.AppearanceType.LightGradientOrangeColor;case"GradientTransparent":return i?this.AppearanceType.DarkGradientTransparentColor:this.AppearanceType.LightGradientTransparentColor}},_isDark:function(t){return n.inArray(t,this.darkThemes)!==-1?!0:(n.inArray(t,this.lightThemes)!==-1,!1)},_backColorsWithFontGroupToBackColor:function(n,t){switch(n){case"Red":return t?this.AppearanceType.DarkRedColor:this.AppearanceType.LightRedColor;case"Yellow":return t?this.AppearanceType.DarkYellowColor:this.AppearanceType.LightYellowColor;case"Green":return t?this.AppearanceType.DarkGreenColor:this.AppearanceType.LightGreenColor;case"Blue":return t?this.AppearanceType.DarkBlueColor:this.AppearanceType.LightBlueColor;case"Purple":return t?this.AppearanceType.DarkPurpleColor:this.AppearanceType.LightPurpleColor;case"Cyan":return t?this.AppearanceType.DarkCyanColor:this.AppearanceType.LightCyanColor;case"Orange":return t?this.AppearanceType.DarkOrangeColor:this.AppearanceType.LightOrangeColor;case"Gray":return t?this.AppearanceType.DarkGrayColor:this.AppearanceType.LightGrayColor}}})}(jQuery,DevExpress),function(n,t,i){var y=t.utils,r=t.dashboard,o=DevExpress.require("/class"),s=r.appearanceSettingsProvider,h=t.require("/color"),e=t.require("/utils/utils.browser"),c="None",u="None",f="Custom",l=3,a="hiddenText",v="tooltip";r.styleSettingsProvider=o.inherit({FontStyle:{Bold:1,Italic:2,Underline:4,Strikeout:8},DataAttributes:{Bar:"bar",Axis:"axis",NormalizedValue:"normalizedValue",ZeroPosition:"zeroPosition",AllowNegativeAxis:"allowNegativeAxis",DrawAxis:"drawAxis"},cssClassNames:{iconConditionalFormatting:"dx-icon-dashboard-cf",bar:"dx-dashboard-bar",barAxis:"dx-dashboard-bar-axis",customStyle:"dx-dashboard-cf-style",customGradientStyle:"dx-dashboard-cf-gradient-style",dashboardContainer:"dx-dashboard-container",absolutePosition:"dx-dashboard-absolute-position",relativePosition:"dx-dashboard-relative-position",measureValue:"dx-dashboard-measure",leftIcon:"dx-dashboard-left-icon",rightIcon:"dx-dashboard-right-icon",leftIconSpace:"dx-dashboard-left-icon-space",rightIconSpace:"dx-dashboard-right-icon-space"},ctor:function(){this.cfModel=i,this.cssCustomClasses={},this.theme=DevExpress.ui.themes.current(),this.$container=i,this.id=r.styleSettingsProvider.inctanceCounter++,this.appearanceSettingsProvider=new s},initialize:function(n,t){t&&(this.cfModel=t,this._registerCssClasses()),n&&(this.$container=n)},update:function(n){n&&(this.$container=n)},updateBarWidth:function(t,i){var r=this,u=t.find("."+r.DataAttributes.Bar+"_"+i),e,f=this._fillContainerBounds(u);n.each(u,function(t,u){var e=n(u),c=e.data(r.DataAttributes.NormalizedValue),o=e.data(r.DataAttributes.ZeroPosition),l=e.data(r.DataAttributes.AllowNegativeAxis),a=e.data(r.DataAttributes.DrawAxis),v=e.parent(),s=f[t],h=v.find("."+r.DataAttributes.Axis+"_"+i+":first");r._setBarBounds(e,s,o,c,l,a),h.length!==0&&r._setAxisBounds(n(h[0]),s,o)})},applyStyleSettings:function(t,i,r,f){var h=this,e,o,a,v,s,l,y;o=n.grep(i.styleIndexes,function(t,r){return n.inArray(t,i.styleIndexes)===r}),o.sort(function(n,t){return n-t}),o&&o.length>0&&n.each(o,function(n,r){e=h.cfModel.FormatConditionStyleSettings[r],v=i.styleAndRuleMappingTable[r],e.IsBarStyle?(a=h.cfModel.RuleModels[v].ConditionModel,s=h._getBarInfo(e,r,a)):e.RangeIndex||e.AppearanceType!==u?t.addClass(h.cssCustomClasses[r]):e.IconType!==c&&(l=e.IconType)}),s?(s.normalizedValue=i.normalizedValue,s.zeroPosition=i.zeroPosition,this._renderBar(t,s,f)):!r&&l&&this._applyIconSettings(t,l)},_fillContainerBounds:function(t){var i=[];return n.each(t,function(t,r){var u=n(r).parent(),f=u.get(0);i.push(f.getBoundingClientRect())}),i},_createCssClassName:function(n,t){return n+"-"+this.id+"-"+t},_applyIconSettings:function(t,i){var r=this._imageAlignmentIsRight(t),u=r?this.cssClassNames.rightIcon:this.cssClassNames.leftIcon,f=r?this.cssClassNames.leftIconSpace:this.cssClassNames.rightIconSpace;t.css("white-space","nowrap"),t[r?"append":"prepend"](n("<span>").addClass(f)),t.prepend(n("<span>").addClass(u).addClass(this._getConditionalFormattingImageCssClass(i)))},_imageAlignmentIsRight:function(n){var t=n.css("text-align");return t==="left"||t==="start"||t==="center"||t==="justify"},_getBarInfo:function(n,t,i){return{showBarOnly:i.BarOptions.ShowBarOnly,allowNegativeAxis:i.BarOptions.AllowNegativeAxis,drawAxis:i.BarOptions.DrawAxis,cssClass:this.cssCustomClasses[t]}},_renderBar:function(t,i,u){var o=t.text(),s,h,f,c,e;t.addClass(this.cssClassNames.relativePosition),t.text(""),this._renderBarDiv(t,i,u),i.drawAxis&&this._renderAxis(t,u,i.zeroPosition),i.showBarOnly?(s=n("<div/>").appendTo(t),s.html("&nbsp;"),f=r.styleSettingsProvider.hiddenTextCounter++,c=v+f,e=a+f,t.attr("id",e),h=n("<div/>").appendTo(t).text(o).attr("id",c).dxTooltip({target:"#"+e}).dxTooltip("instance"),t.unbind().hover(function(){h.toggle()})):this._renderBarTextValue(t,o)},_renderBarDiv:function(t,i,r){var u=n("<div/>").appendTo(t).addClass(this.cssClassNames.bar).addClass(i.cssClass);u.html("&nbsp;"),u.addClass(this.DataAttributes.Bar+"_"+r),u.data(this.DataAttributes.NormalizedValue,i.normalizedValue),u.data(this.DataAttributes.ZeroPosition,i.zeroPosition),u.data(this.DataAttributes.AllowNegativeAxis,i.allowNegativeAxis),u.data(this.DataAttributes.DrawAxis,i.drawAxis)},_renderAxis:function(t,i,r){var u=n("<div/>").appendTo(t);u.addClass(this.cssClassNames.absolutePosition).addClass(this.DataAttributes.Axis+"_"+i+" "+this.cssClassNames.barAxis),u.data(this.DataAttributes.ZeroPosition,r)},_renderBarTextValue:function(t,i){var r=n("<div/>").appendTo(t).addClass(this.cssClassNames.measureValue);return r.text(i),r},_setBarBounds:function(n,t,i,r,u,f){var s=t.width,l=t.height,o=Math.round(Math.abs(r)*s),h=Math.round(i*s),c=u&&r<0?h-o:h;u&&f&&r<0&&i>0&&(o+=1),n.css({width:o+"px"}),e.mozilla?n.css({right:s-c-o+"px",height:t.height+"px"}):n.css({left:c+"px"})},_setAxisBounds:function(n,t,i){var r=t.width,f=t.height,u=Math.round(i*r),o=Math.max(0,f-l*2);e.mozilla?n.css({right:r-u+"px"}):n.css({left:u+"px"})},_getCustomBackColor:function(n){return n.toHex?n.toHex():r.utils.toColor(n)},_getRangeBackColorStyleSettings:function(t,i){var o=t.RangeIndex,s=this.cfModel.RuleModels[i].ConditionModel,u=-1,e=-1,r,h,a,c,l,v;return n.each(s.FixedColors,function(n){n<o&&(u===-1||n>u)&&(u=n),n>o&&(e===-1||n<e)&&(e=n)}),r=s.FixedColors[u],h=s.FixedColors[e],c=this._getBackColor(r),l=this._getBackColor(h),{AppearanceType:f,Color:c.blend(l,(o-u)/(e-u)),ForeColor:r.ForeColor,FontFamily:r.FontFamily,FontSize:r.FontSize,FontStyle:r.FontStyle,IsBarStyle:r.IsBarStyle}},_getBackColor:function(n){var t;return n.AppearanceType===f?t=r.utils.toColor(n.Color):n.AppearanceType!==u&&(t=this.appearanceSettingsProvider.backAndGradientColorGroupsToBackColor(n.AppearanceType,this.theme)),new h(t)},_getConditionalFormattingImageCssClass:function(n){return this.cssClassNames.iconConditionalFormatting+"-"+n.toLowerCase()},_registerCssClasses:function(){var t=this,e,r;t.cfModel!=i&&n.each(t.cfModel.FormatConditionStyleSettings,function(n,i){e=t._createCssClassName(t.cssClassNames.customStyle,n),r=t._getCssTdSelector(e),t.cssCustomClasses[n]=e,i.RangeIndex?(i=t._getRangeBackColorStyleSettings(i,i.RuleIndex),t._createCssClassFromCustomAppearanceType(i,r)):i.AppearanceType===f?t._createCssClassFromCustomAppearanceType(i,r):i.AppearanceType!==u&&t._createCssClassFromPredefinedAppearanceType(r,i.AppearanceType)})},_getCssTdSelector:function(n){return"."+this.cssClassNames.dashboardContainer+" td ."+n},_createCssClassFromCustomAppearanceType:function(n,t){var u=document.createElement("style"),f=(n.FontStyle&this.FontStyle.Underline)!=0,e=(n.FontStyle&this.FontStyle.Strikeout)!=0,i=t+"{ ";n.ForeColor&&(i+="color:"+r.utils.toColor(n.ForeColor)+";"),n.Color&&(i+="background-color:"+this._getCustomBackColor(n.Color)+";"),n.FontFamily&&(i+="font-family:"+n.FontFamily+";"),n.FontSize&&n.FontSize>0&&(i+="font-size:"+n.FontSize+";"),(n.FontStyle&this.FontStyle.Bold)!=0&&(i+="font-weight:bold;"),(n.FontStyle&this.FontStyle.Italic)!=0&&(i+="font-style: italic;"),f&&e?i+="text-decoration: underline line-through;":f?i+="text-decoration: underline;":e&&(i+="text-decoration: line-through;"),this._setInnerHTMLToStyle(u,i.slice(0,-1)+"}"),u.type="text/css",document.getElementsByTagName("head")[0].appendChild(u)},_createCssClassFromPredefinedAppearanceType:function(n,t){var r=n+this.appearanceSettingsProvider.toCssClassBody(t,this.theme),i=document.createElement("style");this._setInnerHTMLToStyle(i,r),i.type="text/css",document.getElementsByTagName("head")[0].appendChild(i)},_setInnerHTMLToStyle:function(n,t){try{n.innerHTML=t}catch(i){n.cssText=t}}}),r.styleSettingsProvider.inctanceCounter=0,r.styleSettingsProvider.hiddenTextCounter=0}(jQuery,DevExpress),function(n,t,i){var r=t.utils,u=t.require("/utils/utils.string"),f=t.require("/utils/utils.console").logger;r.renderHelper={html:function(n,t,i){t&&(i?n.text(t):n.html(t))},rectangle:function(n,t,i){var r=t!=0?t||10:0,f=i||10;return u.format("<div style='display:inline-block;width:{0}px;height:{1}px;background-color:{2};padding:0px;margin:0px;'><\/div>",r,f,n)},getActualBorder:function(n){return{width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()}},getActualSize:function(n){if(n&&n.length!==0){var t=this.getActualBorder(n),i=n.css("box-sizing")=="border-box";return{width:n.width()-(i?0:t.width),height:n.height()-(i?0:t.height)}}return{width:0,height:0}},getDefaultPalette:function(){return["#5F8195","#B55951","#AEAF69","#915E64","#758E6D","#85688C","#91B9C7","#E49B86"]},getScrollable:function(n){return n.data("dxScrollable")},updateScrollable:function(n){var t=this.getScrollable(n);t&&t.update()},wrapScrollable:function(n,t,r,u){var f=i,e={bounceEnabled:!1,showScrollbar:"onHover",direction:u};return n&&n.dxScrollable?(t!=="auto"&&(e.useNative=!!t,e.useSimulatedScrollbar=!t),n.dxScrollable(e),f=this.getScrollable(n).content()):(f=n,f.css("overflow",r)),f},getControlBox:function(t,i){var r=n("<div>");return r[t](i||{}),this.getElementBox(r)},getElementBox:function(t){var i=n("<div>",{css:{position:"absolute",top:0,left:0,visibility:"hidden",overflow:"hidden"}}).appendTo(n("body"));i.append(t);try{return{width:i.outerWidth(),height:i.outerHeight()}}finally{i.remove()}},widgetIncidentOccurred:function(){}}}(jQuery,DevExpress),function(n){n.viz.indicators={consts:{deltaIndicator:{indicatorType:{none:"none",up:"up",down:"down",warning:"warning"}}}}}(DevExpress),function(n,t){var e=DevExpress.require("/class"),u=t.viz,r=u.indicators,i=r.consts.deltaIndicator,f=u.Rectangle,o=e.inherit({ctor:function(t){t=t||{},this._container=n(t.container),this._renderer=t.renderer,this._shape=null,this._init(),this._container.length&&this.draw(t)},_init:function(){var n=this._container,t=0,i=0;n.length&&(t=n.width(),i=n.height(),t>0&&i>0)&&(this._renderer=new u.renderers.Renderer({container:n[0]}))},draw:function(n){var t=this._prepareDrawParams(n);return t.readyToDraw&&this._render(t),this._shape},_prepareDrawParams:function(n){var u=this._container,t={readyToDraw:!1},r={left:0,top:0,right:0,bottom:0};return u.length?(r.right=u.width()||0,r.bottom=u.height()||0,t.rectangle=new f(r)):t.rectangle=n.rect instanceof f?n.rect.clone():new f(r),t.type=n.type||i.indicatorType.none,t.hasPositiveMeaning=!!n.hasPositiveMeaning,t.readyToDraw=!!(this._renderer&&t.rectangle.width()>0&&t.rectangle.height()>0),t.drawToContainer=!!this._container.length,t},_render:function(n){var i=n.rectangle,t;this._shape=null,n.drawToContainer?(this._renderer.resize(i.width,i.height),t=this._drawShape(n),t&&t.append(this._renderer.root)):t=this._drawShape(n),this._shape=t},_drawShape:function(n){var f=null,t=n.rectangle,e=~~t.horizontalMiddle(),s=~~t.verticalMiddle(),h=~~(Math.min(t.width(),t.height())/2),u=[],o=r.DeltaIndicator.getIndicatorColorType(n.type,n.hasPositiveMeaning);switch(n.type){case i.indicatorType.up:u.push(t.left),u.push(t.bottom),u.push(e),u.push(t.top),u.push(t.right),u.push(t.bottom),f=this._renderer.path(u,"area").attr({"class":o}),f._useCSSTheme=!0;break;case i.indicatorType.down:u.push(t.left),u.push(t.top),u.push(e),u.push(t.bottom),u.push(t.right),u.push(t.top),f=this._renderer.path(u,"area").attr({"class":o}),f._useCSSTheme=!0;break;case i.indicatorType.warning:f=this._renderer.circle(e,s,h).attr({"class":o}),f._useCSSTheme=!0}return f}});r.DeltaIndicator=o,r.DeltaIndicator.getIndicatorColorType=function(n,t,r){var u;if(r)u="dx-carditem-default-color";else switch(n){case i.indicatorType.up:case i.indicatorType.down:u=t?"dx-carditem-positive-color":"dx-carditem-negative-color";break;case i.indicatorType.warning:u="dx-carditem-warning-color";break;default:u="dx-carditem-none-color"}return u}}(jQuery,DevExpress),function(n,t){function s(t){function s(n,t){r.html(""),new e({container:r,type:n,hasPositiveMeaning:t}),o[n+(t?"":"_negative")]=r.html()}var h={css:{visibility:"hidden",position:"fixed",top:0,left:0,width:Math.ceil(1.25*t),height:t}},f=u.consts.deltaIndicator.indicatorType,o={},i,r=n("<div>",h).appendTo(document.body);for(i in f)s(i,!0),(i===f.up||i===f.down)&&s(i,!1);return r.remove(),o}var f=!t.viz.renderers.isSvg(),u=t.viz.indicators,e=u.DeltaIndicator,r='<svg viewBox="0 0 400 300" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); display: block;"><path class="',o={none:'<svg width="24" height="18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); display: block;"><\/svg>',up:r+'dx-carditem-positive-color" d="M 0 300 L 200 0 L 400 300 Z"><\/path><\/svg>',up_negative:r+'dx-carditem-negative-color" d="M 0 300 L 200 0 L 400 300 Z"><\/path><\/svg>',down:r+'dx-carditem-positive-color" d="M 0 0 L 200 300 L 400 0 Z"><\/path><\/svg>',down_negative:r+'dx-carditem-negative-color" d="M 0 0 L 200 300 L 400 0 Z"><\/path><\/svg>',warning:'<svg viewBox="0 0 18 18" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); display: block;"><circle cx="9" cy="9" r="8.7" class="dx-carditem-warning-color"><\/circle><\/svg>'};u.SimpleIndicator=function(){var n=o;this.renderIndicators=function(t){f&&(n=s(t))},this.getRenderedIndicator=function(t,i){return n[t+((t==="up"||t==="down")&&!i?"_negative":"")]}}}(jQuery,DevExpress),function(n,t,i){function w(n){if(n.value!==i){var t={value:n.value,valueText:h.format(n.value,n.format,n.precision)};return l(n.customizeText)?n.customizeText.call(t,t):t.valueText}return null}var s=DevExpress.require("/class"),r=n.viz,f=n.require("/utils/utils.common"),h=n.require("/utils/utils.formatHelper"),e=r.indicators.DeltaIndicator,u=Math.round,c=f.isString,l=f.isFunction,a=e.getIndicatorColorType,v=t.extend,o=10,y=.5,p=3/4;r.gauges.__internals.DeltaIndicator=s.inherit({ctor:function(n){this._renderer=n.renderer,this._root=n.renderer.g().attr({"class":"dxg-delta-indicator"}).linkOn(n.container,{name:"delta-indicator",after:"peripheral"})},dispose:function(){return this._root.linkOff(),this._renderer=this._root=null,this},clean:function(){return this._root.linkRemove().clear(),this._layout=null,this},draw:function(n){var t,f;if(n=n||{},t=this,f=w(n.text),!c(f)||!f.length)return t;t._root.linkAppend();var h=t._renderer.text(f,0,0).attr({align:"center","class":a(n.type,n.hasPositiveMeaning,n.text.useDefaultColor)}).css(r.utils.patchFontOptions(n.text.font)).append(t._root),i=h.getBBox(),l=u(i.height*y),s=u(l/p),b=new e({renderer:t._renderer}).draw({type:n.type,hasPositiveMeaning:n.hasPositiveMeaning,rect:new r.Rectangle({left:0,right:s,top:-i.y-l,bottom:-i.y})}),k=i.width,g=i.height,d=u(i.width/2),nt=-i.y;return b&&(b.append(t._root),k+=s+o,d+=s+o),h.attr({x:d,y:nt}),t._layout=v({width:k,height:g},n.layout),t},getLayoutOptions:function(){return this._layout},shift:function(n,t){return this._root.attr({translateX:n,translateY:t}),this}})}(DevExpress,jQuery),function(n){n.dashboard.widgetsViewer={}}(DevExpress),function(n,t){function e(){return null}var f=t.dashboard,u=t.viz,h=u.charts,c=u.gauges,r="instance",o={circulargauge:e},s={createWidget:function(n,t,i){switch((n||"").toLowerCase()){case"chart":return t.dxChart(i).dxChart(r);case"piechart":return t.dxPieChart(i).dxPieChart(r);case"circulargauge":return t.dxCircularGauge(i).dxCircularGauge(r);case"lineargauge":return t.dxLinearGauge(i).dxLinearGauge(r);default:return null}},getAdditionalOptions:function(n,t,i){var r=o[(n||"").toLowerCase()];return r?r(t,i):null}};f.widgetsViewer.widgetItemFactory=s}(jQuery,DevExpress),function(n,t){var r=DevExpress.require("/class"),i={Vertical:"Vertical",Horizontal:"Horizontal"},u=r.inherit({ctor:function(n,t,i,r,u,f,e){var o=this;o.totalItemCount=n,o.itemsOnRowCount=t,o.itemWidth=i,o.itemHeight=r,o.direction=f,o.itemMargin=u,o.options=e,o.itemsOnColumnCount=Math.ceil(o.totalItemCount/o.itemsOnRowCount)},getHeight:function(n){var t=this,r=n?2*t.itemMargin.Height:0;switch(t.direction){case i.Horizontal:return t.itemHeight-r;case i.Vertical:return t.itemWidth-r;default:return-1}},getWidth:function(n){var t=this,r=n?2*t.itemMargin.Width:0;switch(t.direction){case i.Horizontal:return t.itemWidth-r;case i.Vertical:return t.itemHeight-r;default:return 0}}});t.dashboard.widgetsViewer.ArrangementInfo=u,t.dashboard.widgetsViewer.positioningDirection=i}(jQuery,DevExpress),function(n,t){t.dashboard.widgetsViewer.cssClassNames={widgetViewerIdPrefix:"dx-widgets-viewer-style_id",widgetViewerContainer:"dx-widget-viewer-container",widgetViewerTable:"widget-viewer-table",widgetViewerRow:"widget-viewer-row",widgetViewerCell:"widget-viewer-cell",cardItem:"dx-cardItem",widgetItem:"dx-widgetItem",cardTitles:"dx-card-titles",cardTitle:"dx-card-title",cardSubtitle:"dx-card-subTitle",cardIndicator:"dx-card-indicator",cardValuesContainer:"dx-card-values-container",cardVariableValue1:"dx-card-variableValue1",cardVariableValue2:"dx-card-variableValue2",cardMainValue:"dx-card-mainValue",cardSparkline:"dx-card-sparkline",cardHiddenContainer:"dx-card-item-hidden-container",cardNowrapHiddenContainer:"dx-card-item-nowrap-hidden-container",selectedItem:"dx-selected-viewer-item",hoveredItem:"dx-hovered-viewer-item"}}(jQuery,DevExpress),function(n,t){function e(n){n.style.borderWidth=n.borderWidth||0,n.selectionStyle.borderWidth=n.borderWidth||0,n.hoverStyle.borderWidth=n.borderWidth||0}var o=t.require("/class"),u=t.dashboard.widgetsViewer,r=u.cssClassNames,f=function(){this.ctor.apply(this,arguments)};f.prototype={ctor:function(t){var i=this;i._options=n.extend(!0,{},i._getDefaultOptions(),t),i._type=i._options.type||"unknown",i._isSelected=!!i._options.isSelected,i.tag=i._options.tag,e(i._options),i._hoverEnabled=!!i._options.hoverEnabled,i._parentRootElement=i._options.parentRootElement},_getDefaultOptions:function(){return{cursor:"default",isSelected:!1,hoverEnabled:!1,style:{backgroundColor:"#ffffff",borderStyle:"solid",borderColor:"#C8C8CC"},selectionStyle:{backgroundColor:"rgba(95,139,149,0.35)",borderStyle:"solid",borderColor:"#5F8B95"},hoverStyle:{backgroundColor:"rgba(95,139,149,0.25)",borderStyle:"solid",borderColor:"#5F8B95"}}},dispose:function(){var n=this;n._type=null,n._isSelected=null,n.tag=null,n._hoverEnabled=null,n._parentRootElement=null,n._itemDiv.remove(),n._itemDiv=null},_getStyle:function(n){return n?this._options.selectionStyle:this._options.style},select:function(){var n=this;n._isSelected=!0,n._itemDiv&&n._itemDiv.addClass(r.selectedItem)},_hover:function(n){var t=this;t._hoverEnabled&&(n?t._itemDiv.addClass(r.hoveredItem):t._itemDiv.removeClass(r.hoveredItem))},clearSelection:function(){var n=this;n._isSelected=!1,n._itemDiv&&n._itemDiv.removeClass(r.selectedItem)},setClickHandler:function(t){var i=this;if(n.isFunction(t)&&i._itemDiv){i._itemDiv.off("click.cardItem");i._itemDiv.on("click.cardItem",function(){t.call(null,{item:i})})}},setHoverHandler:function(t){var i=this;i._itemDiv&&i._itemDiv.mouseenter(function(){i._hover(!0),n.isFunction(t)&&t.call(null,{item:i,state:!0})}).mouseleave(function(){i._hover(!1),n.isFunction(t)&&t.call(null,{item:i,state:!1})})},draw:function(n,t,i){return this._itemDiv?this._itemDiv[0]:this.initDraw(n,t,i)},initDraw:function(t,i,r){var u=this,f;return t=t||0,i=i||0,r=r||0,u.index=r,f=n("<div>",{"class":"dx-"+u._type,css:{cursor:u._options.cursor}}),u._itemDiv=f,f[0]},_applyExtraStyles:function(){this._isSelected?this.select():this.clearSelection()},toggleSelection:function(){this._isSelected?this.clearSelection():this.select()},getWidget:function(){return null},finishRender:function(n){n=n||{};var t=this,i=n.clickHandler,r=n.hoverHandler,u=n.drawOptions;t.setClickHandler(i),t.setHoverHandler(r),t.rerender(u),t._applyExtraStyles()},getItemContainer:function(){var n=this._itemDiv;if(n)return n[0]},_formStyle:function(n,t){var r=".dx-"+this._type+" "+n+"{",i;for(i in t)r+=i+":"+t[i]+"px;";return r+"}"},getCssStyle:function(n,t,i,r){var u={height:t};return this._options.ignoreProportions||(u.width=n),r+" "+this._formStyle("",u)},calcCommonItemSpecificOptions:n.noop,resize:n.noop,rerender:n.noop,detachItem:n.noop},u.BaseItem=f}(jQuery,DevExpress),function(n,t){var u=t.dashboard.widgetsViewer,r=u.BaseItem,f=function(n,t){t=t||{},this._widgetType=String(t.widgetType||"").toLowerCase(),this._itemData=n||{},this._itemData.encodeHtml=t.encodeHtml,t.type="widgetItem",r.prototype.ctor.call(this,t)};n.extend(f.prototype,r.prototype,{dispose:function(){var n=this;r.prototype.dispose.apply(n,arguments),n._itemData=null,n._widget=null},_getDefaultOptions:function(){return n.extend(!0,{},r.prototype._getDefaultOptions.apply(this,arguments),{style:{borderStyle:"solid",borderColor:"#ffffff"}})},detachItem:function(){var n=this._itemDiv;n&&n.detach()},draw:function(n,t,i){var f=this,e;return r.prototype.draw.call(f,n,t,i),e=f._itemDiv,e.css("margin","auto"),f._widget=u.widgetItemFactory.createWidget(f._widgetType,e,f._itemData),e[0]},resize:function(n,t,i){if(!this._itemDiv.children().length)return this.draw(n,t,i)},rerender:function(t){var i=this,r;i._widget&&(r=u.widgetItemFactory.getAdditionalOptions(i._widgetType,i._itemDiv,i._itemData),r&&n.extend(!0,i._widget._options,r),i._widget.render(t))},getWidget:function(){return this._widget}}),u.WidgetItem=f}(jQuery,DevExpress),function(n,t){function w(n){return n*.25}function b(n){return{title:~~(n*.22),subTitle:~~(n*.14),mainValue:~~(n*.3),variableValue1:~~(n*.14),variableValue2:~~(n*.14)}}function c(n){for(var f=n.split(" "),e="<span>",o=" <\/span>",s="",u,h=1,i,t=0;t<f.length;t++)s+=e+f[t]+o;for(r.html(e+s+o),i=r.children()[0].getClientRects(),u=i[0].top,t=1;t<i.length;t++)i[t].top!==u&&(h++,u=i[t].top);return h}var a=t.require("/utils/utils.formatHelper"),s=t.dashboard.widgetsViewer,u=s.BaseItem,v=t.viz.indicators,y=v.DeltaIndicator,h=new t.viz.indicators.SimpleIndicator,i=s.cssClassNames,r=n("<div>",{id:i.cardHiddenContainer}),e=n("<div>",{id:i.cardNowrapHiddenContainer}),p=!t.viz.renderers.isSvg(),f=Math.ceil,o=Math.floor,l=function(t,i){i=i||{};var f=this,s=function(t){return t?i.encodeHtml?n("<div>").text(t).html():t:""},o={type:"none",hasPositiveMeaning:!1,text:{value:"",useDefaultColor:!1}};i.type="cardItem",i.ignoreProportions=!1,u.prototype.ctor.call(f,i),t=t||{},f.data=t.data||{},f.title=s(t.title),f.subTitle=s(t.subTitle),f.sparklineOptions=t.sparklineOptions||{},f.variableValue1=n.extend(!0,{},o,t.variableValue1),f.variableValue2=n.extend(!0,{},o,t.variableValue2),o.text.useDefaultColor=!0,f.mainValue=n.extend(!0,{},o,t.mainValue),f.indicator={hasPositiveMeaning:f.mainValue.hasPositiveMeaning,type:f.mainValue.type},r.parent().length===0&&r.appendTo(document.body),e.parent().length===0&&e.appendTo(document.body),f.subtitleDotsIndex=0};n.extend(l.prototype,u.prototype,{dispose:function(){var n=this;u.prototype.dispose.apply(n,arguments),n.data=null,n.sparklineOptions=null,n.indicator=null,n._options=null},_getDefaultOptions:function(){var t=u.prototype._getDefaultOptions.apply(this,arguments),i={padding:{top:3,left:12,right:12,bottom:10},font:{family:"Segoe UI, HelveticaNeue, Trebuchet MS, Verdana",weight:"normal"},title:{color:"black"},subTitle:{color:"#B6B6B6"}};return n.extend(!0,{},t,i)},_getText:function(n){var u=this,t=u[n].text,i=t.value,r=t.format;return r?a.format(parseFloat(i),r):i.toString()},_getClassFromIndicator:function(n,t,i){return y.getIndicatorColorType(n,t,i)},_getCardStyle:function(n){return n?this._options.selectionStyle:this._options.style},_getValueClassName:function(n){var i=this,t=i[n],r=t.text.useDefaultColor,u=t.hasPositiveMeaning,f=t.type;return i._getClassFromIndicator(f,u,r)},_setSubtitleDotsIndex:function(n){this._subtitleDotsIndex=n},_getEllipsisText:function(n,t,i){if(!n||n==="")return"";var v=this,u=c(n),y,h,r,f,l="...",s,a,p=this._subtitleDotsIndex;if(u<=2)return n;for(y=e.text(n).width(),h=o(2*i*n.length/y),r=n.substring(0,h-3)+l,u=c(r),f=u>2?-1:1,s=1;s<h;s+=2){if(a=p?p+s*f:h-3+s*f,r=n.substring(0,a)+l,u=c(r),f===1&&u===3)return r=n.substring(0,a-3)+l,v._setSubtitleDotsIndex(r.length-3),r;if(f===-1&&u===2)return v._setSubtitleDotsIndex(r.length-3),r}return r},draw:function(t,r,f,e){var s=this,a=s._options,c=e.paddings,it=e.sparklineHeight,v,y,l,p,w=parseFloat(c.top)+"px",b,k,d,g,nt,tt,rt=a.encodeHtml?s._getEllipsisText(s.subTitle,e,o((t-c.right-c.left)*.6)):s.subTitle;return l=u.prototype.draw.call(s,t,r,f),k=['<div class="',i.cardTitle+'">',s.title,"<\/div>"].join(""),d=['<div class="',i.cardSubtitle,'">',rt,"<\/div>"].join(""),b=['<div class="',i.cardTitles,'"style="left:',c.left,"px;right:",c.right,"px;top:",w,'">',k,d,"<\/div>"].join(""),y=['<div class="',i.cardIndicator,'" style="left:',c.left+'px;">',h.getRenderedIndicator(s.indicator.type,s.indicator.hasPositiveMeaning),"<\/div>"].join(""),g=['<span class="',i.cardVariableValue1," ",s._getValueClassName("variableValue1")+'">',s._getText("variableValue1"),"<\/span>"].join(""),nt=['<span class="',i.cardVariableValue2," ",s._getValueClassName("variableValue2"),'">',s._getText("variableValue2"),"<\/span>"].join(""),tt=['<span class="',i.cardMainValue," ",s._getValueClassName("mainValue"),'">',s._getText("mainValue"),"<\/span>"].join(""),v=['<div class="',i.cardValuesContainer,'" style="left:',c.left,"px;right:",c.right,"px;top:",w,'">',g,nt,tt,"<\/div>"].join(""),l.innerHTML=v+y+b,a.hasSparkline&&(p=n("<div>",{"class":i.cardSparkline,css:{left:c.left,right:c.right}}).appendTo(l),s.sparklineOptions.size={width:t-c.left-c.right,height:it},p.dxSparkline(s.sparklineOptions)),l},resize:function(n,t,r,u){var f=this,s=u.sparklineHeight,e=f._itemDiv,c=e.find("."+i.cardIndicator),l=e.find("."+i.cardSubtitle),y=e.find("."+i.cardSparkline),a=f._options.padding,v=n-a.right-a.left;return e.children().length?(p&&(c.html(""),c.html(h.getRenderedIndicator(f.indicator.type,f.indicator.hasPositiveMeaning))),f._options.encodeHtml&&l.text(f._getEllipsisText(l.text(),u,o(v*.6))),s&&y.dxSparkline("instance").option("size",{width:v,height:s}),e):(f.draw(n,t,r,u),f._itemDiv)},getCssStyle:function(n,t,r,e){var s=this,c=r.paddings,h=r.sparklineHeight,l=n-c.right-c.left,o=r.fontSizes,a=u.prototype.getCssStyle.call(s,n,t,r,e),v=e+" "+s._formStyle("."+i.cardTitles,{"line-height":o.title}),y=e+" "+s._formStyle("."+i.cardTitles+" ."+i.cardTitle,{"font-size":o.title,"min-height":f(o.title*1.3)}),p=e+" "+s._formStyle("."+i.cardTitles+" ."+i.cardSubtitle,{"min-height":f(o.subTitle*1.3)*2,"font-size":o.subTitle}),w=e+" "+s._formStyle("."+i.cardIndicator,{height:f(.18*(t-h)),width:f(.24*(t-h)),bottom:c.bottom+h+3}),b=e+" "+s._formStyle("."+i.cardValuesContainer,{bottom:c.bottom+h}),k=e+" "+s._formStyle("."+i.cardValuesContainer+" ."+i.cardVariableValue1,{"font-size":o.variableValue1,"line-height":o.variableValue1,bottom:o.variableValue2+o.mainValue}),d=e+" "+s._formStyle("."+i.cardValuesContainer+" ."+i.cardVariableValue2,{"font-size":o.variableValue2,"line-height":o.variableValue2,bottom:o.mainValue}),g=e+" "+s._formStyle("."+i.cardValuesContainer+" ."+i.cardMainValue,{"font-size":o.mainValue,"line-height":o.mainValue}),nt=h?e+" "+s._formStyle("."+i.cardSparkline,{height:h,width:l}):"";return[a,v,y,p,w,b,k,d,g,nt].join(" ")},calcCommonItemSpecificOptions:function(t,i){var v=this,l=v._options,u=l.hasSparkline?w(i):0,s=b(i-u),c=n.extend({},{top:0,left:0,right:0,bottom:0},l.padding),a;return r.width(o((t-c.right-c.left)*.6)).css("fontSize",s.subTitle),e.css("fontSize",s.subTitle),a=r.text("a").height(),r.empty(),h.renderIndicators(f(.18*(i-u))),{paddings:c,sparklineHeight:u,fontSizes:s,oneRowHeight:a}}}),s.CardItem=l}(jQuery,DevExpress),function(n,t){var h=t.require("/domComponent"),u=t.dashboard.widgetsViewer,f=u.ArrangementInfo,i=u.positioningDirection,c=u.CardItem,l=u.WidgetItem,e=t.utils,o=t.require("/utils/utils.window"),s=t.require("/utils/utils.common"),a=t.require("/componentRegistrator"),v=0,r=u.cssClassNames,y=!t.viz.renderers.isSvg();a("dxWidgetsViewer",u,h.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{dataSource:[],viewer:{hoverEnabled:!1,overflow:"auto",method:"auto",count:1,widgetType:"card",redrawOnResize:!0,onclick:null,onRenderComplete:null,onAllItemsRenderComplete:null,bulkTimesRenderingTimeInterval:200,useNativeScrolling:"auto",ignorePadding:!1},itemOptions:{encodeHtml:!0,minWidth:undefined,proportions:undefined,ignoreProportions:!1,itemMargin:{width:5,height:5},borderWidth:1,hasSparkline:!1}})},_init:function(){this.callBase();var n=this,t=n.option("viewer"),i=n.option("viewer.useNativeScrolling");n._viewerID=v++,n._content=e.renderHelper.wrapScrollable(n._rootContainer(),i,t.overflow,"both"),n._scrollBarWidth=n._getScrollBarWidth(),n._widgetType=t.widgetType.toLowerCase(),n._setWidgetTypeSpecificOptions(),n._createItems(),t.redrawOnResize&&(n._resizeHandler=n._getResizeHandler(),o.resizeCallbacks.add(n._resizeHandler)),n.totalMarginsAndBorders=n._calcTotalMarginsAndBorders()},_dispose:function(){var t=this;o.resizeCallbacks.remove(t._resizeHandler),clearTimeout(t._drawTimer),t._drawTimer=null,n.each(t.itemsList||[],function(n,t){t.dispose()}),t._content=null,t._scrollBarWidth=null,t._widgetType=null,t.itemsList=null,t.totalMarginsAndBorders=null,t._resizeHandler=null,t._styleTag&&(t._styleTag.remove(),t._styleTag=null)},_getScrollable:function(){return e.renderHelper.getScrollable(this._rootContainer())},_updateScrollable:function(){e.renderHelper.updateScrollable(this._rootContainer())},_scrollTo:function(n,t){var i=this,r=this._getScrollable();r?r.scrollTo({x:n,y:t}):(i._rootContent().scrollLeft(n),i._rootContent().scrollTop(t))},_scrollOffset:function(){var n=this,t=this._getScrollable();return t?t.scrollOffset():{left:n._rootContent().scrollLeft(),top:n._rootContent().scrollTop()}},_rootContainer:function(){return this.element()},_rootContent:function(){return this._content},_parentHeight:function(){var n=0;return this._rootContainer().height()-n},_parentWidth:function(){var n=0;return this._rootContainer().width()-n},_parentWidthWithoutScroll:function(){var n=this;return n._parentWidth()-n._scrollBarWidth*n._hasVerticalScroll},_parentHeightWithoutScroll:function(){var n=this;return n._parentHeight()-n._scrollBarWidth*n._hasHorizontalScroll},_getResizeHandler:function(){var n=this;return function(){n.redraw()}},_setWidgetTypeSpecificOptions:function(){var t=this.option("viewer").align,n=this.option("itemOptions"),i=n.proportions,r=n.minWidth;this._widgetType==="card"?(this.align=t||"left",this.minItemWidth=this.curItemWidth=r||180,this._itemProportions=i||(n.hasSparkline?.625:.5)):(this.align=t||"center",this.minItemWidth=this.curItemWidth=r||200,this._itemProportions=i||1,this._needVerticalCentering=!0),this.minItemHeight=this.curItemHeight=this._itemProportions*this.minItemWidth},getSizeParams:function(){var n=this,t=n._scrollOffset(),i=n._rootContainer().find("."+r.widgetViewerTable),u=n.option("itemOptions.itemMargin");return{virtualSize:{width:i.outerWidth(),height:i.outerHeight()},scroll:{top:t.top,left:t.left,size:n._scrollBarWidth,horizontal:n._hasHorizontalScroll===1,vertical:n._hasVerticalScroll===1},itemMargin:{width:u.width,height:u.height}}},getSelectedItems:function(){return n.map(this.itemsList,function(n){return n._isSelected?n:null})},clearSelections:function(){n.each(this.itemsList,function(n,t){t.clearSelection()})},_createItems:function(){var t=this,r=t.option("dataSource"),i=t.option("itemOptions"),u=t._widgetType=="card"?c:l,f=t._rootContent();t.itemsList=[],n.each(r,function(n,r){i.widgetType=t._widgetType,i.hoverEnabled=r.hoverEnabled,i.isSelected=r.isSelected,i.cursor=r.cursor,i.tag=r.tag,i.parentRootElement=f,t.itemsList.push(new u(r,i))}),t._firstDraw=!0,delete t._viewerParams},_optionChanged:function(n){switch(n.name){case"dataSource":case"itemOptions":this._invalidate();break;default:this.callBase(n)}this.callBase(n)},_refresh:function(){this.curItemWidth=this.minItemWidth,this.curItemHeight=this.minItemHeight,this._createItems(),this.callBase()},_invalidate:function(){this.callBase()},_calcTotalMarginsAndBorders:function(){var n=this.option("itemOptions"),t=n.borderWidth||0;return{width:2*(n.itemMargin.width+t),height:2*(n.itemMargin.height+t)}},_render:function(t){var i=this,f=i.option("viewer"),s=f.onRenderComplete,c=f.method.toLowerCase(),l=f.count,a=f.onclick,v=f.onhover,o,u=i._rootContent(),y=u.css("overflow-x"),p=u.css("overflow-y"),e=u.parent(),w=e.css("overflow-x"),b=e.css("overflow-y"),h=i._scrollOffset();clearTimeout(i._drawTimer),o=i._drawItems(c,l),u.html(""),u.css("overflow","hidden"),e.css("overflow","hidden"),o&&(i.innerContainer=n("<div>",{"class":r.widgetViewerContainer,css:{textAlign:i.align,padding:0,margin:0}}).append(o),u.append(i.innerContainer).find(".test"),n.each(i.itemsList,function(n,i){i.finishRender({clickHandler:a,hoverHandler:v,drawOptions:t})}),i._needVerticalCentering&&i.innerContainer&&i._viewerParams.direction==="Horizontal"&&i._verticalCentering(o)),u.css("overflow-x",y),u.css("overflow-y",p),e.css("overflow-x",w),e.css("overflow-y",b),i._updateScrollable(),i._scrollTo(h.left,h.top),s&&s.call(null)},_verticalCentering:function(){var t=this,i=t._parentHeight()-t._rootContainer().find("."+r.widgetViewerContainer).height();i>0?t.innerContainer.css({paddingTop:~~(i/2)+"px"}):t.innerContainer.css({paddingTop:"0px"})},redraw:function(){var n={animate:!1};y&&(n.force=!0),this._render(n)},_calcItemIndex:function(n,t,r,u,f){return r==i.Horizontal?n*f+t:t*u+n},_calcVisibleRow:function(n){var t=this._parentHeight();return Math.ceil(t/n)},_calcVisibleColumn:function(n){var t=this._parentWidth();return Math.ceil(t/n)},_getPartArray:function(n,t,i){for(var u=[],r=0,f=t*i,r=f;r<f+t;r++)u.push(n[r]);return u},_createTable:function(t){var u=this,a,e,s,v,k,d,l,g=t.direction==i.Horizontal,f=u.option("itemOptions.itemMargin"),h=u.option("viewer.ignorePadding"),c=g?t.itemsOnRowCount:t.itemsOnColumnCount,o=g?t.itemsOnColumnCount:t.itemsOnRowCount,nt,ht=u.itemsList.length,ut,ft=u.totalMarginsAndBorders.width,et=u.totalMarginsAndBorders.height,ct=u._parentWidthWithoutScroll(),lt=u._parentHeightWithoutScroll(),y,p,tt,w,ot=u.curItemWidth,it=u.curItemHeight,st=ot-2*f.width,rt=it-2*f.height,b;if(o<=0)return undefined;for(a=n("<div>",{"class":r.widgetViewerTable+" "+r.widgetViewerIdPrefix+u._viewerID,css:{overflow:"hidden",marginLeft:"0px",marginRight:"0px"}}),u._widgetType!=="card"?(w=~~Math.max((ct-c*ft)/c,st),tt=g?rt:~~Math.max((lt-o*et)/o,rt)):(w=st,tt=rt),p=(w+2*f.width)*c,h&&(p-=2*f.width),ut=p,a.css({height:"100%",width:ut+"px"}),e=0;e<o;e++){for(y=it,h&&(e===0&&o===1?y-=2*f.height:(e===0||e===o-1)&&(y-=f.height)),d=n("<div>",{"class":r.widgetViewerRow,css:{clear:"both",padding:"0px",margin:"0px",height:y,width:p}}),s=0;s<c;s++)l=null,k=n("<div >",{"class":r.widgetViewerCell,css:{paddingLeft:h&&s===0?0:f.width,paddingRight:h&&s===c-1?0:f.width,paddingTop:h&&e===0?0:f.height,paddingBottom:h&&e===o-1?0:f.height,margin:"0px",width:w+"px",height:tt,float:"left"}}),v=u._calcItemIndex(e,s,t.direction,o,c),v<ht&&(b=u.itemsList[v],u._firstDraw?(l=b.initDraw(ot-ft,it-et,v),nt="draw"):(b.detachItem(),l=b.getItemContainer(),nt="resize"),l&&k.append(l)),d.append(k);a.append(d)}return u._processBatchItems(nt,0),u._firstDraw=!1,a},_getItemProportions:function(){return this._itemProportions},_calcViewerParams:function(n,t,r,u){var e=this,f=e._calculateArrangementInfo(n,t,r,u),o=function(){var n=undefined;return f.direction===i.Vertical&&(n=f.itemsOnRowCount),f.direction===i.Horizontal&&(n=f.itemsOnColumnCount),n},s=function(){var n=undefined;return f.direction===i.Vertical&&(n=f.itemsOnColumnCount),f.direction===i.Horizontal&&(n=f.itemsOnRowCount),n},l=function(n){var t=~~(n/(e._getItemProportions()*o()));return h=t*s()},a=function(n){var t=~~(n*e._getItemProportions()/s());return t*o()},c,h;if(e._hasHorizontalScroll=0,e._hasVerticalScroll=0,s()*f.getWidth()>n){if(f=e._calculateArrangementInfo(n,t-e._scrollBarWidth,r,u),f.direction===i.Vertical&&s()*f.getWidth()<n&&(c=a(n),c<=t))return e._calculateArrangementInfo(n,c,r,u);e._hasHorizontalScroll=1}if(o()*f.getHeight()>t){if(f=e._calculateArrangementInfo(n-e._scrollBarWidth,t,r,u),f.direction===i.Horizontal&&o()*f.getHeight()<t&&(h=l(t),h<=n))return e._calculateArrangementInfo(h,t,r,u);e._hasVerticalScroll=1}return f},_createArrangementInfo:function(n,t,i,r,u){var o=this,e,s,h={};return t<1&&(t=1),o.itemsList.length<t&&(t=o.itemsList.length),e=n/t,s=~~(e*r),e<i&&(e=i,s=~~(e*r)),new f(o.itemsList.length,t,e,s,o.option("itemOptions").itemMargin,u,h)},_calculateArrangementInfo:function(n,t,r,u){var e=this,o,v,p,s,l,h,a,y,w=e.option("itemOptions").itemMargin,c=e._getItemProportions(),b={};switch(u){case"column":return e._createArrangementInfo(n,r,e.minItemWidth,c,i.Horizontal);case"row":return e._createArrangementInfo(t,r,e.minItemHeight,1/c,i.Vertical);case"auto":if(t<e.minItemHeight&&n/e.minItemWidth>=e.itemsList.length)return new f(e.itemsList.length,e.itemsList.length,e.minItemWidth,e.minItemHeight,w,i.Horizontal,b);for(o=e._createArrangementInfo(n,~~(n/e.minItemWidth),e.minItemWidth,c,i.Horizontal),y=o.itemsOnRowCount-1;y>=1;y--)if(v=e._createArrangementInfo(n,y,e.minItemWidth,c,i.Horizontal),t>=v.itemsOnColumnCount*v.getHeight(!1))o=v;else break;return p=e._createArrangementInfo(n,o.itemsOnRowCount-1,e.minItemWidth,c,i.Horizontal),s=e._createArrangementInfo(t,p.itemsOnColumnCount,e.minItemHeight,1/c,i.Vertical),l=s.getHeight(!1),h=s.getWidth(!1),a=p.itemsOnRowCount,o.getHeight(!1)<l&&n>=a*h&&(o=new f(e.itemsList.length,a,h,l,w,i.Horizontal,b)),t<o.itemsOnColumnCount*o.getHeight(!1)&&(s=e._createArrangementInfo(t,o.itemsOnColumnCount,e.minItemHeight,1/c,i.Vertical),l=s.getHeight(!1),h=s.getWidth(!1),a=s.itemsOnColumnCount,t>=s.itemsOnRowCount*l&&n>=a*h&&(o=new f(e.itemsList.length,Math.min(~~(n/h),e.itemsList.length),h,l,w,i.Horizontal,b))),o;default:return null}},_drawItems:function(n,t){n=n||"auto",t=t||1;var i=this,e=i._parentWidth(),o=i._parentHeight(),r=i._viewerParams,s=i.itemsList,u=i.option("viewer.ignorePadding"),f=i.option("itemOptions.itemMargin"),h=u?2*f.width:0,c=u?2*f.height:0;return s.length?(r=i._viewerParams=i._calcViewerParams(e+h,o+c,t,n),i.curItemHeight=~~r.getHeight(),i.curItemWidth=~~r.getWidth(),i._createTable(i._viewerParams)):""},getItemByIndex:function(n){var i,t;return s.isNumber(n)&&(i=Number(n),t=this.itemsList[i]),s.isDefined(t)?t:null},_getScrollBarWidth:function(){var r=this,u=r.option("viewer.useNativeScrolling"),t=0,e;if(u=="auto"||u===!1)return t;var i=n("<div>",{css:{position:"absolute",top:0,left:0,visibility:"hidden",width:200,height:150,overflow:"hidden"}}).appendTo(n("body")),f=n("<p>",{css:{width:"100%",height:300}}).appendTo(i),o=f.width();return i.css("overflow",r.option("viewer").overflow),e=f.width(),t=o-e,t>0&&t++,i.remove(),t},_processBatchItems:function(t,i){var u=this,c=new Date,f=u.itemsList,p=f.length,l=u.totalMarginsAndBorders,w=l.width,b=l.height,a=u.option("viewer"),v=a.onAllItemsRenderComplete,k=a.bulkTimesRenderingTimeInterval,e=u.curItemWidth-w,o=u.curItemHeight-b,s,y,h;f[i]&&(s=f[i].calcCommonItemSpecificOptions(e,o),y=f[i].getCssStyle(e,o,s,"."+r.widgetViewerIdPrefix+u._viewerID),u._styleTag&&u._styleTag.remove(),u._styleTag=n('<style type="text/css">'+y+"<\/style>").appendTo("head"),h=function(){if(n.isFunction(f[i][t])){c=new Date;do if(i<p&&(f[i][t](e,o,i,s),++i),!f[i]){n.isFunction(v)&&v.call(null);return}while(new Date-c<k);u._drawTimer=setTimeout(function(){h()},0)}},h())}}))}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,f=t.require("/class"),u=t.require("/ui/events/ui.events.remove");r.dropDownMenu=DevExpress.require("/class").inherit({ctor:function(t){this.options=t,this.$imageDiv=n("<div/>",{"class":"dx-icon-"+t.className,title:t.title}),this._initialize()},setState:function(n){this.options.enabled=n},getButtonImageDiv:function(){return this.$imageDiv},_initialize:function(){var o=this,f=o.options,r=o.getButtonImageDiv(),e,h,t=n("<div/>",{"class":"dx-dashboard-menu-background",overflow:"visible",css:{"z-index":2e4}}),c=function(){return t.is(":visible")},s=function(){t.hide()},l=function(){t.show();var i=r.offset();r[0].getBoundingClientRect().top+r.outerHeight()+t.outerHeight()>n(window).height()?i.top-=t.outerHeight()+parseInt(r.css("paddingTop")):i.top+=r.innerHeight()+parseInt(t.css("paddingTop")),r[0].getBoundingClientRect().left+r.outerWidth()+t.outerWidth()>n(window).width()&&(i.left-=t.outerWidth()-r.outerWidth()),i.left<0?(t.css({"max-width":t.width()-Math.abs(i.left)}),i.left=0):t.css({"max-width":"100%"}),t.offset(i)};r.appendTo(f.$container),h=n("<ul/>").appendTo(t),n.each(f.elementNames,function(r,u){var e=n("<li/>",{}).text(u).on("dxclick",function(){t.find("li").css({fontWeight:"normal"}),f.selectedIndex!==i&&n(this).css({fontWeight:"bold"}),f.selectItem(r,u),s()}).hover(function(){n(this).addClass("dx-dashboard-menu-item-selected")},function(){n(this).removeClass("dx-dashboard-menu-item-selected")});f.selectedIndex===r&&e.css({fontWeight:"bold"}),e.appendTo(h)}),t.on(u.name,function(){clearTimeout(e)}).mouseleave(function(){e=setTimeout(s,400)}),t.mouseenter(function(){clearTimeout(e)}),o._applyEllipsis(t),t.appendTo(f.$parentContainer);r.on("dxclick",function(){o.options.enabled&&(c()?s():l())});r.hover(function(){clearTimeout(e)},function(){e=setTimeout(s,400)})},_applyEllipsis:function(t){var i=n(window).width(),r=t.width(),f=i-r,u=t[0].getBoundingClientRect().left;f>0?u+r>i&&(t.offset({left:0}),t.css({position:"absolute"})):t.css({width:i-u,textOverflow:"ellipsis","-o-text-overflow":"ellipsis","-moz-binding":"url( 'bindings.xml#ellipsis' )","white-space":"nowrap"})}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,e=t.utils,u=DevExpress.require("/class"),f=t.require("/ui/widgets/ui.button");r.dialogClasses={form:"dx-dashboard-form",element:"dx-dashboard-dialog-element",elementOffset:"dx-dashboard-dialog-element-offset",name:"dx-dashboard-dialog-element-name",disabledName:"dx-dashboard-dialog-element-name-disabled",box:"dx-dashboard-dialog-element-box",buttons:"dx-dashboard-dialog-buttons",elementTextBox:"dx-dashboard-dialog-element-text-box",elementNumberBox:"dx-dashboard-dialog-element-number-box"},r.buttonWidth="90px",r.scrollableControlHeight="390px",r.widgetMargin=1,r.dialogControlTypes={dxTagBox:"dxTagBox",dxSelectBox:"dxSelectBox",dxRadioGroup:"dxRadioGroup",dxNumberBox:"dxNumberBox",dxTextBox:"dxTextBox",dxCheckBox:"dxCheckBox",dxDateBox:"dxDateBox"},r.dialogForm=u.inherit({ctor:function(n){this.options=n,this.options.renderControls&&(this.renderControls=this.options.renderControls),this.options.setActualState&&(this.setActualState=this.options.setActualState),this.options.buttons&&(this.buttons=this.options.buttons),this._initialize()},_initialize:function(){var a=r.data.localizer,t=this,u=t.options,o=t.buttons,l=t.renderControls,s=i,e=i,v=i,y=i,h=i,c=i;s=n("<div/>").appendTo(u.$dialogContainer).dxPopup({title:u.title,showCloseButton:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},position:{my:"center",at:"center",of:u.$dialogContainer},container:u.$dialogContainer,onContentReady:function(n){t.controlCreationCallbacks.fire(n.component,t.popupInstance.content().find("."+r.dialogClasses.form))},onShowing:function(n){n.component.content().children().data("dxDataGrid")&&(this.option("resizeEnabled",!0),n.component.content().css("padding-bottom",r.parametersDialogSizes.dataGridBottomPadding),n.component.overlayContent().dxResizable("instance").off("resize",this.content().children().data("dxDataGrid").updateDimensions).on("resize",this.content().children().data("dxDataGrid").updateDimensions).option("minHeight",r.parametersDialogSizes.dialogFormMinHeight),n.component.overlayContent().dxResizable("instance").option("minWidth",r.parametersDialogSizes.dialogFormMinWidth));var i=t._setLabelsWidth();t.setActualState(i)}}),e=s.data("dxPopup"),u.width&&e.option("width",u.width),u.height&&e.option("height",u.height),t.popupInstance=e,t.controlCreationCallbacks=n.Callbacks(),h=e.content(),h.append(u.$content),l(t.controlCreationCallbacks),t.controlCreationCallbacks.add(function(t){c=n("<div/>",{"class":r.dialogClasses.buttons}).appendTo(t.content()),o&&n.each(o,function(t,i){new f(n("<div/>").appendTo(c),{text:i.name,onClick:function(){i.func(),i.hide&&e.hide()}})})})},showDialog:function(){this.popupInstance.show()},hideDialog:function(){this.popupInstance.hide()},_setLabelsWidth:function(){var c=this,t=0,l=400,a=80,v=10,u=i,o=i,s=i,f=n("<div/>",{"class":"dx-dashboard-labels-container"}).appendTo(n(".dx-dashboard-container")),h,e=0;return n.each(c.popupInstance.content().find("."+r.dialogClasses.form).children(),function(t,i){u=n(i),o=n("<span/>").append(u.find("."+r.dialogClasses.name).text()),f.append(o).append("<br/>"),h=u.find("."+r.dialogClasses.box),e=Math.max(e,h.outerWidth())}),n.each(f.children(),function(i,r){s=n(r),t=Math.max(t,s.width())}),t=Math.max(a,Math.min(l,t))+v,f.remove(),n("."+r.dialogClasses.name).css("width",t),t+e+r.utils.pxToNumber(n("."+r.dialogClasses.name).css("margin-right"))+2*r.widgetMargin}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=DevExpress.require("/class");r.dialogClasses.parametersForm="dx-dashboard-parameters-form",r.dialogClasses.allowNullCheckBox="dx-parameter-allownull-checkbox",r.dialogClasses.allowNullCheckBoxSize="dx-datagrid-checkbox-size",r.dialogClasses.valueEditor="dx-parameter-value-editor",r.parametersDialogSizes={columnParameterNameWidth:"150",columnValueWidth:"100%",columnAllowNullWidth:"90",dialogFormWidth:"500",dialogFormHeight:"500",dialogFormMinWidth:"392",dialogFormMinHeight:"240",dataGridHeight:"100%",dialogFormElementsHeigth:172,dataGridBottomPadding:100,gridRowHeight:34},r.parameterTypes={string:"String",int:"Int",float:"Float",bool:"Bool",dateTime:"DateTime",selector:"Selector",multiselector:"Multiselector",guid:"Guid"},r.parametersButton=u.inherit({ctor:function(n){this.options=n,this.options.showParametersDialog&&(this.showParametersDialog=this.options.showParametersDialog),this._initialize()},setState:function(n){var t=this,i=n.loading?t.options.loadingClassName:t.options.className;t.$showParametersButton.attr("class",i),t.options.enabled=n.enabled},_initialize:function(){var e=r.data.localizer,t=this,f=t.options,o=t.showParametersDialog,u=i;u=n("<div/>",{"class":f.className,title:e.getString(r.localizationId.buttonNames.ParametersFormCaption)}).appendTo(f.$container),u.click(function(){!t.options.enabled||o()}),t.$showParametersButton=u}}),r.parametersDialog=u.inherit({ctor:function(n){this.options=n,this.options.getParametersCollection&&(this.getParametersCollection=this.options.getParametersCollection),this.options.submitParameters&&(this.submitParameters=this.options.submitParameters),this._initialize()},_initialize:function(){var u=r.data.localizer,t=this,h=t.options,o=t.getParametersCollection().getVisibleParameters().length,c=o>8,l=(o+1)*r.parametersDialogSizes.gridRowHeight,f,a=t.submitParameters,i=[],s=n("<div/>",{"class":r.dialogClasses.form+" "+r.dialogClasses.parametersForm}),e;n.each(t.getParametersCollection().getVisibleParameters(),function(n,t){if(t.getAllowNull())return f=!0,!1}),e=[{dataField:"description",caption:"Parameter Name",dataType:"string",width:r.parametersDialogSizes.columnParameterNameWidth},{dataField:"$divValueEditor",caption:"Value",width:r.parametersDialogSizes.columnValueWidth,cssClass:"dx-parameter-value-editor",alignment:"center",showEditorAlways:!0,editCellTemplate:function(n,t){t.data.controlName==="dxCheckBox"?t.data.$divValueEditor.appendTo(n):t.data.$divValueEditor=n,t.data._addControl()}}],f&&e.push({dataField:"$divAllowNull",caption:"Allow Null",width:r.parametersDialogSizes.columnAllowNullWidth,alignment:"center",cellTemplate:function(n,t){t.value.appendTo(n)}}),t.dialogForm=new r.dialogForm({title:u.getString(r.localizationId.buttonNames.ParametersFormCaption),$dialogContainer:h.$parametersDialogContainer,width:f?r.parametersDialogSizes.dialogFormWidth:r.parametersDialogSizes.dialogFormMinWidth,height:c?r.parametersDialogSizes.dialogFormHeight:l+r.parametersDialogSizes.dialogFormElementsHeigth,$content:s,buttons:[{name:u.getString(r.localizationId.buttonNames.ButtonReset),func:function(){var r=t.getParametersCollection();n.each(i,function(n,t){t.setValue(r.getParameterDefaultValue(t.name))})}},{name:u.getString(r.localizationId.buttonNames.ButtonSubmit),hide:!0,func:function(){var t=[];n.each(i,function(n,i){t[n]={Name:i.name,Value:i.getValue()}}),a(t)}},{name:u.getString(r.localizationId.buttonNames.ButtonCancel),hide:!0,func:function(){}}],renderControls:function(r){n.each(t.getParametersCollection().getVisibleParameters(),function(n,u){i.push(t._getParameterEntity(u,r))})},setActualState:function(){var r=t.getParametersCollection();n.each(i,function(n,t){t.setValue(r.getParameterValue(t.name))})}}),s.dxDataGrid({dataSource:i,showColumnLines:!0,showRowLines:!0,width:"100%",height:r.parametersDialogSizes.dataGridHeight,allowColumnResizing:!0,sorting:{mode:"none"},columns:e})},show:function(){this.dialogForm.showDialog()},hide:function(){this.dialogForm.hideDialog()},_getControlTypes:function(){var n=[];return n[r.parameterTypes.multiselector]=r.dialogControlTypes.dxTagBox,n[r.parameterTypes.selector]=r.dialogControlTypes.dxSelectBox,n[r.parameterTypes.string]=r.dialogControlTypes.dxTextBox,n[r.parameterTypes.int]=r.dialogControlTypes.dxNumberBox,n[r.parameterTypes.float]=r.dialogControlTypes.dxNumberBox,n[r.parameterTypes.bool]=r.dialogControlTypes.dxCheckBox,n[r.parameterTypes.dateTime]=r.dialogControlTypes.dxDateBox,n[r.parameterTypes.guid]=r.dialogControlTypes.dxTextBox,n},_getParameterEntity:function(t,i){var u={name:t.getName(),description:t.getDescription(),defaultValue:t.getDefaultValue(),controlCreationCallbacks:i,allowNull:t.getAllowNull(),allowMultiselect:t.getAllowMultiselect(),type:t.getType(),value:t.getValue()},e=this._getControlTypes(),o=r.data.localizer,f;if(t.getValues().length>0)return f=[],n.each(t.getValues(),function(n,t){f.push({value:t.getValue(),displayValue:t.getDisplayText()})}),u.allowMultiselect?new r.parameterEntity(n.extend(!0,u,{controlName:e[r.parameterTypes.multiselector],valueName:"values",controlOptions:{dataSource:{store:new DevExpress.data.ArrayStore(f),paginate:!1},showDropButton:!0,showSelectionControls:!0,itemTemplate:function(n){return n.displayValue},fieldTemplate:function(t){var i="",r,u,f,e;if(!t.context){t.length>0&&(typeof t[0]!="object"||t[0]===null)&&(i+=t[0],this._valuesData.splice(0,1),this.option("values").splice(0,1),t.splice(0,1));for(r in t){if(i+=t[r].displayValue,r==t.length-1)break;i+=", "}}return u=n("<input>").addClass("dx-texteditor-input").val(i).prop("readonly",!0).css({padding:"7px 7px 5px",border:"none",width:"100%",boxSizing:"border-box",readOnly:!0}),u.addClass("dx-dashboard-filter-item-multitext"),f=n("<div>").css({marginRight:"40px"}).append(u),e=n("<div>").css({float:"right",width:"37px"}).dxTextBox(),n("<div>").append(e).append(f)},displayExpr:"displayValue",valueExpr:"value",placeholder:o.getString(r.localizationId.ParametersSelectorText)}})):new r.parameterEntity(n.extend(!0,u,{controlName:e[r.parameterTypes.selector],valueName:"value",controlOptions:{dataSource:{store:new DevExpress.data.ArrayStore(f),paginate:!1},itemTemplate:function(n){return n.displayValue},displayExpr:"displayValue",valueExpr:"value",placeholder:o.getString(r.localizationId.ParametersSelectorText)}}));u.controlName=e[t.getType()];switch(t.getType()){case r.parameterTypes.string:return new r.parameterEntity(n.extend(!0,u,{valueName:"value"}));case r.parameterTypes.int:return new r.parameterEntity(n.extend(!0,u,{valueName:"value",controlOptions:{showSpinButtons:!0,step:1,onKeyPress:function(n){var t=n.jQueryEvent,i=String.fromCharCode(t.keyCode);/[0-9]/.test(i)||t.preventDefault()}}}));case r.parameterTypes.float:return new r.parameterEntity(n.extend(!0,u,{valueName:"value",controlOptions:{showSpinButtons:!0,step:.1,onKeyPress:function(n){var t=String.fromCharCode(n.jQueryEvent.keyCode);/[0-9.,]/.test(t)||event.preventDefault()}}}));case r.parameterTypes.bool:return new r.parameterEntity(n.extend(!0,u,{valueName:"value"}));case r.parameterTypes.dateTime:return new r.parameterEntity(n.extend(!0,u,{valueName:"value",controlOptions:{useCalendar:!0,width:"100%"}}));case r.parameterTypes.guid:return new r.parameterEntity(n.extend(!0,u,{valueName:"value",controlOptions:{mask:"99999999-9999-9999-9999-999999999999"}}))}}}),r.parameterEntity=u.inherit({ctor:function(t){this.name=t.name,this.type=t.type,this.description=t.description?t.description:this.name,this.defaultValue=t.defaultValue,this.value=t.value,this.values=[],this.allowNull=t.allowNull,this.allowMultiselect=t.allowMultiselect,this.controlName=t.controlName,this.valueName=t.valueName,this.controlCreationCallbacks=t.controlCreationCallbacks,this.controlOptions=t.controlOptions,this.$divValueEditor=n("<div/>",{"class":this.type.toLowerCase()+"-value-editor "+r.dialogClasses.valueEditor+" "+r.dialogClasses.allowNullCheckBoxSize}),this.$divAllowNull=this.allowNull?n("<div/>",{"class":r.dialogClasses.allowNullCheckBox+" "+r.dialogClasses.allowNullCheckBoxSize}):n("<center>n/a<\/center>")},getValue:function(){var n,i,t;if(this.valueName==="values"){n=[],i=!1;for(t in this.control.option("values"))this.control.option("values")[t]===this.control.option("value")&&(i=!0);this.control.option("value")&&!i&&n.push(this.control.option("value"));for(t in this.control.option("values"))n.push(this.control.option("values")[t]);return n.length===0&&(n=null),n}return this.control.option("value")},setValue:function(n){var t=[],i;if(n!==null&&typeof n=="object"&&n.length>0)for(i in n)t[i]=n[i];else t=n;if(this.valueName==="values")return t&&typeof t=="object"?this.control.option(this.valueName,t):t===null?this.control.option("value",t):(this.values.length=1,this.values[0]=t,this.control.option(this.valueName,this.values));this.control.option(this.valueName,n)},_addControl:function(){var t=this,i=n.extend(!0,{},t.controlOptions);t.controlCreationCallbacks.add(function(){t.$divValueEditor[t.controlName](i),t.control=t.$divValueEditor.data(t.controlName),t.control.option("onValueChanged",t.allowNull?function(n){var i=null;n.values&&n.values!==t.values&&n.values.length>0&&(t.values=n.values,i=!1),n.value!==t.value&&n.value!==null?(t.value=n.value,i=!1):n.value!==null?i=!1:n.value===null&&(i=!0),i===!1?t.allowNullControl.option("value",!1):i===!0&&t.allowNullControl.option("value",!0)}:null),t.allowNull&&(t.$divAllowNull.dxCheckBox({value:!1,onValueChanged:function(n){n.value?(t.control.option("value",null),t.valueName==="values"&&t.control.option("values",[])):(t.control.option("value")!==t.value&&t.control.option("value",t.value),t.valueName==="values"&&t.control.option("values").length!==t.values.length&&t.control.option("values",t.values))}}),t.allowNullControl=t.$divAllowNull.data("dxCheckBox"))})}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=DevExpress.require("/class");r.labeledEditor=u.inherit({ctor:function(n){this.options=n,this._initialize()},_initialize:function(){var t=this,i=n.extend(!0,t._getControlOptions(t.options),t.options.controlOptions||{});t.valueName=i.valueName,t.controlName=t.options.controlName,t.$label=n("<div/>",{"class":r.dialogClasses.name+" "+t._generateElementNameClassName(t.controlName)}).append(t.options.labelText+":"),t.$editor=n("<div/>",{"class":r.dialogClasses.box+" "+t._getElementClassName(t.controlName)})[t.controlName](i),t.enabled=!0},setEnabled:function(n){var t=this,i;t.enabled=n,i=n?"removeClass":"addClass",t.$label[i](r.dialogClasses.disabledName),t.$editor.data(t.controlName).option("disabled",!n)},setVisibility:function(n){var t=this;t.enabled=n,n?(t.$label.css("display","inline-block"),t.$editor.css("display","inline-block")):(t.$label.hide(),t.$editor.hide())},set:function(n){var t=this;t.$editor.data(t.controlName).option(t.valueName,n)},get:function(){var n=this;return n.$editor.data(n.controlName).option(n.valueName)},_getControlOptions:function(t){switch(t.controlName){case r.dialogControlTypes.dxSelectBox:return{dataSource:{store:new DevExpress.data.ArrayStore(t.values),paginate:!1},itemTemplate:function(n){return n.displayValue},displayExpr:"displayValue",valueExpr:"value",valueName:"value"};case r.dialogControlTypes.dxRadioGroup:var i=[];return n.each(t.values,function(n,t){i.push(t.value)}),{name:t.name,dataSource:i,itemTemplate:function(i){return n.grep(t.values,function(n){return n.value===i})[0].displayValue},valueName:"value"};case r.dialogControlTypes.dxNumberBox:return{valueName:"value",onKeyPress:function(n){var t=n.jQueryEvent,i=String.fromCharCode(t.keyCode);/[0-9]/.test(i)||t.preventDefault()}};case r.dialogControlTypes.dxCheckBox:return{valueName:"value"};case r.dialogControlTypes.dxTextBox:return{valueName:"value"}}},_generateElementNameClassName:function(n){return n==r.dialogControlTypes.dxRadioGroup||n==r.dialogControlTypes.dxCheckBox?r.dialogClasses.name+"-top":r.dialogClasses.name+"-middle"},_getElementClassName:function(n){switch(n){case r.dialogControlTypes.dxSelectBox:case r.dialogControlTypes.dxTextBox:return r.dialogClasses.elementTextBox;case r.dialogControlTypes.dxNumberBox:return r.dialogClasses.elementNumberBox;default:return""}}}),r.optionsGroup=u.inherit({ctor:function(){},setEnabled:function(t){var i=this;i.enabled=t,n.each(i.getEditors(),function(n,i){i.setEnabled(t)})},set:function(){},apply:function(){},getEditors:function(){}}),r.captionOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.showCaption=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){t.caption.setEnabled(n.component.option("value"))}}}),this.caption=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.filterStatePresentation=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FilterStatePresentation),controlName:r.dialogControlTypes.dxSelectBox,values:[r.filterStatePresentation.none,r.filterStatePresentation.after,r.filterStatePresentation.afterAndSplitPage]}),t.caption.setEnabled(n)},set:function(n){this.showCaption.set(n.commonOptions.includeCaption),this.caption.set(n.commonOptions.caption),this.filterStatePresentation.set(n.commonOptions.filterStatePresentation)},apply:function(n){n.commonOptions.includeCaption=this.showCaption.get(),n.commonOptions.caption=this.caption.get(),n.commonOptions.filterStatePresentation=this.filterStatePresentation.get()},getEditors:function(){return[this.showCaption,this.caption,this.filterStatePresentation]}}),r.scaleModeOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.scaleMode=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ScaleMode),controlName:r.dialogControlTypes.dxSelectBox,values:[r.scaleMode.none,r.scaleMode.useScaleFactor,r.scaleMode.autoFitToPageWidth],controlOptions:{onValueChanged:function(n){t._setScaleModeOptionsVisibility(n.component.option("value"))}}}),this.scaleFactor=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ScaleFactor),controlName:r.dialogControlTypes.dxNumberBox,controlOptions:{min:0,onKeyPress:function(n){var t=String.fromCharCode(n.jQueryEvent.keyCode);/[0-9.,]/.test(t)||event.preventDefault()}}}),this.autoFitPageCount=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.AutoFitPageCount),controlName:r.dialogControlTypes.dxNumberBox,controlOptions:{min:0}}),t._setScaleModeOptionsVisibility(n)},set:function(n){this.scaleMode.set(n.scaleMode==r.scaleMode.autoFitWithinOnePage.value?r.scaleMode.none.value:n.scaleMode),this.scaleFactor.set(n.scaleFactor),this.autoFitPageCount.set(n.autoFitPageCount),this._setScaleModeOptionsVisibility(this.scaleMode.get())},apply:function(n){this.scaleMode.enabled?(n.scaleMode=this.scaleMode.get(),n.scaleFactor=this.scaleFactor.get(),n.autoFitPageCount=this.autoFitPageCount.get()):(n.scaleFactor=1,n.autoFitPageCount=1)},getEditors:function(){return[this.scaleMode,this.scaleFactor,this.autoFitPageCount]},_setScaleModeOptionsVisibility:function(n){var t=this;switch(n){case r.scaleMode.none.value:case r.scaleMode.autoFitWithinOnePage.value:t.scaleFactor.setVisibility(!1),t.autoFitPageCount.setVisibility(!1);break;case r.scaleMode.useScaleFactor.value:t.scaleFactor.setVisibility(!0),t.autoFitPageCount.setVisibility(!1);break;case r.scaleMode.autoFitToPageWidth.value:t.scaleFactor.setVisibility(!1),t.autoFitPageCount.setVisibility(!0)}}}),r.documentOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape]}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.captionOptionsGroup=new r.captionOptionsGroup(n)},set:function(n){this.pageLayout.set(n.pageLayout),this.paperKind.set(n.paperKind),this.captionOptionsGroup.set(n)},apply:function(n){n.pageLayout=this.pageLayout.get(),n.paperKind=this.paperKind.get(),this.captionOptionsGroup.apply(n)},getEditors:function(){var i=this,t=[this.pageLayout,this.paperKind];return n.each(i.captionOptionsGroup.getEditors(),function(n,i){t.push(i)}),t}}),r.simplyDocumentOptionsWithScaleModeGroup=r.optionsGroup.inherit({ctor:function(n,t){this._initialize(n,t)},_initialize:function(n,t){var i=this;this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape]}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.showCaption=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){i.caption.setEnabled(n.component.option("value"))}}}),this.caption=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox}),i.caption.setEnabled(n)},set:function(n){this.pageLayout.set(n.pageLayout),this.paperKind.set(n.paperKind),this.showCaption.set(n.commonOptions.includeCaption),this.caption.set(n.commonOptions.caption),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){n.pageLayout=this.pageLayout.get(),n.paperKind=this.paperKind.get(),n.commonOptions.includeCaption=this.showCaption.get(),n.commonOptions.caption=this.caption.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[this.fileName,this.pageLayout,this.paperKind,this.showCaption,this.caption];return n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t}}),r.dashboardOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t){this._initialize(n,t)},_initialize:function(n,t){var i=this;this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape,r.pageLayout.auto],controlOptions:{onValueChanged:function(n){i._setScaleModeOptionsVisibility(n.value)}}}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.showTitle=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){i.title.setEnabled(n.component.option("value"))}}}),this.title=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.filterStatePresentation=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FilterStatePresentation),controlName:r.dialogControlTypes.dxSelectBox,values:[r.filterStatePresentation.none,r.filterStatePresentation.after,r.filterStatePresentation.afterAndSplitPage]}),i.title.setEnabled(n),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(t),t==r.scaleMode.autoFitWithinOnePage.value&&i._setScaleModeOptionsVisibility(r.pageLayout.auto.value),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.pageLayout.set(n.scaleMode==r.scaleMode.autoFitWithinOnePage.value?r.pageLayout.auto.value:n.pageLayout),this.paperKind.set(n.paperKind),this.showTitle.set(n.showTitle),this.title.set(n.title),this.filterStatePresentation.set(n.commonOptions.filterStatePresentation),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.pageLayout.get()!=r.pageLayout.auto.value&&(n.pageLayout=this.pageLayout.get()),this.pageLayout.get()==r.pageLayout.auto.value&&(n.scaleMode=r.scaleMode.autoFitWithinOnePage.value),n.paperKind=this.paperKind.get(),n.showTitle=this.showTitle.get(),n.title=this.title.get(),n.commonOptions.filterStatePresentation=this.filterStatePresentation.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[this.fileName,this.pageLayout,this.paperKind];return t.push(this.showTitle),t.push(this.title),t.push(this.filterStatePresentation),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t},_setScaleModeOptionsVisibility:function(n){var t=this;t.scaleModeOptionsGroup.setEnabled(n!=r.pageLayout.auto.value)}}),r.gridOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t,i){this._initialize(n,t,i)},_initialize:function(n,t,i){var u=this;this.documentOptionsGroup=new r.documentOptionsGroup(n),this.printHeadersOnEveryPage=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PrintHeadersOnEveryPage),controlName:r.dialogControlTypes.dxCheckBox}),this.fitToPageWidth=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FitToPageWidth),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){u._setScaleModeOptionsVisibility(n.component.option("value"))}}}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(i),this._setScaleModeOptionsVisibility(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.documentOptionsGroup.set(n),this.printHeadersOnEveryPage.set(n.gridOptions.printHeadersOnEveryPage),this.fitToPageWidth.set(n.gridOptions.fitToPageWidth),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.documentOptionsGroup.apply(n),n.gridOptions.printHeadersOnEveryPage=this.printHeadersOnEveryPage.get(),n.gridOptions.fitToPageWidth=this.fitToPageWidth.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[];return t.push(i.fileName),n.each(i.documentOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.printHeadersOnEveryPage),t.push(i.fitToPageWidth),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t},_setScaleModeOptionsVisibility:function(n){var t=this;t.scaleModeOptionsGroup.setEnabled(!n)}}),r.pivotOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t){this._initialize(n,t)},_initialize:function(n,t){var i=this;this.documentOptionsGroup=new r.documentOptionsGroup(n),this.printHeadersOnEveryPage=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PrintHeadersOnEveryPage),controlName:r.dialogControlTypes.dxCheckBox}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.documentOptionsGroup.set(n),this.printHeadersOnEveryPage.set(n.pivotOptions.printHeadersOnEveryPage),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.documentOptionsGroup.apply(n),n.pivotOptions.printHeadersOnEveryPage=this.printHeadersOnEveryPage.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[];return t.push(i.fileName),n.each(i.documentOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.printHeadersOnEveryPage),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t}}),r.chartOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape,r.pageLayout.auto]}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.captionOptionsGroup=new r.captionOptionsGroup(n),this.sizeMode=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.SizeMode),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.sizeMode.none,r.sizeMode.stretch,r.sizeMode.zoom]}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.pageLayout.set(n.chartOptions.automaticPageLayout?r.pageLayout.auto.value:n.pageLayout),this.paperKind.set(n.paperKind),this.captionOptionsGroup.set(n),this.sizeMode.set(n.chartOptions.sizeMode),this.fileName.set(n.fileName)},apply:function(n){this.pageLayout.get()!=r.pageLayout.auto.value&&(n.pageLayout=this.pageLayout.get()),n.chartOptions.automaticPageLayout=this.pageLayout.get()==r.pageLayout.auto.value,n.paperKind=this.paperKind.get(),this.captionOptionsGroup.apply(n),n.chartOptions.sizeMode=this.sizeMode.get(),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[this.fileName,this.pageLayout,this.paperKind];return n.each(i.captionOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.sizeMode),t}}),r.mapOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape,r.pageLayout.auto]}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.captionOptionsGroup=new r.captionOptionsGroup(n),this.sizeMode=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.SizeMode),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.sizeMode.none,r.sizeMode.zoom]}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.pageLayout.set(n.chartOptions.automaticPageLayout?r.pageLayout.auto.value:n.pageLayout),this.paperKind.set(n.paperKind),this.captionOptionsGroup.set(n),this.sizeMode.set(n.mapOptions.sizeMode),this.fileName.set(n.fileName)},apply:function(n){this.pageLayout.get()!=r.pageLayout.auto.value&&(n.pageLayout=this.pageLayout.get()),n.mapOptions.automaticPageLayout=this.pageLayout.get()==r.pageLayout.auto.value,n.paperKind=this.paperKind.get(),this.captionOptionsGroup.apply(n),n.mapOptions.sizeMode=this.sizeMode.get(),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[this.fileName,this.pageLayout,this.paperKind];return n.each(i.captionOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.sizeMode),t}}),r.rangeFilterOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.pageLayout=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PageLayout),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.pageLayout.portrait,r.pageLayout.landscape,r.pageLayout.auto]}),this.paperKind=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.PaperKind),controlName:r.dialogControlTypes.dxSelectBox,values:[r.paperKind.letter,r.paperKind.legal,r.paperKind.executive,r.paperKind.a5,r.paperKind.a4,r.paperKind.a3]}),this.captionOptionsGroup=new r.captionOptionsGroup(n),this.sizeMode=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.SizeMode),controlName:r.dialogControlTypes.dxRadioGroup,values:[r.sizeMode.none,r.sizeMode.stretch,r.sizeMode.zoom]}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.pageLayout.set(n.rangeFilterOptions.automaticPageLayout?r.pageLayout.auto.value:n.pageLayout),this.paperKind.set(n.paperKind),this.captionOptionsGroup.set(n),this.sizeMode.set(n.rangeFilterOptions.sizeMode),this.fileName.set(n.fileName)},apply:function(n){this.pageLayout.get()!=r.pageLayout.auto.value&&(n.pageLayout=this.pageLayout.get()),n.rangeFilterOptions.automaticPageLayout=this.pageLayout.get()==r.pageLayout.auto.value,n.paperKind=this.paperKind.get(),this.captionOptionsGroup.apply(n),n.rangeFilterOptions.sizeMode=this.sizeMode.get(),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[this.fileName,this.pageLayout,this.paperKind];return n.each(i.captionOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.sizeMode),t}}),r.pieOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t,i){this._initialize(n,t,i)},_initialize:function(n,t,i){var u=this;this.documentOptionsGroup=new r.documentOptionsGroup(n),this.autoArrangeContent=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.AutoArrangeContent),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){u._setScaleModeOptionsVisibility(n.component.option("value"))}}}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(i),u._setScaleModeOptionsVisibility(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.documentOptionsGroup.set(n),this.autoArrangeContent.set(n.pieOptions.autoArrangeContent),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.documentOptionsGroup.apply(n),n.pieOptions.autoArrangeContent=this.autoArrangeContent.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[];return t.push(i.fileName),n.each(i.documentOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.autoArrangeContent),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t},_setScaleModeOptionsVisibility:function(n){var t=this;t.scaleModeOptionsGroup.setEnabled(!n)}}),r.gaugeOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t,i){this._initialize(n,t,i)},_initialize:function(n,t,i){var u=this;this.documentOptionsGroup=new r.documentOptionsGroup(n),this.autoArrangeContent=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.AutoArrangeContent),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){u._setScaleModeOptionsVisibility(n.component.option("value"))}}}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(i),u._setScaleModeOptionsVisibility(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.documentOptionsGroup.set(n),this.autoArrangeContent.set(n.gaugeOptions.autoArrangeContent),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.documentOptionsGroup.apply(n),n.gaugeOptions.autoArrangeContent=this.autoArrangeContent.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[];return t.push(i.fileName),n.each(i.documentOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.autoArrangeContent),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t},_setScaleModeOptionsVisibility:function(n){var t=this;t.scaleModeOptionsGroup.setEnabled(!n)}}),r.cardOptionsGroup=r.optionsGroup.inherit({ctor:function(n,t,i){this._initialize(n,t,i)},_initialize:function(n,t,i){var u=this;this.documentOptionsGroup=new r.documentOptionsGroup(n),this.autoArrangeContent=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.AutoArrangeContent),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){u._setScaleModeOptionsVisibility(n.component.option("value"))}}}),this.scaleModeOptionsGroup=new r.scaleModeOptionsGroup(i),u._setScaleModeOptionsVisibility(t),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.documentOptionsGroup.set(n),this.autoArrangeContent.set(n.cardOptions.autoArrangeContent),this.scaleModeOptionsGroup.set(n),this.fileName.set(n.fileName)},apply:function(n){this.documentOptionsGroup.apply(n),n.cardOptions.autoArrangeContent=this.autoArrangeContent.get(),this.scaleModeOptionsGroup.apply(n),n.fileName=this.fileName.get()},getEditors:function(){var i=this,t=[];return t.push(i.fileName),n.each(i.documentOptionsGroup.getEditors(),function(n,i){t.push(i)}),t.push(i.autoArrangeContent),n.each(i.scaleModeOptionsGroup.getEditors(),function(n,i){t.push(i)}),t},_setScaleModeOptionsVisibility:function(n){var t=this;t.scaleModeOptionsGroup.setEnabled(!n)}}),r.imageOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.imageFormat=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ImageFormat),controlName:r.dialogControlTypes.dxSelectBox,values:[r.imageFormat.png,r.imageFormat.gif,r.imageFormat.jpg]}),this.showTitle=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){t.title.setEnabled(n.component.option("value"))}}}),this.title=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.filterStatePresentation=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FilterStatePresentation),controlName:r.dialogControlTypes.dxSelectBox,values:[r.filterStatePresentation.none,r.filterStatePresentation.after]}),this.title.setEnabled(n),this.resolution=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Resolution),controlName:r.dialogControlTypes.dxNumberBox}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.showTitle.set(n.commonOptions.includeCaption),this.title.set(n.commonOptions.caption);var t=n.commonOptions.filterStatePresentation==r.filterStatePresentation.afterAndSplitPage.value?r.filterStatePresentation.after.value:n.commonOptions.filterStatePresentation;this.filterStatePresentation.set(t),this.imageFormat.set(n.imageFormatOptions.format),this.resolution.set(n.imageFormatOptions.resolution),this.fileName.set(n.fileName)},apply:function(n){n.commonOptions.includeCaption=this.showTitle.get(),n.commonOptions.caption=this.title.get(),n.commonOptions.filterStatePresentation=this.filterStatePresentation.get(),n.imageFormatOptions.format=this.imageFormat.get(),n.imageFormatOptions.resolution=this.resolution.get(),n.fileName=this.fileName.get()},getEditors:function(){return[this.fileName,this.showTitle,this.title,this.filterStatePresentation,this.imageFormat,this.resolution]}}),r.excelOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_checkExportFormat:function(n){return n===r.excelFormat.csv.value},_initialize:function(n){var t=this;this.excelFormat=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ExcelFormat),controlName:r.dialogControlTypes.dxSelectBox,values:[r.excelFormat.xlsx,r.excelFormat.xls,r.excelFormat.csv],controlOptions:{onValueChanged:function(n){t.separator.setEnabled(t._checkExportFormat(n.component.option("value")))}}}),this.separator=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.CsvValueSeparator),controlName:r.dialogControlTypes.dxTextBox}),this.separator.setEnabled(t._checkExportFormat(n)),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.fileName.set(n.fileName),this.excelFormat.set(n.excelFormatOptions.format),this.separator.set(n.excelFormatOptions.csvValueSeparator)},apply:function(n){n.fileName=this.fileName.get(),n.excelFormatOptions.format=this.excelFormat.get(),n.excelFormatOptions.csvValueSeparator=this.separator.get()},getEditors:function(){return[this.fileName,this.excelFormat,this.separator]}}),r.simplyImageOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.imageFormat=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ImageFormat),controlName:r.dialogControlTypes.dxSelectBox,values:[r.imageFormat.png,r.imageFormat.gif,r.imageFormat.jpg]}),this.showTitle=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){t.title.setEnabled(n.component.option("value"))}}}),this.title=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.title.setEnabled(n),this.resolution=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Resolution),controlName:r.dialogControlTypes.dxNumberBox}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.showTitle.set(n.commonOptions.includeCaption),this.title.set(n.commonOptions.caption),this.imageFormat.set(n.imageFormatOptions.format),this.resolution.set(n.imageFormatOptions.resolution),this.fileName.set(n.fileName)},apply:function(n){n.commonOptions.includeCaption=this.showTitle.get(),n.commonOptions.caption=this.title.get(),n.imageFormatOptions.format=this.imageFormat.get(),n.imageFormatOptions.resolution=this.resolution.get(),n.fileName=this.fileName.get()},getEditors:function(){return[this.fileName,this.showTitle,this.title,this.imageFormat,this.resolution]}}),r.dashboardImageOptionsGroup=r.optionsGroup.inherit({ctor:function(n){this._initialize(n)},_initialize:function(n){var t=this;this.imageFormat=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ImageFormat),controlName:r.dialogControlTypes.dxSelectBox,values:[r.imageFormat.png,r.imageFormat.gif,r.imageFormat.jpg]}),this.showTitle=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.ShowTitle),controlName:r.dialogControlTypes.dxCheckBox,controlOptions:{onValueChanged:function(n){t.title.setEnabled(n.component.option("value"))}}}),this.title=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Title),controlName:r.dialogControlTypes.dxTextBox}),this.filterStatePresentation=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FilterStatePresentation),controlName:r.dialogControlTypes.dxSelectBox,values:[r.filterStatePresentation.none,r.filterStatePresentation.after]}),this.title.setEnabled(n),this.resolution=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.Resolution),controlName:r.dialogControlTypes.dxNumberBox}),this.fileName=new r.labeledEditor({labelText:r.data.localizer.getString(r.localizationId.labelName.FileName),controlName:r.dialogControlTypes.dxTextBox})},set:function(n){this.showTitle.set(n.showTitle),this.title.set(n.title);var t=n.commonOptions.filterStatePresentation==r.filterStatePresentation.afterAndSplitPage.value?r.filterStatePresentation.after.value:n.commonOptions.filterStatePresentation;this.filterStatePresentation.set(t),this.imageFormat.set(n.imageFormatOptions.format),this.resolution.set(n.imageFormatOptions.resolution),this.fileName.set(n.fileName)},apply:function(n){n.showTitle=this.showTitle.get(),n.title=this.title.get(),n.commonOptions.filterStatePresentation=this.filterStatePresentation.get(),n.imageFormatOptions.format=this.imageFormat.get(),n.imageFormatOptions.resolution=this.resolution.get(),n.fileName=this.fileName.get()},getEditors:function(){return[this.fileName,this.showTitle,this.title,this.filterStatePresentation,this.imageFormat,this.resolution]}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=DevExpress.require("/class");r.optionName={pageLayout:"pageLayout",paperKind:"paperKind",scaleMode:"scaleMode",autoFitPageCount:"autoFitPageCount",scaleFactor:"scaleFactor",fitToPageWidth:"fitToPageWidth",gridPrintHeadersOnEveryPage:"gridPrintHeadersOnEveryPage",pivotPrintHeadersOnEveryPage:"pivotPrintHeadersOnEveryPage",chartSizeMode:"chartSizeMode",chartAutomaticPageLayout:"chartAutomaticPageLayout",mapSizeMode:"mapSizeMode",mapAutomaticPageLayout:"mapAutomaticPageLayout",rangeFilterSizeMode:"rangeFilterSizeMode",rangeFilterAutomaticPageLayout:"rangeFilterAutomaticPageLayout",pieAutoArrangeContent:"pieAutoArrangeContent",gaugeAutoArrangeContent:"gaugeAutoArrangeContent",cardAutoArrangeContent:"cardAutoArrangeContent",imageFormat:"format",excelFormat:"format",csvValueSeparator:"csvValueSeparator",resolution:"resolution",showCaption:"showCaption",caption:"caption",showTitle:"showTitle",title:"title",filterStatePresentation:"filterStatePresentation",fileName:"fileName"},r.exportOptionsCache=u.inherit({ctor:function(){this._initialize()},_initialize:function(){this.documentOptions={},this.itemsOptions={},this.imageOptions={},this.excelOptions={}},_addOption:function(n,t,i,r){i==r?delete n[t]:n[t]=r},add:function(n,t,i){var u=this;this._addOption(u.documentOptions,r.optionName.showTitle,t.showTitle,i.showTitle),this._addOption(u.documentOptions,r.optionName.title,t.title,i.title),this._addOption(u.documentOptions,r.optionName.pageLayout,t.pageLayout,i.pageLayout),this._addOption(u.documentOptions,r.optionName.paperKind,t.paperKind,i.paperKind),this.itemsOptions[n]={},this._addOption(u.itemsOptions[n],r.optionName.scaleMode,t.scaleMode,i.scaleMode),this._addOption(u.itemsOptions[n],r.optionName.scaleFactor,t.scaleFactor,i.scaleFactor),this._addOption(u.itemsOptions[n],r.optionName.autoFitPageCount,t.autoFitPageCount,i.autoFitPageCount),this._addOption(u.itemsOptions[n],r.optionName.fileName,t.fileName,i.fileName),this._addOption(u.itemsOptions[n],r.optionName.gridPrintHeadersOnEveryPage,t.gridOptions.printHeadersOnEveryPage,i.gridOptions.printHeadersOnEveryPage),this._addOption(u.itemsOptions[n],r.optionName.fitToPageWidth,t.gridOptions.fitToPageWidth,i.gridOptions.fitToPageWidth),this._addOption(u.itemsOptions[n],r.optionName.pivotPrintHeadersOnEveryPage,t.pivotOptions.printHeadersOnEveryPage,i.pivotOptions.printHeadersOnEveryPage),this._addOption(u.itemsOptions[n],r.optionName.chartSizeMode,t.chartOptions.sizeMode,i.chartOptions.sizeMode),this._addOption(u.itemsOptions[n],r.optionName.chartAutomaticPageLayout,t.chartOptions.automaticPageLayout,i.chartOptions.automaticPageLayout),this._addOption(u.itemsOptions[n],r.optionName.mapSizeMode,t.mapOptions.sizeMode,i.mapOptions.sizeMode),this._addOption(u.itemsOptions[n],r.optionName.mapAutomaticPageLayout,t.mapOptions.automaticPageLayout,i.mapOptions.automaticPageLayout),this._addOption(u.itemsOptions[n],r.optionName.rangeFilterSizeMode,t.rangeFilterOptions.sizeMode,i.rangeFilterOptions.sizeMode),this._addOption(u.itemsOptions[n],r.optionName.rangeFilterAutomaticPageLayout,t.rangeFilterOptions.automaticPageLayout,i.rangeFilterOptions.automaticPageLayout),this._addOption(u.itemsOptions[n],r.optionName.pieAutoArrangeContent,t.pieOptions.autoArrangeContent,i.pieOptions.autoArrangeContent),this._addOption(u.itemsOptions[n],r.optionName.gaugeAutoArrangeContent,t.gaugeOptions.autoArrangeContent,i.gaugeOptions.autoArrangeContent),this._addOption(u.itemsOptions[n],r.optionName.cardAutoArrangeContent,t.cardOptions.autoArrangeContent,i.cardOptions.autoArrangeContent),n!=""&&(this._addOption(u.itemsOptions[n],r.optionName.showCaption,t.commonOptions.includeCaption,i.commonOptions.includeCaption),this._addOption(u.itemsOptions[n],r.optionName.caption,t.commonOptions.caption,i.commonOptions.caption)),this._addOption(u.documentOptions,r.optionName.filterStatePresentation,t.commonOptions.filterStatePresentation,i.commonOptions.filterStatePresentation),this._addOption(u.imageOptions,r.optionName.imageFormat,t.imageFormatOptions.format,i.imageFormatOptions.format),this._addOption(u.imageOptions,r.optionName.resolution,t.imageFormatOptions.resolution,i.imageFormatOptions.resolution),this._addOption(u.excelOptions,r.optionName.excelFormat,t.excelFormatOptions.format,i.excelFormatOptions.format),this._addOption(u.excelOptions,r.optionName.csvValueSeparator,t.excelFormatOptions.csvValueSeparator,i.excelFormatOptions.csvValueSeparator)},_setActualValue:function(n,t,r,u){var f=n[t]!=i?n[t]:u;r(f)},getActualDocumentInfo:function(n,t){var f=this,u={commonOptions:{},imageFormatOptions:{},excelFormatOptions:{},pivotOptions:{},gridOptions:{},chartOptions:{},pieOptions:{},gaugeOptions:{},cardOptions:{},mapOptions:{},rangeFilterOptions:{},imageOptions:{}};return this._setActualValue(f.documentOptions,r.optionName.showTitle,function(n){u.showTitle=n},t.showTitle),this._setActualValue(f.documentOptions,r.optionName.title,function(n){u.title=n},t.title),this._setActualValue(f.documentOptions,r.optionName.paperKind,function(n){u.paperKind=n},t.paperKind),this._setActualValue(f.documentOptions,r.optionName.pageLayout,function(n){u.pageLayout=n},t.pageLayout),this.itemsOptions[n]===i&&(this.itemsOptions[n]={}),this._setActualValue(f.itemsOptions[n],r.optionName.scaleMode,function(n){u.scaleMode=n},t.scaleMode),this._setActualValue(f.itemsOptions[n],r.optionName.scaleFactor,function(n){u.scaleFactor=n},t.scaleFactor),this._setActualValue(f.itemsOptions[n],r.optionName.autoFitPageCount,function(n){u.autoFitPageCount=n},t.autoFitPageCount),this._setActualValue(f.itemsOptions[n],r.optionName.fileName,function(n){u.fileName=n},t.fileName),this._setActualValue(f.itemsOptions[n],r.optionName.gridPrintHeadersOnEveryPage,function(n){u.gridOptions.printHeadersOnEveryPage=n},t.gridOptions.printHeadersOnEveryPage),this._setActualValue(f.itemsOptions[n],r.optionName.fitToPageWidth,function(n){u.gridOptions.fitToPageWidth=n},t.gridOptions.fitToPageWidth),this._setActualValue(f.itemsOptions[n],r.optionName.pivotPrintHeadersOnEveryPage,function(n){u.pivotOptions.printHeadersOnEveryPage=n},t.pivotOptions.printHeadersOnEveryPage),this._setActualValue(f.itemsOptions[n],r.optionName.chartSizeMode,function(n){u.chartOptions.sizeMode=n},t.chartOptions.sizeMode),this._setActualValue(f.itemsOptions[n],r.optionName.chartAutomaticPageLayout,function(n){u.chartOptions.automaticPageLayout=n},t.chartOptions.automaticPageLayout),this._setActualValue(f.itemsOptions[n],r.optionName.mapSizeMode,function(n){u.mapOptions.sizeMode=n},t.mapOptions.sizeMode),this._setActualValue(f.itemsOptions[n],r.optionName.mapAutomaticPageLayout,function(n){u.mapOptions.automaticPageLayout=n},t.mapOptions.automaticPageLayout),this._setActualValue(f.itemsOptions[n],r.optionName.rangeFilterSizeMode,function(n){u.rangeFilterOptions.sizeMode=n},t.rangeFilterOptions.sizeMode),this._setActualValue(f.itemsOptions[n],r.optionName.rangeFilterAutomaticPageLayout,function(n){u.rangeFilterOptions.automaticPageLayout=n},t.rangeFilterOptions.automaticPageLayout),this._setActualValue(f.itemsOptions[n],r.optionName.pieAutoArrangeContent,function(n){u.pieOptions.autoArrangeContent=n},t.pieOptions.autoArrangeContent),this._setActualValue(f.itemsOptions[n],r.optionName.gaugeAutoArrangeContent,function(n){u.gaugeOptions.autoArrangeContent=n},t.gaugeOptions.autoArrangeContent),this._setActualValue(f.itemsOptions[n],r.optionName.cardAutoArrangeContent,function(n){u.cardOptions.autoArrangeContent=n},t.cardOptions.autoArrangeContent),n!=""&&(this._setActualValue(f.itemsOptions[n],r.optionName.showCaption,function(n){u.commonOptions.includeCaption=n},t.commonOptions.includeCaption),this._setActualValue(f.itemsOptions[n],r.optionName.caption,function(n){u.commonOptions.caption=n},t.commonOptions.caption)),this._setActualValue(f.documentOptions,r.optionName.filterStatePresentation,function(n){u.commonOptions.filterStatePresentation=n},t.commonOptions.filterStatePresentation),this._setActualValue(f.imageOptions,r.optionName.imageFormat,function(n){u.imageFormatOptions.format=n},t.imageFormatOptions.format),this._setActualValue(f.imageOptions,r.optionName.resolution,function(n){u.imageFormatOptions.resolution=n},t.imageFormatOptions.resolution),this._setActualValue(f.excelOptions,r.optionName.excelFormat,function(n){u.excelFormatOptions.format=n},t.excelFormatOptions.format),this._setActualValue(f.excelOptions,r.optionName.csvValueSeparator,function(n){u.excelFormatOptions.csvValueSeparator=n},t.excelFormatOptions.csvValueSeparator),u}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,e=t.require("/utils/utils.string"),f=t.require("/utils/utils.browser"),o=DevExpress.require("/class"),u=r.viewerItems.types;r.dialogClasses.exportForm="dx-dashboard-export-form",r.exportDialog=o.inherit({ctor:function(n){this.options=n,this._initialize()},_initialize:function(){var t=r.data.localizer,i=this,u=i.options,f=n("<div/>",{"class":r.dialogClasses.form+" "+r.dialogClasses.exportForm});r.paperKind={letter:{displayValue:t.getString(r.localizationId.labelName.PaperKindLetter),value:"Letter"},legal:{displayValue:t.getString(r.localizationId.labelName.PaperKindLegal),value:"Legal"},executive:{displayValue:t.getString(r.localizationId.labelName.PaperKindExecutive),value:"Executive"},a5:{displayValue:t.getString(r.localizationId.labelName.PaperKindA5),value:"A5"},a4:{displayValue:t.getString(r.localizationId.labelName.PaperKindA4),value:"A4"},a3:{displayValue:t.getString(r.localizationId.labelName.PaperKindA3),value:"A3"}},r.pageLayout={auto:{displayValue:t.getString(r.localizationId.labelName.PageLayoutAuto),value:"Auto"},portrait:{displayValue:t.getString(r.localizationId.labelName.PageLayoutPortrait),value:"Portrait"},landscape:{displayValue:t.getString(r.localizationId.labelName.PageLayoutLandscape),value:"Landscape"}},r.scaleMode={none:{displayValue:t.getString(r.localizationId.labelName.ScaleModeNone),value:"None"},useScaleFactor:{displayValue:t.getString(r.localizationId.labelName.ScaleModeUseScaleFactor),value:"UseScaleFactor"},autoFitToPageWidth:{displayValue:t.getString(r.localizationId.labelName.ScaleModeAutoFitToPageWidth),value:"AutoFitToPageWidth"},autoFitWithinOnePage:{value:"AutoFitWithinOnePage"}},r.filterStatePresentation={none:{displayValue:t.getString(r.localizationId.labelName.FilterStatePresentationNone),value:"None"},after:{displayValue:t.getString(r.localizationId.labelName.FilterStatePresentationAfter),value:"After"},afterAndSplitPage:{displayValue:t.getString(r.localizationId.labelName.FilterStatePresentationAfterAndSplitPage),value:"AfterAndSplitPage"}},r.imageFormat={png:{displayValue:"PNG",value:"Png"},gif:{displayValue:"GIF",value:"Gif"},jpg:{displayValue:"JPG",value:"Jpg"}},r.excelFormat={csv:{displayValue:"CSV",value:"Csv"},xls:{displayValue:"XLS",value:"Xls"},xlsx:{displayValue:"XLSX",value:"Xlsx"}},r.sizeMode={none:{displayValue:t.getString(r.localizationId.labelName.SizeModeNone),value:"None"},stretch:{displayValue:t.getString(r.localizationId.labelName.SizeModeStretch),value:"Stretch"},zoom:{displayValue:t.getString(r.localizationId.labelName.SizeModeZoom),value:"Zoom"}},i.$exportForm=f,i.exportOptionsCache=new r.exportOptionsCache,i.dialogForm=new r.dialogForm({$dialogContainer:u.$container,width:"auto",height:"auto",$content:f,buttons:[{name:t.getString(r.localizationId.buttonNames.ButtonReset),func:function(){i.group.set(u.documentInfo)},hide:!1},{name:t.getString(r.localizationId.buttonNames.ButtonExport),hide:!0,func:function(){var n=i.exportOptionsCache.getActualDocumentInfo(i.name,u.documentInfo);i.group.apply(n),i.exportOptionsCache.add(i.name,u.documentInfo,n),i.exportFunction(n)}},{name:t.getString(r.localizationId.buttonNames.ButtonCancel),hide:!0,func:function(){}}],renderControls:function(){},setActualState:function(){}})},showDialog:function(n,t,i,r){var u=this;t!=null&&(u.options.documentInfo.commonOptions.caption=r.caption),u.options.documentInfo.fileName=r.fileName,u.name=n,u.type=t,u.format=i,u.$exportForm.empty(),u._renderControls(u.$exportForm),u.dialogForm.popupInstance.option("title",u._getTitle(r.fileName,i)),u.dialogForm.showDialog()},_getTitle:function(n,t){var u=r.data.localizer,o=f.msie&&(f.version=="8.0"||f.version=="9.0"),i;switch(t){case r.exportFormats.pdf:i=u.getString(r.localizationId.buttonNames.ExportToPdf);break;case r.exportFormats.image:i=u.getString(r.localizationId.buttonNames.ExportToImage);break;default:i=u.getString(r.localizationId.buttonNames.ExportToExcel)}return o?i:e.format(u.getString(r.localizationId.buttonNames.ExportTemplate),i,n)},setExportFunction:function(n){n&&(this.exportFunction=n)},_createImageGroup:function(n,t){switch(n){case null:return new r.dashboardImageOptionsGroup(t.showTitle);case u.image:case u.text:return new r.simplyImageOptionsGroup(t.commonOptions.includeCaption);default:return new r.imageOptionsGroup(t.commonOptions.includeCaption)}},_createPdfGroup:function(n,t){switch(n){case null:case u.group:return new r.dashboardOptionsGroup(t.showTitle,t.scaleMode);case u.grid:return new r.gridOptionsGroup(t.commonOptions.includeCaption,t.gridOptions.fitToPageWidth,t.scaleMode);case u.chart:case u.scatter:return new r.chartOptionsGroup(t.commonOptions.includeCaption);case u.pie:return new r.pieOptionsGroup(t.commonOptions.includeCaption,t.pieOptions.autoArrangeContent,t.scaleMode);case u.gauge:return new r.gaugeOptionsGroup(t.commonOptions.includeCaption,t.gaugeOptions.autoArrangeContent,t.scaleMode);case u.card:return new r.cardOptionsGroup(t.commonOptions.includeCaption,t.cardOptions.autoArrangeContent,t.scaleMode);case u.pivot:return new r.pivotOptionsGroup(t.commonOptions.includeCaption,t.scaleMode);case u.choroplethMap:case u.geoPointMap:case u.bubbleMap:case u.pieMap:return new r.mapOptionsGroup(t.commonOptions.includeCaption);case u.rangeFilter:return new r.rangeFilterOptionsGroup(t.commonOptions.includeCaption);case u.image:case u.text:return new r.simplyDocumentOptionsWithScaleModeGroup(t.commonOptions.includeCaption,t.scaleMode)}},_createGroup:function(){var n=this,t=n.exportOptionsCache.getActualDocumentInfo(n.name,n.options.documentInfo);switch(n.format){case r.exportFormats.image:n.group=n._createImageGroup(n.type,t);break;case r.exportFormats.excel:n.group=new r.excelOptionsGroup(t.excelFormatOptions.format);break;default:n.group=n._createPdfGroup(n.type,t)}n.group.set(t)},_renderControls:function(t){var i=this,u;i._createGroup(),u=i.group.getEditors(),n.each(u,function(i,u){var f=n("<div/>",{"class":r.dialogClasses.element}).appendTo(t);u.$label.appendTo(f),u.$editor.appendTo(f)})}})}(jQuery,DevExpress),function(n,t,i){var u=t.require("/class"),r=t.dashboard,f=t.require("/utils/utils.console").debug;r.layout=r.layout||{},r.layout.utils={size:function(n,t){return{width:n,height:t,plus:function(n){var t=function(n,t){return Number.MAX_VALUE-n>=t?n+t:Number.MAX_VALUE};return new r.layout.utils.size(t(this.width,n.width),t(this.height,n.height))},minus:function(n){return new r.layout.utils.size(this.width-n.width,this.height-n.height)},compareByDirections:function(n){if(n){var t=[];return n.width!=this.width&&t.push("width"),n.height!=this.height&&t.push("height"),t}return["width","height"]},constrain:function(n){var i=this,t=function(t){return r.layout.utils.ensureRange(i[t],n.min[t],n.max[t])};return new r.layout.utils.size(t("width"),t("height"))},clone:function(){return new r.layout.utils.size(this.width,this.height)}}},constraints:function(t,i){return{min:t,max:i,consolidate:function(n,t){return new r.layout.utils.constraints(this._consolidatePart(n,t,"min"),this._consolidatePart(n,t,"max"))},isFixed:function(t){if(t){var i=this.min.compareByDirections(this.max);return n.inArray(t,i)<0}return!1},_consolidatePart:function(n,t,i){var e=this,f=new r.layout.utils.size,u=t?t:"width",o=r.layout.utils.getCrossDirection(u),h=function(t){var r=e[i][t],u=n[i][t];return r===Number.MAX_VALUE||u===Number.MAX_VALUE?Number.MAX_VALUE:r+u},s=function(t,r){var u=e[i][t],f=n[i][t];return i==="min"||r?Math.max(u,f):Math.min(u,f)};return f[u]=t?h(u):s(u,!1),f[o]=s(o,!!t),f}}},nonClientElement:function(n,t){var i=new r.layout.utils.size(n,t);return{getBounds:function(){return i.clone()}}},getCrossDirection:function(n){return n==="width"?"height":"width"},defConstraints:function(n,t){var r=n===i?0:n,u=t===i?Number.MAX_VALUE:t;return new this.constraints(new this.size(r,r),new this.size(u,u))},defSizeInPercents:function(n,t){var i=new this.size(1,1);return i[n]=t,i},checkRange:function(n,t,i){return t<=n&&n<=i},ensureRange:function(n,t,i){return Math.max(Math.min(n,i),t)},deepCloneObject:function(t,i,r){var u={},f;n.extend(u,i);for(f in r)delete u[f];return n.extend(!0,t,u),n.extend(t,r),t},getElementProxy:function(n,t){return{$element:n,_allowResizing:!0,_constraints:i,_itemRendered:!1,getConstraints:function(){var n=this.getItem();return n&&n.getConstraints?(this._constraints||(this._constraints=n.getConstraints(!0)),this._constraints):r.layout.utils.defConstraints(t?t:0)},getSize:function(){return new r.layout.utils.size(n.outerWidth(),n.outerHeight())},getItem:function(){return n.data("resizableViewerElement")},applySize:function(t){if(this._allowResizing){var i=this.getItem(),u=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},r=function(n,i){var r="outer"+u(i);n[r]&&n[r](t[i])};i&&this._itemRendered||(r(n,"width"),r(n,"height")),i&&(!this._itemRendered&&i.render?(i.render(this.$element),this._itemRendered=!0):i.setSize&&i.setSize(t.width,t.height))}}}}}}(jQuery,DevExpress),function(n,t,i){var f=t.require("/class"),u=t.dashboard,e=t.require("/utils/utils.console").debug,r=u.layout;r.cssClassNames={layoutShield:"dx-dashboard-layout-shield",splitterPane:"dx-dashboard-splitter-pane",splitterPaneEmpty:"dx-dashboard-splitter-pane-empty",splitterResizing:"dx-dashboard-splitter-resizing",splitterLayoutPlace:"dx-dashboard-splitter-layout-place",splitterSeparator:"dx-dashboard-splitter-separator",splitterSeparatorH:"dx-dashboard-splitter-h-separator",splitterSeparatorV:"dx-dashboard-splitter-v-separator",movingSeparatorV:"dx-dashboard-splitter-moving-v-separator",movingSeparatorH:"dx-dashboard-splitter-moving-h-separator"},r.ItemType={Group:"Group",Item:"Item"},r.viewerSection=f.inherit({ctor:function(n){this.options=r.utils.deepCloneObject({},n,{})},render:function(){var n=this,t,i=n.options.layoutItem,r=n.options.$container;return n._renderItem(i,r),t=i.tableConstructor?i.tableConstructor.$table:null,t&&n.options.useResizer!==!1&&(n.viewerResizer=new u.layout.viewerResizer,n.viewerResizer.attachResizeHandlers(r,t)),t},updateSize:function(n,t){return this.options.layoutItem.paneTreeItem.setSizeInPixels(new r.utils.size(n?n:this.width(),t?t:this.height()))},width:function(n){return n&&this.updateSize(n,null),this.options.layoutItem.paneTreeItem.sizeInPixels.width},height:function(n){return n&&this.updateSize(null,n),this.options.layoutItem.paneTreeItem.sizeInPixels.height},_renderItem:function(t,f){var e=this,o=u.utils.treeWalker(t,function(n){return e._getPanes(n)});f.empty(),t.tableConstructor=i,o.walk(function(t,i){var h,c,l,a;if(t.viewerItem=e.options.items[e._getName(t)],t.separatorSize=e.options.separatorSize,t.direction=e._isOrientationByHeight(t)?"height":"width",t.$DOMElement=i?n("<div/>",{"class":r.cssClassNames.splitterLayoutPlace}):f,t.$DOMElement.data("resizableViewerElement",t.viewerItem),t.paneTreeItem=new r.utils.paneTreeItem(i?i.paneTreeItem:null,t.direction,r.utils.getElementProxy(t.$DOMElement,e.options.minPaneSize),e._getSizeInPercents(t,i)),i&&(i.paneTreeItem&&i.paneTreeItem.panes.push(t.paneTreeItem),i.tableConstructor||(i.tableConstructor=r.tableConstructor(i.$DOMElement,i.direction)),h=e._isPaneEmpty(t)?r.cssClassNames.splitterPaneEmpty:r.cssClassNames.splitterPane,c=i.tableConstructor.getNextCell(),c.append(t.$DOMElement),t.viewerItem&&(c.attr("class",h),l=u.utils.getBorderSizeByClasses([h]),a=t.viewerItem.getOffset?t.viewerItem.getOffset():{width:0,height:0},t.paneTreeItem.nonClientOuterElements.push(new r.utils.nonClientElement(l.width,l.height)),t.paneTreeItem.nonClientInnerElements.push(new r.utils.nonClientElement(a.width,a.height))),t!==e._getLastPane(i))){var s=i.direction=="width",v=s?{width:i.separatorSize}:{height:i.separatorSize},y={"class":s?r.cssClassNames.splitterSeparatorV:r.cssClassNames.splitterSeparatorH,align:"center"},p={"class":r.cssClassNames.splitterSeparator},o;n.extend(y,v),n.extend(p,v),o=i.tableConstructor.getNextCell(y),o.append(n("<div/>",p)),i.paneTreeItem.nonClientInnerElements.push(new r.utils.nonClientElement(s?o.width():0,s?0:o.height())),o.data("resizableElementsAccessor",new u.layout.resizableAccessor(i,t.paneTreeItem))}}),t.paneTreeItem.setSizeInPixels(t.paneTreeItem.elementProxy.getSize())},_isOrientationByHeight:function(n){return n.Orientation==="Vertical"},_isPaneEmpty:function(n){var t=n.viewerItem;return t&&t.isPaneEmpty?t.isPaneEmpty():!1},_getName:function(n){return n.Name},_getLastPane:function(n){var t=this._getPanes(n);return t.length>0?t[t.length-1]:i},_getPanes:function(n){return n&&n.Panes?n.Panes:[]},_getSizeInPercents:function(t,i){var f=this,e=f._getPanes(i),u=0;return n.each(e,function(n,t){u+=t.Size}),r.utils.defSizeInPercents(i?i.direction:"width",t.Size/(u==0?1:u))}}),r.resizableAccessor=function(n,t){return{direction:n.direction,_previousPane:i,_nextPane:i,getPrevious:function(){if(!this._previousPane){var n=t.getNearestResizable(this.direction,-1);this._previousPane=n?n:t}return this._previousPane},getNext:function(){if(!this._nextPane){var n=t.getNearestResizable(this.direction,1);this._nextPane=n?n:t.getNextPane()}return this._nextPane},$prev:function(){return this.getPrevious().elementProxy.$element.parent()},$next:function(){return this.getNext().elementProxy.$element.parent()}}}}(jQuery,DevExpress),function(n,t,i){var f=t.require("/class"),u=t.dashboard,r=u.layout,e=t.require("/utils/utils.console").debug;r.utils.paneTreeItem=function(t,u,f,e){return{elementProxy:f,parent:t,panes:[],nonClientOuterElements:[],nonClientInnerElements:[],sizeInPercents:e?e:r.utils.defSizeInPercents(u,1),sizeInPixels:new r.utils.size(0,0),constraints:r.utils.defConstraints(),_childDirection:u,_updateCount:0,distributeSpace:function(t,r,u){var a=this,e=0,l=r,f=i,o=[],s=[],h,c;return n.each(u,function(n,i){e+=i.sizeInPercents[t]}),e==0&&(e=1),n.each(u,function(n,i){var h=n===u.length-1,f=h?l:Math.floor(i.sizeInPercents[t]*r/e);f<i.constraints.min[t]?(i.sizeInPixels=i.constraints.min[t],i.deltaSizeInPixels=i.sizeInPixels-f,o.push(i)):f>i.constraints.max[t]?(i.sizeInPixels=i.constraints.max[t],i.deltaSizeInPixels=f-i.sizeInPixels,s.push(i)):i.sizeInPixels=f,l-=i.sizeInPixels}),s.sort(function(n,t){return t.deltaSizeInPixels-n.deltaSizeInPixels}),o.sort(function(n,t){return t.deltaSizeInPixels-n.deltaSizeInPixels}),f=s.length>0?s[0]:o.length>0?o[0]:i,f&&u.length>1?(h=[],c=[],n.each(u,function(n,t){t!==f&&h.push(t)}),c=a.distributeSpace(t,r-f.sizeInPixels,h),n.merge([f],c)):u},getClientSize:function(){return this.sizeInPixels.minus(this._getNonClientOuterElementsSize())},getChildrenSize:function(){return this.getClientSize().minus(this._getNonClientInnerElementsSize())},getNextPane:function(){var t=this,r=n.inArray(t,t.parent.panes),i=r+1;return i>=0&&i<t.parent.panes.length?t.parent.panes[i]:null},getNearestResizable:function(n,t){return this._getNearestResizableRecursive(this,n,t)},_getNearestResizableRecursive:function(t,r,u){var o=t.parent;if(o&&o._childDirection==r){var e=o.panes,s=n.inArray(t,e),f,h=function(n){var t=n.getActualConstraints();return t.isFixed(r)};if(u>=0){for(f=s+1;f<e.length;f++)if(!h(e[f]))return e[f]}else for(f=s;f>=0;f--)if(!h(e[f]))return e[f];return this._getNearestResizableRecursive(o,r,u)}return i},setSizeInPixels:function(n){var t=n.constrain(this.getActualConstraints()),i=t.compareByDirections(this.sizeInPixels),r=i.length>0;return r&&(this.sizeInPixels=t,this.rearrangeChildren(i)),r},rearrangeChildren:function(t){var i=this;t||(t=["width","height"]),i._beginUpdate(),n.each(t,function(n,t){i._arrangeChildren(t)}),i._endUpdate()},_arrangeChildren:function(t){if(this.panes.length!=0){var r=this,i=[],u=this.getChildrenSize()[t],f=function(n,i){var r=n.sizeInPixels.clone();r[t]=i,n.setSizeInPixels(r)};t===this._childDirection?(n.each(r.panes,function(n,t){i.push({constraints:t.getActualConstraints(),sizeInPercents:t.sizeInPercents,sizeInPixels:null,deltaSizeInPixels:null,applyChanges:function(){f(t,this.sizeInPixels)}})}),i=r.distributeSpace(t,u,i),n.each(i,function(n,t){t.applyChanges()})):n.each(r.panes,function(n,t){f(t,u)})}},_beginUpdate:function(){this._updateCount++,n.each(this.panes,function(n,t){t._beginUpdate()})},_endUpdate:function(){this._updateCount--,n.each(this.panes,function(n,t){t._endUpdate()}),this._updateCount===0&&this.elementProxy.applySize(this.getClientSize())},_assertInvariant:function(){},getActualConstraints:function(){var r=this,t=i,f=r._getNonClientOuterElementsSize().plus(r._getNonClientInnerElementsSize());return r.panes.length>0?n.each(r.panes,function(n,i){var r=i.getActualConstraints();t=n==0?r:t.consolidate(r,u)}):t=this.elementProxy.getConstraints(),t=t.consolidate(r.constraints),t.min=t.min.plus(f),t.max=t.max.plus(f),t},_extractSize:function(t){var i=new r.utils.size(0,0);return n.each(t,function(n,t){i=i.plus(t.getBounds())}),i},_getNonClientOuterElementsSize:function(){return this._extractSize(this.nonClientOuterElements)},_getNonClientInnerElementsSize:function(){return this._extractSize(this.nonClientInnerElements)}}}}(jQuery,DevExpress),function(n,t){var o=t.require("/class"),h=t.ui.events,c=t.require("/utils/utils.console").debug,s=t.require("/devices"),u=t.require("/ui/events/ui.events.utils"),f=t.require("/ui/events/pointer/ui.events.pointer"),e=t.dashboard,r=e.layout;r.paneTreeItemResizer=function(n,t,i,r){var c=n.parent,u=n.sizeInPixels[r],l=t.sizeInPixels[r],f=u+l,a=n.sizeInPercents[r]+t.sizeInPercents[r],e=n.getActualConstraints(),o=t.getActualConstraints(),s=Math.max(e.min[r],f-o.max[r])-u,h=Math.min(e.max[r],f-o.min[r])-u;return{offset:0,move:function(n,t){if(s<h){var i=n-t;this.offset=i<0?Math.max(i,s):Math.min(i,h)}return t+this.offset},applyChanges:function(){if(this.offset!=0){var i=this.offset*a/f;n.sizeInPercents[r]=n.sizeInPercents[r]+i,t.sizeInPercents[r]=t.sizeInPercents[r]-i,c.rearrangeChildren()}}}},r.viewerResizer=o.inherit({ctor:function(){this.$document=n(document)},attachResizeHandlers:function(t,i){var o=this,s=function(i){var s=i.data("resizableElementsAccessor"),h=s.direction,a=h=="width"?r.cssClassNames.movingSeparatorV:r.cssClassNames.movingSeparatorH,v=h=="width"?"left":"top",c={$prev:s.$prev(),$next:s.$next()},y=c.$prev.offset()[v],l;o._prependHoverShield(c.$prev,c.$next),l={direction:h,offset:i.offset(),$splitterDiv:o.createSplitterDiv(i,t,a),separatorPanesData:c,paneTreeItemResizer:e.layout.paneTreeItemResizer(s.getPrevious(),s.getNext(),y,h)};o.$document.on(u.addNamespace(f.move,"dxDashboardViewResizer"),l,n.proxy(o,"_moveHandler"));o.$document.on(u.addNamespace(f.up,"dxDashboardViewResizer"),l,n.proxy(o,"_endHandler"));return!1};i.on(u.addNamespace(f.down,"dxDashboardViewResizer"),"td."+r.cssClassNames.splitterSeparatorV,function(){return s(n(this))});i.on(u.addNamespace(f.down,"dxDashboardViewResizer"),"td."+r.cssClassNames.splitterSeparatorH,function(){return s(n(this))})},createSplitterDiv:function(t,i,u){var f=n("<div/>",{style:"position:absolute;","class":u}),e=t.offset();return f.addClass(r.cssClassNames.splitterResizing),f.width(t.width()),f.height(t.height()),f.appendTo(i),f.offset(e),f},skipDevice:function(n){return s.real().ios&&u.isMouseEvent(n)},_moveHandler:function(n){if(!this.skipDevice(n)){var r=u.eventData(n),i=n.data.direction=="width"?"left":"top",f=n.data.direction=="width"?"x":"y",t={left:n.data.offset.left,top:n.data.offset.top};t[i]=n.data.paneTreeItemResizer.move(r[f],t[i]),n.data.$splitterDiv.offset(t)}return!1},_endHandler:function(n){var t=this,r=n.data.$splitterDiv,i=n.data.separatorPanesData,e=i.$prev,o=i.$next;t.$document.off(u.addNamespace(f.move,"dxDashboardViewResizer")),t.$document.off(u.addNamespace(f.up,"dxDashboardViewResizer")),r.remove(),n.data.paneTreeItemResizer.applyChanges(),t._deleteHoverShield(e,o)},_deleteHoverShield:function(n,t){n.find("."+r.cssClassNames.layoutShield).remove(),t.find("."+r.cssClassNames.layoutShield).remove()},_prependHoverShield:function(t,i){var u=this;t.find("."+r.cssClassNames.layoutShield).length===0&&i.find("."+r.cssClassNames.layoutShield).length===0&&(t.prepend(n("<div>",{"class":r.cssClassNames.layoutShield,css:{width:t.width(),height:t.height()}})),i.prepend(n("<div>",{"class":r.cssClassNames.layoutShield,css:{width:i.width(),height:i.height()}})))}})}(jQuery,DevExpress),function(n,t){var u=t.require("/class"),r=t.dashboard,f=t.require("/utils/utils.console").debug;r.layout=r.layout?r.layout:{},r.layout.tableConstructor=function(t,i){var r=i=="width",u="dx-viewer-item-table";return{getNextCell:function(t){var r=this,u=t?t:{},i;return i=n("<td/>",u),i.appendTo(r._getNextRow()),i},_getNextRow:function(){var t=this,i;return r?(t.$horizontalRow||(t.$horizontalRow=n("<tr/>"),t.$horizontalRow.appendTo(this._getTable())),i=t.$horizontalRow):(i=n("<tr/>"),i.appendTo(t._getTable())),i},_getTable:function(){return this.$table||(this.$table=n("<table/>",{cellpadding:0,cellspacing:0,"class":u}),this.$table.appendTo(t)),this.$table}}}}(jQuery,DevExpress),function(n,t,i){var s=DevExpress.require("/class"),r=t.dashboard,f,e,u,o;r.serviceTasks={initialize:"Initialize",performAction:"PerformAction",reloadData:"ReloadData",exportTo:"Export"},r.viewerTasks={initialize:"Initialize",update:"Update",showMessage:"ShowMessage",updateState:"UpdateState"},r.viewerActions={setMasterFilter:"SetMasterFilter",setMultipleValuesMasterFilter:"SetMultipleValuesMasterFilter",clearMasterFilter:"ClearMasterFilter",drillDown:"DrillDown",drillUp:"DrillUp",setSelectedElementIndex:"SetSelectedElementIndex",expandValue:"ExpandValue",dataRequest:"DataRequest",getDrillThroughData:"GetDrillThroughData"},r.serviceResultCodes={success:"Success",dashboardNotFound:"DashboardNotFound",internalError:"InternalError"},r.specialValueNames={NullValue:"DashboardNullValue",OthersValue:"DashboardOthersValue",ErrorValue:"DashboardErrorValue"},r.itemDataAxisNames={defaultAxis:"Default",chartSeriesAxis:"Series",chartArgumentAxis:"Argument",sparklineAxis:"Sparkline",pivotColumnAxis:"Column",pivotRowAxis:"Row"},r.getMultiData=function(n){var t=i;return n&&n.MetaData&&(t=new r.data.itemDataManager,t.initialize(n)),t&&t.getItemData()},f=r.serviceTasks,u=r.viewerActions,e=r.viewerTasks,o=r.serviceResultCodes,r.serviceClient=s.inherit({ctor:function(t,i){this._service=t,this._performViewerTask=i,this._service.responseReceived.add(n.proxy(this._processServiceResponse,this)),this._requestHash={},this._requestMarker=-1,this.actionAvailabilityChanged=new n.Callbacks,this.actionPerformed=new n.Callbacks,this.itemClick=new n.Callbacks,this.itemHover=new n.Callbacks,this.itemVisualInteractivity=new n.Callbacks,this.itemSelectionChanged=new n.Callbacks,this.itemWidgetCreated=new n.Callbacks,this.itemWidgetUpdating=new n.Callbacks,this.itemWidgetUpdated=new n.Callbacks,this.itemElementCustomColor=new n.Callbacks},initialize:function(t,r){this._dashboardId=t,this._settings=r,this._sessionId=i,this._context=i,this._model={items:{}},this._actionBatch=function(){var t=[],i=!1,r=!1;return{startTrackingChanges:function(){i=!1},hasChanges:function(){return i},addAction:function(n){i=!0,t.push(n)},clear:function(){i=!1,t=[]},getBatch:function(){return t.slice()},getCallbacks:function(){var i=[];return n.each(t,function(n,t){t.OnCompleted&&i.push(t.OnCompleted)}),i},lock:function(){r=!0},unlock:function(){r=!1},locked:function(){return r}}}(),this._sendServiceRequest({Task:f.initialize,DashboardId:t,Settings:r})},reloadData:function(n){var t=this;t._sendServiceRequest({Task:f.reloadData,DashboardParameters:n||t.parametersCollection.getParameterValues()}),t._updateStateOnReloadDataStarting(),t._performViewerTask(e.updateState,{state:t._getViewerState()})},exportDashboard:function(n,t){this._exportTo({mode:"EntireDashboard",clientState:n.clientState,format:n.format,fileName:n.fileName},t)},_getValues:function(t,i){var r=[],u=this._getDimensionIdsByItemName(t),f=u.length;return n.each(i,function(n,t){for(var u=[],i=t.GetAxisPoint();i.getParent()!=null;){if(u.push(i.getUniqueValue()),f==1)break;i=i.getParent()}u.reverse(),r.push(u)}),r},performAction:function(t){var e=this._model.items[t.ItemName],f=[],i,o="Cannot perform interactivity action. No value has been specified.";switch(t.ActionName){case u.drillDown:t.Parameters?(i=t.Parameters instanceof r.data.itemDataTuple?this._getValues(t.ItemName,[t.Parameters]):[[t.Parameters]],e.actionModel.SetMasterFilter&&f.push({ActionName:u.setMasterFilter,ItemName:t.ItemName,Parameters:i}),t.Parameters=i[0]):n.error(o);break;case u.drillUp:e.actionModel.ClearMasterFilter&&f.push({ActionName:u.clearMasterFilter,ItemName:t.ItemName});break;case u.setMasterFilter:t.Parameters?(i=t.Parameters[0]instanceof r.data.itemDataTuple?this._getValues(t.ItemName,t.Parameters):t.Parameters,t.Parameters=i):n.error(o);break;case u.setMultipleValuesMasterFilter:t.Parameters.length>0&&(i=t.Parameters[0]instanceof r.data.itemDataTuple?this._getValues(t.ItemName,t.Parameters):t.Parameters,t.Parameters=i)}f.push(t),this._performBatchAction(f)},getItemData:function(n){var t=this._getItemDataManager(n);return t&&t.getItemData()},_getItemDataManager:function(n){var f=this,i=f._model.items[n],t,u;return i?(t=i.dataManager,u=i.itemDataDTO,!t&&u&&u.MetaData&&(t=new r.data.itemDataManager,t.initialize(u),i.dataManager=t),t):null},requestUnderlyingData:function(t,i,r){var f=this,o=f._getItemDataManager(t).getMetaData(),s=f._getUnderlyingDataArgsAxisPoints(t,i),h=i.dataMembers,e={};n.each(s,function(n,t){var i=t.getAxisName();e[o.getPivotAreaByAxisName(i)]=t.getUniquePath()}),f._performBatchAction([{ActionName:u.getDrillThroughData,ItemName:t,OnCompleted:r,Parameters:[e.Columns,e.Rows,h]}])},_getUnderlyingDataArgsAxisPoints:function(t,r){var f=this.getItemData(t),e=f.getAxisNames(),u=r.axisPoints;return u||(u=[],n.each(e,function(n,t){var s=f.getAxis(t),o=i,e;r.uniqueValuesByAxisName&&(e=r.uniqueValuesByAxisName[t],e&&(o=s.getPointByUniqueValues(e))),r.valuesByAxisName&&(e=r.valuesByAxisName[t],e&&(o=s.getPointByValues(e))),o||(o=s.getRootPoint()),u.push(o)})),n.each(e,function(t,i){var r=n.grep(u,function(n){return n.getAxisName()===i});r.length==0&&u.push(f.getAxis(i).getRootPoint())}),u},_sendServiceRequest:function(t,i){var r=this;r._requestMarker++,r._service.sendRequest(n.extend(t,{SessionId:r._sessionId,Context:r._context,RequestMarker:r._requestMarker,ClientState:r._prepareClientState()})),t.Task!==f.exportTo&&(r._requestHash[r._requestMarker]={taskName:t.Task,metaData:i})},_prepareClientState:function(){var t={};return n.each(this._model.items,function(n,i){i.clientState&&(t[n]=i.clientState)}),t},_processServiceResponse:function(n){var t=this,i=n.RequestMarker,u=t._requestHash[i].taskName,f=t._requestHash[i].metaData,s=n.Error?n.Error.Message:null,r;delete this._requestHash[i];switch(n.ResultCode){case o.success:if(t._actionBatch.hasChanges()){t._sendBatchActionRequest();return}t._context=n.Context,n.LoadingDataErrorMessage&&n.LoadingDataErrorMessage.length>0&&t._performViewerTask(e.showMessage,{isModal:!0,message:n.LoadingDataErrorMessage}),r=t._actionBatch.getBatch(),t._actionBatch.clear(),t._actionBatch.startTrackingChanges(),t.lockBatchActions(),t._processTaskResult(u,f,n),t._fireActionBatchEvents(r),t.unlockBatchActions();break;case o.dashboardNotFound:case o.internalError:t._performViewerTask(e.showMessage,{isModal:!1,message:s})}t._actionBatch.hasChanges()||t._actionBatch.clear()},_processTaskResult:function(n,t,i){var u=this,c=i.PaneContent||[],s,o,h;u._processPaneContent(c);switch(n){case f.initialize:u._sessionId=i.SessionId,u.lockBatchActions(),u.parametersCollection=new r.data.parametersCollection(i.DashboardParameters),u._setItemsInteractivityOptions(),u._fireItemVisualInteractivityEvents(),u._performViewerTask(e.initialize,{model:{rootPane:i.RootPane,paneContent:i.PaneContent,itemsMultiData:u._generateItemData(),titleViewModel:i.TitleViewModel,masterFilterValues:i.MasterFilterValues,exportData:i.ExportData},localization:i.Localization,handlers:u._getItemEventHandlers(),state:u._getViewerState(),itemsInteractivityOptions:u._getItemsInteractivityOptions()}),u.unlockBatchActions();break;case f.performAction:case f.reloadData:if(u._fireItemVisualInteractivityEvents(),u._performViewerTask(e.update,{content:i.PaneContent,itemsMultiData:u._generateItemData(),masterFilterValues:i.MasterFilterValues,state:u._getViewerState(),clientState:i.ClientState,itemsInteractivityOptions:u._getItemsInteractivityOptions()}),t&&t.length)for(s=i.UnderlyingData,o=0;o<s.length;o++)h=new r.data.drillThroughDataWrapper(s[o]),h.initialize(),t[o](h)}},_setItemsInteractivityOptions:function(){n.each(this._model.items,function(n,t){t.interactivityOptions={selectionMode:r.dashboardSelectionMode.none,hoverEnabled:!1,targetAxes:[],defaultSelectedValues:[]}})},_getItemsInteractivityOptions:function(){var u=this,t,i={};return n.each(u._model.items,function(f,e){if(t=e.interactivityOptions,i[f]={},i[f].selectionMode=t.selectionMode,i[f].hoverEnabled=t.hoverEnabled,i[f].targetAxes=t.targetAxes,i[f].defaultSelectedValues=t.defaultSelectedValues,!u._isInteractivityActionEnabled(f)&&t.defaultSelectedValues.length==0&&t.selectionMode==r.dashboardSelectionMode.single){var o=[],s=u.getItemData(f);n.each(t.targetAxes,function(n,t){o.push({AxisName:t,Value:s.getAxis(t).getPoints()[0].getUniquePath()})}),i[f].defaultSelectedValues=[o]}}),i},_generateItemData:function(){var i=this,t={};return n.each(this._model.items,function(n){t[n]=i.getItemData(n)}),t},_getViewerState:function(){var t=this._model,i={};return n.each(t.items,function(n,t){i[n]=t.state}),{items:i,viewer:t.viewerState}},_getItemEventHandlers:function(){var n=this;return{onSelected:function(t,i,r){n._performBatchAction([{ItemName:t,ActionName:i,Parameters:r}])},onClearMasterFilter:function(t){n._performBatchAction([{ItemName:t,ActionName:u.clearMasterFilter}])},onDrillUp:function(t,i){var f=n._model.items[t],r=[];i&&f.actionModel.ClearMasterFilter&&r.push({ItemName:t,ActionName:u.clearMasterFilter}),r.push({ItemName:t,ActionName:u.drillUp}),n._performBatchAction(r)},onContentElementSelection:function(t,i){n._performBatchAction([{ItemName:t,ActionName:u.setSelectedElementIndex,Parameters:[i.index]}])},onExpandValue:function(t,i){n._performBatchAction([{ItemName:t,ActionName:u.expandValue,Parameters:[i.values,i.isColumn,i.isExpand,i.isRequestData]}])},onDataRequest:function(t){n._performBatchAction([{ItemName:t,ActionName:u.dataRequest}])},onClientStateUpdate:function(t,i){n._model.items[t].clientState=i},onExportTo:function(t,i){n._exportTo({name:t,mode:i.mode,clientState:i.clientState,format:i.format,fileName:i.fileName,itemType:i.itemType},i.documentOptions)},onItemClick:function(t,i){n._onItemClick(t,i)},onItemHover:function(t,i,r){n._onItemHover(t,i,r)},onItemSelectionChanged:function(t,i){n._onItemSelectionChanged(t,i)},onItemWidgetCreated:function(t,i){n._onItemWidgetCreated(t,i)},onItemWidgetUpdating:function(t,i){n._onItemWidgetUpdating(t,i)},onItemWidgetUpdated:function(t,i){n._onItemWidgetUpdated(t,i)},onItemElementCustomColor:function(t,i){n._onItemElementCustomColor(t,i)}}},_processPaneContent:function(t){var i=this,f=i._model,e=[];n.each(t,function(t,o){var a=[],c=o.Name,h=o.ActionModel||{AffectedItems:{}},s=f.items[c]||{},v=o.ContentType==="FullContent"||o.ContentType==="CompleteDataSource",y=o.ContentType!=="CompleteDataSource",p=o.ContentType==="PartialDataSource",l;e.push(c),p?(l=i._getItemDataManager(o.Name),l&&o.ItemData&&l.updateExpandedData(o.ItemData,{values:o.Parameters[0],pivotArea:o.Parameters[1]?r.data.pivotAreaNames.columns:r.data.pivotAreaNames.rows})):(v&&(o.ItemData&&(s.itemDataDTO=o.ItemData),s.dataManager=null,s.data=null),y&&(f.items[c]=s,s.selectedValues=o.SelectedValues,s.axisName=o.AxisName,s.dimensionIds=o.DimensionIds,s.actionModel=h.AffectedItems,n.each(u,function(n,t){var i=h.AffectedItems[t];i&&a.push(t)}),delete h.AffectedItems,h.Actions=a))}),i._updateStateOnOperationCompleted(e)},_performBatchAction:function(n){for(var i=this,t,r=0;r<n.length;r++){if(t=n[r],!t.ActionName)return;i._actionBatch.addAction(t),i._updateStateOnActionStarting(t.ItemName,t.ActionName),i._performViewerTask(e.updateState,{state:i._getViewerState(),selection:t.ActionName===u.setMasterFilter||t.ActionName===u.setMultipleValuesMasterFilter||t.ActionName==u.clearMasterFilter?{itemName:t.ItemName,parameters:t.Parameters?t.Parameters:[]}:null})}i._isWaitingForResponse()||i._actionBatch.locked()||i._sendBatchActionRequest(),i.actionAvailabilityChanged.fire()},_sendBatchActionRequest:function(){var n=this;n._sendServiceRequest({Task:f.performAction,Actions:n._actionBatch.getBatch()},n._actionBatch.getCallbacks()),n._actionBatch.startTrackingChanges()},lockBatchActions:function(){this._actionBatch.lock()},unlockBatchActions:function(){this._actionBatch.unlock(),this._actionBatch.hasChanges()&&this._sendBatchActionRequest()},_fireActionBatchEvents:function(t){var i=this;n.each(t,function(n,t){i.actionPerformed.fire({ActionName:t.ActionName,ItemName:t.ItemName,Parameters:t.Parameters})}),i.actionAvailabilityChanged.fire()},_fireItemVisualInteractivityEvents:function(){var i=this,t;n.each(i._model.items,function(r,u){t=u.interactivityOptions,i.itemVisualInteractivity.fire({itemName:r,getSelectionMode:function(){return t.selectionMode},setSelectionMode:function(n){t.selectionMode=n},isHighlightingEnabled:function(){return t.hoverEnabled},enableHighlighting:function(n){t.hoverEnabled=n},getTargetAxes:function(){return t.targetAxes},setTargetAxes:function(n){t.targetAxes=n},getDefaultSelection:function(){var f=i.getItemData(r),u=[];return n.each(t.defaultSelectedValues,function(n,t){u.push(f.createTuple(t))}),u},setDefaultSelection:function(i){var u=[],r;n.each(i,function(i,f){r=[],n.each(t.targetAxes,function(n,t){r.push({AxisName:t,Value:f.getAxisPoint(t).getUniquePath()})}),u.push(r)}),t.defaultSelectedValues=u}})})},getAvailableActions:function(){var t=this,r=t._model,i={};return n.each(r.items,function(t,r){var u=[];!r.state.operations.actions||n.each(r.actionModel,function(n){u.push(n)}),i[t]=u}),{reloadData:!t._isWaitingForResponse(),actions:i}},getParametersCollection:function(){return this.parametersCollection},getAvailableDrillDownValues:function(t){return n.inArray(r.viewerActions.drillDown,this.getAvailableActions().actions[t])!=-1?this._getAvailableTuples(t):null},getCurrentDrillDownValues:function(n){var h=this,i=this._getDimensionIdsByItemName(n),f=i.length,t;if(f>0){var e=this.getItemData(n),o=this._getCurrentAxisNameByItemName(n),s=e.getAxis(o),u=s.getPointsByDimension(i[0]);return u.length>0?(t=u[0].getParent(),t.getParent()!=null?new r.data.itemDataTuple([t]):null):null}return null},getAvailableFilterValues:function(t){return n.inArray(r.viewerActions.setMasterFilter,this.getAvailableActions().actions[t])!=-1||n.inArray(r.viewerActions.setMultipleValuesMasterFilter,this.getAvailableActions().actions[t])!=-1?this._getAvailableTuples(t):null},getCurrentFilterValues:function(t){var o=this,i=this._getDimensionIdsByItemName(t),u=i.length;if(u>0){var s=this.getItemData(t),h=this._getCurrentAxisNameByItemName(t),c=s.getAxis(h),f=[],e=o._getSelectedValuesByItemName(t);return e&&n.each(e,function(t,e){for(var s=e[0],h=n.grep(c.getPointsByDimension(i[0]),function(n){return r.utils.checkValuesAreEqual(s,n.getUniqueValue())})[0],o=1;o<u;o++)s=e[o],h=n.grep(h.getChildren(),function(n){return r.utils.checkValuesAreEqual(s,n.getUniqueValue())})[0];f.push(new r.data.itemDataTuple([h]))}),f}return null},_isInteractivityActionEnabled:function(t){var i=this.getAvailableActions().actions[t];return n.inArray(r.viewerActions.drillDown,i)!=-1||n.inArray(r.viewerActions.setMasterFilter,i)!=-1||n.inArray(r.viewerActions.setMultipleValuesMasterFilter,i)!=-1},_getAvailableTuples:function(t){var h=this,i=this._getDimensionIdsByItemName(t),u=i.length;if(u>0){var e=this.getItemData(t),o=this._getCurrentAxisNameByItemName(t),s=e.getAxis(o),c,f=[];return n.each(s.getPointsByDimension(i[u-1]),function(n,t){f.push(new r.data.itemDataTuple([t]))}),f}return null},_getSelectedValuesByItemName:function(n){var t=this,i=t._model,r=i.items[n];return r.selectedValues},_getCurrentAxisNameByItemName:function(n){var t=this,i=t._model,r=i.items[n];return r.axisName},_getDimensionIdsByItemName:function(n){var t=this,i=t._model,r=i.items[n];return r.dimensionIds},_isWaitingForResponse:function(){return!!this._requestHash[this._requestMarker]},_exportTo:function(n,t){var i=this,r=n.fileName?n.fileName.replace(/[\\/:*?"<>|]/g,"_"):"Export";i._sendServiceRequest({Task:f.exportTo,ExportInfo:{Mode:n.mode,GroupName:n.name,FileName:r,ClientState:n.clientState,Format:n.format,DocumentOptions:t,ItemType:n.itemType}})},_createItemEventArgs:function(t,r,u){var e=this,f=function(){return e.getItemData(t)},o=function(n){return n===i&&(n="Default"),n},s=function(n){return f().getAxis(o(n))},h=function(n){return n=o(n),s(n).getPointByUniqueValues(r.getValues(n))};return{itemName:t,state:u,getData:f,getAxisPoint:h,getMeasures:function(){return e._getMeasuresByIds(f(),r.getMeasureIds())},getDeltas:function(){var i=r.getDeltaIds(),t=[],u=f();return n.each(i,function(n,i){t.push(u.getDeltaById(i))}),t},getDimensions:function(n){return s(n).getDimensions(n)},requestUnderlyingData:function(i,r){var u=[];n.each(f().getAxisNames(),function(n,t){u.push(h(t))}),e.requestUnderlyingData(t,{axisPoints:u,dataMembers:r},i)}}},_getMeasuresByIds:function(t,i){var u=this,r=[];return n.each(i,function(n,i){r.push(t.getMeasureById(i))}),r},_onItemClick:function(n,t){this.itemClick.fire(this._createItemEventArgs(n,t,null))},_onItemHover:function(n,t,i){this.itemHover.fire(this._createItemEventArgs(n,t,i))},_onItemSelectionChanged:function(t,i){var r=this,u=r.getItemData(t);r.itemSelectionChanged.fire({itemName:t,getCurrentSelection:function(){var t=[];return n.each(i,function(n,i){t.push(u.createTuple(i))}),t}})},_onItemWidgetCreated:function(n,t){this.itemWidgetCreated.fire({itemName:n,getWidget:function(){return t}})},_onItemWidgetUpdating:function(n,t){this.itemWidgetUpdating.fire({itemName:n,getWidget:function(){return t}})},_onItemWidgetUpdated:function(n,t){this.itemWidgetUpdated.fire({itemName:n,getWidget:function(){return t}})},_onItemElementCustomColor:function(n,t){var i=this,u=function(){return i.getItemData(n)},f={itemName:n,getTargetElement:function(){return new r.data.itemDataTuple(t.targetElement)},getMeasures:function(){return i._getMeasuresByIds(u(),t.measureIds)},getColor:function(){return t.color},setColor:function(n){t.color=n}};this.itemElementCustomColor.fire(f)},_updateStateOnActionStarting:function(t,i){var o=this,r=o._model,f=r.items,e=f[t].actionModel,s=e&&e[i];n.each(s||[],function(n,t){r.items[t].state={loading:!0,operations:{actions:i===u.dataRequest,exportTo:!1}}}),n.each(f,function(n,t){t.state.operations.exportTo=!1}),r.viewerState={loading:!1,operations:{exportTo:!1,reloadData:!1}}},_updateStateOnReloadDataStarting:function(){var i=this,t=i._model,r=t.items;n.each(r,function(t,i){i.state={loading:!1,operations:{actions:n.isEmptyObject(i.actionModel),exportTo:!1}}}),t.viewerState={loading:!0,operations:{exportTo:!1,reloadData:!1}}},_updateStateOnOperationCompleted:function(t){var r=this,i=r._model,u=i.items;n.each(t,function(n,t){i.items[t].state={loading:!1,operations:{actions:!0,exportTo:!0}}}),n.each(u,function(n,t){t.state.operations.exportTo=!0}),i.viewerState={loading:!1,operations:{exportTo:!0,reloadData:!0}}}})}(jQuery,DevExpress),function(n,t,i){var p=t.ui,l=t.require("/domComponent"),r=t.dashboard,e=r.viewerTasks,u=r.viewerActions,o=t.utils,h=t.require("/utils/utils.browser"),c=t.require("/utils/utils.window"),s=t.require("/utils/utils.common"),a=t.require("/devices"),v=t.require("/componentRegistrator"),y=r.data.localizer,f;r.SEPARATOR_SIZE=10,r.MIN_PANE_HEIGHT=50,r.MIN_PANE_WIDTH=50,r.USE_NATIVE_SCROLLING="auto",r.apiActions={setMasterFilter:"SetMasterFilter",clearMasterFilter:"ClearMasterFilter",drillDown:"DrillDown",drillUp:"DrillUp"},r.exportFormats={pdf:"PDF",image:"Image",excel:"Excel"},f=r.apiActions,v("dxDashboardViewer",r,l.inherit({showExportDialog:function(n){var t=this,i=t._getExportDialog();i.setExportFunction(function(i){t.exportTo(n,i)}),i.showDialog("",null,n,{fileName:t.model.titleViewModel?t.model.titleViewModel.Text:"Dashboard"})},showParametersDialog:function(){this.parametersDialog.show()},hideParametersDialog:function(){this.parametersDialog.hide()},getCurrentSelection:function(t){var i=this,u=i.getItemData(t),r=[];return n.each(i.getViewerItem(t).getSelectedTuples(),function(n,t){r.push(u.createTuple(t))}),r},getInfo:function(t){var i=this,r=i._getContainer(),u=r.position(),f=[],e=function(t){n.each(t,function(n,i){i&&(s.isObject(i)?e(i):!s.isArray(i)&&s.isNumber(i)&&(t[n]=Math.ceil(i)))})};return t||(t=i.viewerItems),n.each(t,function(n,t){var i=t.getInfo();i.position={left:i.position.left-u.left,top:i.position.top-u.top},e(i),f.push(i)}),{clientSize:{width:r.outerWidth(),height:r.outerHeight()},titleHeight:i.title?i.title.outerHeight():0,itemsState:f}},getViewerItem:function(n){return this.viewerItems[n]},documentOptions:function(t){if(t)n.extend(!0,this._documentOptions,t),this._documentOptions.showTitle=t.commonOptions.includeCaption;else return this._documentOptions},exportTo:function(t,r){var u=this,f=r==i||r.fileName==i?"Export":r.fileName;u.serviceClient.exportDashboard({format:t,clientState:u.getInfo(),fileName:f},n.extend(!0,{},u._documentOptions,r))},getParametersCollection:function(){return this.serviceClient.getParametersCollection()},reloadData:function(n){this.beginUpdateParameters(),n&&this.getParametersCollection().setParameters(n),this.endUpdateParameters()},beginUpdateParameters:function(){this._isLocked=!0},endUpdateParameters:function(){this._isLocked=!1,this.getParametersCollection().collectionChanged.fire()},updateContent:function(t){var i=this,r=(i.model.paneContent||[]).slice(0);if(!r.length){i.model.paneContent=t;return}n.each(t,function(t,r){var u=r.Name,f=i._getViewerItem(u);f.updateContent(n.extend(r,{animate:!1,multiData:i.model.itemsMultiData[u]}))})},updateSize:function(t){var r=this;r.updateSizeTimerId&&clearTimeout(r.updateSizeTimerId),r.updateSizeTimerId=setTimeout(function(){var e=r._getContainer(),u=o.renderHelper.getActualSize(e),f;r.title&&!r.title.isEmpty()&&(r.title.width(u.width),u.height-=r.title.outerHeight()),f=!!r.rootSection&&r.rootSection.updateSize(u.width,u.height),!f&&t&&n.each(r.viewerItems||[],function(n,t){t.setSize(i,i)})},100)},getAvailableActions:function(){var t=this,i=t.serviceClient.getAvailableActions(),r={};return n.each(i.actions,function(i,u){var f=[];n.each(u,function(i,r){var u=t._getApiAction(r);u&&n.inArray(u,f)==-1&&f.push(u)}),r[i]=f}),{reloadData:i.reloadData,actions:r}},getCurrentRange:function(n){var t=this.getViewerItem(n);return t.getCurrentRange()},getEntireRange:function(n){var t=this.getViewerItem(n);return t.getEntireRange()},setRange:function(n,t){var i=this.getViewerItem(n);i.setRange(t)},performInteractivityAction:function(t){var i=this,e=i.serviceClient.getAvailableActions().actions[t.ItemName],o={ItemName:t.ItemName,Parameters:t.Parameters},r,s="Cannot perform interactivity action. This action is not allowed for the current dashboard item.";switch(t.ActionName){case f.setMasterFilter:i._containsValue(e,u.setMasterFilter)&&(r=u.setMasterFilter),i._containsValue(e,u.setMultipleValuesMasterFilter)&&(r=u.setMultipleValuesMasterFilter);break;case f.clearMasterFilter:i._containsValue(e,u.clearMasterFilter)&&(r=u.clearMasterFilter);break;case f.drillDown:i._containsValue(e,u.drillDown)&&(r=u.drillDown);break;case f.drillUp:i._containsValue(e,u.drillUp)&&(r=u.drillUp)}r?(o.ActionName=r,i.serviceClient.performAction(o)):n.error(s)},_init:function(){var t=this;t.callBase(),t.model={},t.viewerItems={},t.serviceClient=new r.serviceClient(t.option("service"),n.proxy(t._processViewerTask,t)),t.actionAvailabilityChanged=new n.Callbacks,t.actionPerformed=new n.Callbacks,t.initialized=new n.Callbacks,t.itemClick=new n.Callbacks,t.itemHover=new n.Callbacks,t.itemVisualInteractivity=new n.Callbacks,t.itemSelectionChanged=new n.Callbacks,t.itemWidgetCreated=new n.Callbacks,t.itemWidgetUpdating=new n.Callbacks,t.itemWidgetUpdated=new n.Callbacks,t.itemElementCustomColor=new n.Callbacks,t.parametersChanged=new n.Callbacks,t.serviceClient.actionAvailabilityChanged.add(n.proxy(t._onClientActionAvailabilityChanged,t)),t.serviceClient.actionPerformed.add(n.proxy(t._onClientActionPerformed,t)),t.serviceClient.itemClick.add(n.proxy(t._onItemClick,t)),t.serviceClient.itemHover.add(n.proxy(t._onItemHover,t)),t.serviceClient.itemVisualInteractivity.add(n.proxy(t._onItemVisualInteractivity,t)),t.serviceClient.itemSelectionChanged.add(n.proxy(t._onItemSelectionChanged,t)),t.serviceClient.itemWidgetCreated.add(n.proxy(t._onItemWidgetCreated,t)),t.serviceClient.itemWidgetUpdating.add(n.proxy(t._onItemWidgetUpdating,t)),t.serviceClient.itemWidgetUpdated.add(n.proxy(t._onItemWidgetUpdated,t)),t.serviceClient.itemElementCustomColor.add(n.proxy(t._onItemElementCustomColor,t)),t._isLocked=!1,t._exportDialog=i,t._documentOptions={paperKind:"Letter",pageLayout:"Portrait",scaleMode:"None",scaleFactor:1,autoFitPageCount:1,showTitle:!0,title:"Dashboard",imageFormatOptions:{format:"Png",resolution:96},excelFormatOptions:{format:"Xlsx",csvValueSeparator:","},commonOptions:{filterStatePresentation:"None"},pivotOptions:{printHeadersOnEveryPage:!0},gridOptions:{fitToPageWidth:!0,printHeadersOnEveryPage:!0},chartOptions:{automaticPageLayout:!0,sizeMode:"Zoom"},pieOptions:{autoArrangeContent:!0},gaugeOptions:{autoArrangeContent:!0},cardOptions:{autoArrangeContent:!0},mapOptions:{automaticPageLayout:!0,sizeMode:"Zoom"},rangeFilterOptions:{automaticPageLayout:!0,sizeMode:"Stretch"}},t.documentOptions(t.option("exportOptions")),a.current("desktop"),t.$rootContainer=n("<div />",{width:"100%",height:"100%"}),t.$rootContainer.appendTo(t.element()),t._ensureFullscreenMode(),t.serviceClient.initialize(t.option("dashboardId"),{calculateHiddenTotals:t.option("calculateHiddenTotals")})},_onClientActionAvailabilityChanged:function(){this.actionAvailabilityChanged.fire(this.getAvailableActions())},_onClientActionPerformed:function(n){n.ActionName=this._getApiAction(n.ActionName),this.actionPerformed.fire(n)},_onItemClick:function(n){this.itemClick.fire(n)},_onItemHover:function(n){this.itemHover.fire(n)},_onItemVisualInteractivity:function(n){this.itemVisualInteractivity.fire(n)},_onItemSelectionChanged:function(n){this.itemSelectionChanged.fire(n)},_onItemWidgetCreated:function(n){this.itemWidgetCreated.fire(n)},_onItemWidgetUpdating:function(n){this.itemWidgetUpdating.fire(n)},_onItemWidgetUpdated:function(n){this.itemWidgetUpdated.fire(n)},_onItemElementCustomColor:function(n){this.itemElementCustomColor.fire(n)},_onParametersChanged:function(n){this.parametersChanged.fire(n)},_processViewerTask:function(n,t){var i=this;switch(n){case e.initialize:y.initialize(t.localization),i.model=t.model,i._createLayoutItems(t.handlers),i._refresh(),i._updateState(t.state,!0),i._initializeLayoutItems(),i.initialized.fire(),i._updateItems(t.itemsInteractivityOptions);break;case e.update:i.model.masterFilterValues=t.masterFilterValues,i.model.itemsMultiData=t.itemsMultiData,i.updateContent(t.content),i._updateState(t.state,!0),i._updateClientState(t.clientState),i._updateItems(t.itemsInteractivityOptions);break;case e.updateState:i._updateState(t.state),t.selection&&i._updateSelection(t.selection.itemName,t.selection.parameters);break;case e.showMessage:t.isModal?alert(t.message):this._renderMessage("dx-dashboard-message",t.message)}},_updateItems:function(t){var i=this;n.each(t,function(n,t){i.getViewerItem(n).updateItem(t)})},_getViewerItem:function(n){var t=this.viewerItems[n];if(t)return t},_getContainer:function(n){var t=this.$rootContainer;return n&&(t.empty(),this._exportDialog=i),t},_render:function(){var t=this,f=t._getContainer(!0),s=t.model.rootPane,u=i,e=i;f.addClass("dx-dashboard-container"),s?(t.model.titleViewModel&&t.model.titleViewModel.Visible&&f.css({"padding-top":"0px"}),e=o.renderHelper.getActualSize(f),u=t.getParametersCollection(),u&&(u.collectionChanged.add(function(){t._isLocked||(t._onParametersChanged(u.getParameterValues()),t.serviceClient.reloadData(u.getParameterValues()))}),u.getVisibleParameters().length>0&&(t.parametersDialog=new r.parametersDialog({$parametersDialogContainer:f,getParametersCollection:function(){return u},submitParameters:function(n){t.reloadData(n)}}))),t.title=new r.title({$container:f,titleViewModel:t.model.titleViewModel,allowExport:t.option("allowExport"),encodeHtml:t.option("encodeHtml"),showExportDialog:n.proxy(t.showExportDialog,t),showParametersDialog:n.proxy(t.showParametersDialog,t)}),t.title.render(e.width),t._renderViewer(f,s,e.width,e.height-this.title.outerHeight())):t._renderMessage("dx-dashboard-loading",null)},_renderViewer:function(t,i,u,f){var e=this,o=n("<div/>",{"class":"dx-dashboard-viewer",width:u,height:f});t.append(o),e.rootSection=new r.layout.viewerSection({items:e.viewerItems,layoutItem:i,$container:o,separatorSize:r.SEPARATOR_SIZE,minPaneSize:r.MIN_PANE_WIDTH}),e.rootSection.render()},_renderMessage:function(t,r){var s=this,f=i,e=s._getContainer(!0),u=n("<div/>",{"class":t});u.appendTo(e),r&&u.html(r),f=o.renderHelper.getActualSize(e),u.width()>f.width&&u.width(f.width),u.height()>f.height&&u.height(f.height),u.css({overflow:"auto","margin-left":Math.floor((f.width-u.width())/2),"margin-top":Math.floor((f.height-u.height())/2)})},_createLayoutItems:function(t){var u=this,e=u.model.paneContent||[],f={};u.viewerItems={},n.each(e,function(e,o){if(o){var h=o.Name,c=o.Group,l=o.Type==r.viewerItems.types.group,s=r.data.factory.createItem(i,n.extend(o,{animate:!0,allowExport:u.option("allowItemsExport"),encodeHtml:u.option("encodeHtml"),exportCaption:u.model.exportData?u.model.exportData.ExportCaptions[h]:h,getExportDialog:function(){return u._getExportDialog()},multiData:u.model.itemsMultiData[h]})),a=function(i,r){var e=n.extend(r,{mode:l?"EntireDashboard":"SingleItem",clientState:u.getInfo(l?f[i]:[s]),documentOptions:n.extend(!0,{},u._documentOptions,r.documentOptions)});t.onExportTo(i,e)};s.exportTo.add(a),s.selected.add(t.onSelected),s.clearMasterFilter.add(t.onClearMasterFilter),s.drillUp.add(t.onDrillUp),s.contentElementSelection.add(t.onContentElementSelection),s.expandValue.add(t.onExpandValue),s.clientStateUpdate.add(t.onClientStateUpdate),s.dataRequest.add(t.onDataRequest),s.itemClick.add(t.onItemClick),s.itemHover.add(t.onItemHover),s.itemSelectionChanged.add(t.onItemSelectionChanged),s.itemWidgetCreated.add(t.onItemWidgetCreated),s.itemWidgetUpdating.add(t.onItemWidgetUpdating),s.itemWidgetUpdated.add(t.onItemWidgetUpdated),s.itemElementCustomColor&&s.itemElementCustomColor.add(t.onItemElementCustomColor),u.viewerItems[h]=s,c&&(f[c]||(f[c]=[]),f[c].push(s))}})},_initializeLayoutItems:function(){n.each(this.viewerItems,function(n,t){t.initialDataRequest()})},getItemData:function(n){return this.serviceClient.getItemData(n)},getAvailableDrillDownValues:function(n){return this.serviceClient.getAvailableDrillDownValues(n)},getCurrentDrillDownValues:function(n){return this.serviceClient.getCurrentDrillDownValues(n)},getAvailableFilterValues:function(n){return this.serviceClient.getAvailableFilterValues(n)},getCurrentFilterValues:function(n){return this.serviceClient.getCurrentFilterValues(n)},requestUnderlyingData:function(n,t,i){this.serviceClient.requestUnderlyingData(n,t,i)},_containsValue:function(t,i){return n.inArray(i,t)!==-1},_getApiAction:function(n){switch(n){case u.setMasterFilter:case u.setMultipleValuesMasterFilter:return f.setMasterFilter;case u.clearMasterFilter:return f.clearMasterFilter;case u.drillDown:return f.drillDown;case u.drillUp:return f.drillUp;default:return i}},_getExportDialog:function(){var t=this;return t._exportDialog||(t.option("allowExport")||t.option("allowItemsExport"))&&(t._exportDialog=new r.exportDialog({$container:t._getContainer(),documentInfo:n.extend({},t._documentOptions,{title:t.model.exportData?t.model.exportData.ExportTitle:"Dashboard"})})),t._exportDialog},_updateState:function(t,r){var u=this,f=t.items;u.title&&u.title.updateState(t.viewer,r?u.model.masterFilterValues:i),n.each(f,function(n){u._getViewerItem(n).updateState(f[n])})},_updateClientState:function(t){var i=this;n.each(t,function(n){i._getViewerItem(n).updateClientState(t[n])})},_updateSelection:function(t,i){var e=this._getViewerItem(t),u=e.options.SelectedValues||[],o=r.utils.wrapHash(u),f=!u||u.length!=i.length;f||n.each(i,function(n,t){if(!o[t])return f=!0,!1}),f&&e.setSelection(i)},_ensureFullscreenMode:function(){var i=this,o=i.option("fullScreen"),y=i.option("redrawOnResize"),s=function(){i.updateSize()},n,t;if(o||y){c.resizeCallbacks.add(s);i.on("disposing",function(){c.resizeCallbacks.remove(s)})}if(o){var l=i._getContainer(),a=!!h.msie,v=parseInt(h.version,10),r="overflow",u=null,f=!1,e=!1;for(l.addClass("dx-dashboard-fullscreen-mode"),f&&e?(r=null,u="overflow"):f?(r="overflowY",u="overflowX"):e&&(r="overflowX",u="overflowY"),n=l.get(0).parentNode;n&&n.tagName;){if(n.style.height="100%",t=n.tagName.toLowerCase(),(t==="form"||t==="body"||t==="html")&&(n.style.margin="0px",n.style.padding="0px",r&&(n.style[r]="hidden"),a&&v<9&&t==="form"&&u&&(n.style[u]="auto"),(e!==f||a&&v<9)&&(t==="body"||t==="html")&&(n.style.overflow="hidden")),t==="html")break;n=n.parentNode}}}}))}(jQuery,DevExpress),function(n,t,i){var f=DevExpress.require("/class"),r=t.dashboard,e=t.utils,u=r.data.localizer,o=42;r.titleClasses={root:"dx-dashboard-title",arguments:"dx-dashboard-title-arguments",caption:"dx-dashboard-title-caption",filterImage:"dx-dashboard-title-filter-image",image:"dx-dashboard-title-image",loading:"dx-dashboard-title-loading",text:"dx-dashboard-title-text",toolbar:"dx-dashboard-title-toolbar"},r.title=f.inherit({ctor:function(n){this.options=n,this.exportToMenu=i,this.$titleDiv=i,this.titleArguments=i,this.titleTooltip=i,this.titleShowFilterImage=!1},isEmpty:function(){return this.$titleDiv==i},outerHeight:function(){return this.isEmpty()?0:this.$titleDiv.outerHeight()},width:function(n){var t=this,r=t.isEmpty();return n===i||r||t.$titleDiv.width()!==n&&(t.$titleDiv.width(n),t._updateTitleContent()),r?0:t.$titleDiv.width()},updateState:function(n,t){var r=this;r.exportToMenu&&r.exportToMenu.setState(!!n.operations.exportTo),r.parametersButton&&r.parametersButton.setState({loading:!!n.loading,enabled:!!n.operations.reloadData}),t!==i&&r._updateMasterFilter(r.options.titleViewModel,t)},_updateMasterFilter:function(n,t){var i=this,u="",e=0,o=0,s,f=!1,r=i.titleTooltip;i._titleEnable()&&n.IncludeMasterFilterValues&&t&&(t.length==1&&t[0].Values.length==1&&(u=i._formatFilterValue(t[0].Values[0])),u||(f=!0)),r&&(n&&n.IncludeMasterFilterValues&&t&&f?(r.masterFilterValues=t,r.refresh(),r.enable()):r.disable()),i.titleShowFilterImage=f,i.titleArguments=u,i._updateTitleContent()},_formatFilterValue:function(n){var f=" - ",t=r.data.formatter,i,u;return n.Value?t.format(n.Value,n.Format):n.RangeLeft&&n.RangeRight?(i=t.format(n.RangeLeft,n.Format),u=t.format(n.RangeRight,n.Format),i+f+u):void 0},render:function(t,f){f==i&&(f=o);var s=this,c=s.options.titleViewModel,b=s.options.allowExport,g=s.options.encodeHtml,v=s.options.$container,a=i,h=i,y=i,p=i,w=i,k=i,d=c?c.ShowParametersButton:!1,nt=c?c.Text:i,l=c&&c.LayoutModel?c.LayoutModel.ImageViewModel:i;s._titleEnable()?(s.$titleDiv=n("<div/>",{"class":r.titleClasses.root,width:t,height:f}).appendTo(v),l&&(h=n("<img>",{"class":r.titleClasses.image,src:l.Url?l.Url:"data:"+l.MimeType+";base64,"+l.SourceBase64String,css:{visibility:"hidden"}}),s.$titleDiv.append(h)),p=n("<div/>",{"class":r.titleClasses.caption}).appendTo(s.$titleDiv),y=n("<span/>",{"class":r.titleClasses.text}).appendTo(p),e.renderHelper.html(y,nt,g),n("<span/>",{"class":r.titleClasses.arguments}).appendTo(y),k=n("<span/>",{"class":r.titleClasses.filterImage}).appendTo(p),s.titleTooltip=new r.titleTooltip({$control:k,$targetContainer:v,formatFilterValue:s._formatFilterValue}),(b||d)&&(w=n("<div/>",{"class":r.titleClasses.toolbar}).appendTo(s.$titleDiv),b&&(s.exportToMenu=new r.dropDownMenu({$parentContainer:v,$container:w,className:"dashboard-export",elementNames:[u.getString(r.localizationId.buttonNames.ExportToPdf),u.getString(r.localizationId.buttonNames.ExportToImage)],selectItem:function(n){s.options.showExportDialog(n===0?r.exportFormats.pdf:r.exportFormats.image)},title:u.getString(r.localizationId.buttonNames.ExportTo),enabled:!0})),d&&(s.parametersButton=new r.parametersButton({$container:w,className:"dx-icon-dashboard-parameters",loadingClassName:r.titleClasses.loading,showParametersDialog:function(){s.options.showParametersDialog()},enabled:!0}))),h&&h.load(function(){a=h.height(),a>f?(h.width(Math.floor(h.width()*(f/a))),h.height(f)):h.css("margin-top",Math.ceil((f-a)/2)),h.css({visibility:"visible"}),s._updateTitleContent()}),s._updateTitleContent()):s.$titleDiv=i},_updateTitleContent:function(){var n=this,f=n.options.titleViewModel;if(n._titleEnable()){var c=n.titleArguments,v=n.titleShowFilterImage,u=n.$titleDiv.find("."+r.titleClasses.arguments),e=n.$titleDiv.find("."+r.titleClasses.filterImage),t=n.$titleDiv.find("."+r.titleClasses.image),i=n.$titleDiv.find("."+r.titleClasses.caption),l=n.$titleDiv.find("."+r.titleClasses.text),y=n.$titleDiv.find("."+r.titleClasses.toolbar),p=n.$titleDiv.innerWidth(),w=t&&t.length>0?t.outerWidth():0,s=e&&v?e.outerWidth():0,a=y?y.outerWidth():0,b=p-w-a-(i.outerWidth()-i.width()),k,h,o;u&&(c?(u.html(c),u.show()):(u.html(""),u.hide())),e&&(v?e.show():e.hide()),l&&l.css({"max-width":b-s}),i&&i.css({"max-width":b}),k=i?i.outerWidth():0,h=p-w-(k-s),o=2*(a+s)<=h?Math.floor(h/2):h-a-s-1,t&&t.css({"margin-left":t&&t.length>0&&f.LayoutModel&&f.LayoutModel.Alignment!="Left"&&o>0?o:0}),i&&i.css({"margin-left":!(t&&t.length>0)&&i&&(l&&f.Text||u&&c)&&f.LayoutModel&&f.LayoutModel.Alignment!="Left"&&o>0?o:0})}},_titleEnable:function(){return this.options.titleViewModel&&this.options.titleViewModel.Visible}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,e=t.require("/class"),u=t.require("/ui/ui.tooltip"),f=8,o=16;r.titleTooltipClasses={root:"dx-dashboard-title-tooltip",list:"dx-dashboard-title-tooltip-list",listText:"dx-dashboard-title-tooltip-list-text",subList:"dx-dashboard-title-tooltip-sublist",subListItem:"dx-dashboard-title-tooltip-sublist-item"},r.titleTooltip=e.inherit({ctor:function(n){this.masterFilterValues=null,this.content=null,this.maxHeight=null,this.maxWidth=null,this.maxFilterListValues=null,this.$control=n.$control,this.$targetContainer=n.$targetContainer,this._formatFilterValue=n.formatFilterValue},enable:function(){var n=this,t=n.$control;if(t){t.off("dxclick",n._show),t.off("mouseenter",n._show),t.off("mouseleave",n._hide);t.on("dxclick",{context:n},n._show);t.mouseenter({context:n},n._show),t.mouseleave(n._hide)}},disable:function(){var n=this,t=n.$control;t&&(t.off("dxclick",n._show),t.off("mouseenter",n._show),t.off("mouseleave",n._hide))},refresh:function(){var n=this;n.maxHeight=n._calcMaxHeight(),n.maxWidth=n._calcMaxWidth(),n.maxFilterListValues=n._calcMaxFilterListValues(),n._refreshContent()},_calcMaxFilterValues:function(t){var f=this,u=4,e=100,i,r,o=f.masterFilterValues;for(t=Math.min(t,e),i=Math.max(t,u);i>=u;i--){if(i==u)break;if(r=0,n.each(o,function(n,u){return r+=(i<u.Values.length?i:u.Values.length)+1,r>t?!1:void 0}),r<=t)break}return i},_calcMaxHeight:function(){return Math.floor(n(window).height()*.75)},_calcMaxWidth:function(){return Math.floor(n(window).width()*.3)},_show:function(n){var t=n.data.context,e=t.$control,o=t.$targetContainer,s=t.masterFilterValues,i,r,f;if(!s||!e||!o){t.disable();return}i=t._calcMaxHeight(),r=t._calcMaxWidth(),(i!=t.maxHeight||r!=t.maxWidth)&&(t.maxHeight=i,t.maxWidth=r,f=t._calcMaxFilterListValues(),f!=t.maxFilterListValues&&(t.maxFilterListValues=f,t._refreshContent())),u.show({content:t.content,position:{my:"bottom center",at:"top center"},target:e,container:o,animation:{hide:!1}})},_hide:function(){u.hide()},_refreshContent:function(){var n=this,t=n.masterFilterValues,i;t&&t.length!=0&&(i=n._calcMaxFilterValues(n.maxFilterListValues),n._renderContent(i))},_renderContent:function(t){var i=this,u,s,e,o,h=i.masterFilterValues;u=n("<div/>",{"class":r.titleTooltipClasses.root}),u.css({"max-width":i.maxWidth}),s=n("<ul/>",{"class":r.titleTooltipClasses.list}).appendTo(u),n.each(h,function(u,h){e=n("<li/>").appendTo(s),e.css({"padding-top":u==0?0:f+"px"}),n("<div/>",{"class":r.titleTooltipClasses.listText}).appendTo(e).append(h.Name),o=n("<ul/>",{"class":r.titleTooltipClasses.subList}).appendTo(e);for(var c=0;c<t;c++){if(c>=h.Values.length&&h.Truncated||c+1==t&&(c+1<h.Values.length||h.Truncated)){n("<li/>",{"class":r.titleTooltipClasses.subListItem}).appendTo(o).append("...");break}if(c>=h.Values.length)break;n("<li/>",{"class":r.titleTooltipClasses.subListItem}).appendTo(o).append(i._formatFilterValue(h.Values[c]))}}),i.content=u.wrapAll("<div>").parent().html()},_calcMaxFilterListValues:function(){var i=this,e=i.masterFilterValues,t=n("<div/>",{"class":r.titleTooltipClasses.root}).css("line-height"),u=parseInt(t,10),s=u&&t.length>2&&t.substr(t.length-2)=="px"?u:o,h=i.maxHeight;return Math.floor((h-(e.length-1)*f)/s)}})}(jQuery,DevExpress),function(n,t,i){var e=DevExpress.require("/class"),o=t.require("/utils/utils.common"),r=t.dashboard,h=r.data.formatter,f=r.data.localizer,u=r.viewerItems,c=r.styleSettingsProvider,s=t.utils;u.cssClassNames={item:"dx-dashboard-item",groupItem:"dx-dashboard-group-item",groupItemChild:"dx-dashboard-group-item-child",checked:"dx-dashboard-checked",enabled:"dx-dashboard-enabled",simpleBorder:"dx-dashboard-simple-border",header:"dx-dashboard-item-header",headerText:"dx-dashboard-item-header-text",headerTextCaption:"dx-dashboard-item-header-text-caption",headerTextParameters:"dx-dashboard-item-header-text-parameters",hoverToolbar:"dx-hover-toolbar-container",toolbar:"dx-dashboard-item-toolbar",toolbarInternal:"dx-db-toolbar-internal",iconClearMasterFilter:"dx-icon-dashboard-clear-master-filter",iconClearSelection:"dx-icon-dashboard-clear-selection",iconDrillUp:"dx-icon-dashboard-drill-up",iconMultiselection:"dx-icon-dashboard-toggle-multiselection"},r.dashboardSelectionMode={none:"None",single:"Single",multiple:"Multiple"},r.interactivityController=e.inherit({ctor:function(t){var i=this;i._getTuples=t,i.selectionChanged=new n.Callbacks},clickAction:function(t){if(this.selectionMode!==r.dashboardSelectionMode.none){var u=this,e=u.selectionMode===r.dashboardSelectionMode.multiple,f=e?u._getTuples().slice():[],o=[],s=!1;n.each(t,function(n,t){if(u._allowSelectTuple(t)){var n=e?r.utils.checkArrayContainsTuple(f,t):i;n==i?o.push(t):f.splice(n,1),s=!0}}),s&&u.selectionChanged.fire(f.concat(o))}},setOptions:function(n){this.selectionMode=n},_allowSelectTuple:function(t){var i=!0;return n.each(t,function(n,t){if(!r.utils.allowSelectValue(t.Value))return i=!1,!1}),i}}),u.baseItem=e.inherit({ContentType:{Empty:"Empty",ViewModel:"ViewModel",ActionModel:"ActionModel",CompleteDataSource:"CompleteDataSource",PartialDataSource:"PartialDataSource",FullContent:"FullContent"},initializeData:function(t){if(this.options=this.options?{Name:t.Name,Type:t.Type,Group:t.Group,ContentType:t.ContentType,SelectedValues:t.SelectedValues,ViewModel:t.ViewModel||this.options.ViewModel,ActionModel:t.ActionModel||this.options.ActionModel,CaptionViewModel:t.CaptionViewModel||this.options.CaptionViewModel,ConditionalFormattingModel:t.ConditionalFormattingModel||this.options.ConditionalFormattingModel,Parameters:t.Parameters,DrillDownValues:t.DrillDownValues,DrillDownUniqueValues:t.DrillDownUniqueValues,AxisNames:t.AxisNames,DimensionIds:t.DimensionIds,multiData:t.multiData}:t,this.options.SelectedValues&&n.each(this.options.SelectedValues,function(n,t){r.utils.cleanNullValues(t)}),!this.dataController||t.ContentType!=this.ContentType.ActionModel){var i={};i[this._getDrillDownAxisName()]=this.options.DrillDownUniqueValues,this.dataController=r.data.factory.createDataController(this.options.Type,{multiData:this.options.multiData,viewModel:this.options.ViewModel,cfModel:this.options.ConditionalFormattingModel,drillDownState:i,selectedValues:this.options.SelectedValues})}this.customSelectedTuples=[]},ctor:function(t,u){this.initializeData(u),this.$container=t,this._isFixedHeight=!1,this._allowExport=u.allowExport,this._supportDataAwareExport=this._allowExport&&u.ViewModel.SupportDataAwareExport,this._encodeHtml=u.encodeHtml==i?!0:u.encodeHtml,this._exportCaption=u.exportCaption,this._getExportDialog=u.getExportDialog,this.exportToMenu=i,this.selectElementMenu=i,this.$preloaderContainer=i,this.selected=new n.Callbacks,this.clearMasterFilter=new n.Callbacks,this.drillUp=new n.Callbacks,this.contentElementSelection=new n.Callbacks,this.expandValue=new n.Callbacks,this.clientStateUpdate=new n.Callbacks,this.dataRequest=new n.Callbacks,this.exportTo=new n.Callbacks,this.itemClick=new n.Callbacks,this.itemHover=new n.Callbacks,this.itemSelectionChanged=new n.Callbacks,this.itemWidgetCreated=new n.Callbacks,this.itemWidgetUpdating=new n.Callbacks,this.itemWidgetUpdated=new n.Callbacks,this.interactivityController=new r.interactivityController(n.proxy(this.getSelectedTuples,this)),this.interactivityController.selectionChanged.add(n.proxy(this.onSelectionChanged,this)),this.customSelectionMode=r.dashboardSelectionMode.none,this.customHoverEnabled=!1,this.customTargetAxes=[],this.customDefaultSelectedValues=[]},initialDataRequest:function(){},clearSelection:function(){},selectTuple:function(){},setSelection:function(n){this._setSelectedValues(n)},_getCustomSelectionMode:function(){return this.customSelectionMode},_setCustomSelectionMode:function(n){this.customSelectionMode=n},_getCustomHoverEnabled:function(){return this.customHoverEnabled},_setCustomHoverEnabled:function(n){this.customHoverEnabled=n},_getCustomTargetAxes:function(){return this.customTargetAxes},_setCustomTargetAxes:function(n){this.customTargetAxes=n},_getCustomDefaultSelectedValues:function(){return this.customDefaultSelectedValues},_setCustomDefaultSelectedValues:function(n){this.customDefaultSelectedValues=n},_getTargetAxes:function(){return this.isInteractivityActionEnabled()?this._getAxisNames():this._getCustomTargetAxes()},getSelectedTuples:function(){var t=this,h=t.options.multiData,r=t._getAxisNames(),e={},u,f,o,i,s;return t._canSetMasterFilter()||t._canSetMultipleMasterFilter()||t._canPerformDrillDown()?(i=[],t.options.SelectedValues==null)?i:(r.length>1?(n.each(r,function(n,t){e[t]=h.getAxis(t).getDimensions()}),n.each(t.options.SelectedValues,function(t,s){u=[],o=0,n.each(r,function(t,i){f=[],n.each(e[i],function(){f.push(s[o++])}),u.push({AxisName:i,Value:f})}),i.push(u)})):(s=t._getDrillDownValues(),n.each(t.options.SelectedValues,function(n,t){i.push([{AxisName:r[0],Value:s.concat(t)}])})),i):t.customSelectedTuples},updateItem:function(n){var t=this,i;this._setCustomSelectionMode(n.selectionMode),this._setCustomTargetAxes(n.targetAxes),this._setCustomHoverEnabled(n.hoverEnabled),this._setCustomDefaultSelectedValues(n.defaultSelectedValues),t.updateInteractivityOptions(),this.isInteractivityActionEnabled()||(i=n.selectionMode==r.dashboardSelectionMode.single?t.customDefaultSelectedValues.slice(0,1):t.customDefaultSelectedValues,t.interactivityController.clickAction(i)),this._updateToolbar()},_changeTuple:function(t){var r=this,i=[];return n.each(t,function(n,t){var u=t.AxisName,f=t.Value;i.push({AxisName:u,Value:u==r._getDrillDownAxisName()?f.slice(-1):f})}),i},onSelectionChanged:function(t){var i=this,e=i.options.SelectedValues,h=!!e&&e.length===1?e[0]:null,u=[],f,s=i.getSelectedTuples(),o,c;i._selectTuples(t,s,!0),i._selectTuples(s,t,!1),i.itemSelectionChanged&&i.itemSelectionChanged.fire(i._getName(),t),i.isInteractivityActionEnabled()?(n.each(t,function(t,e){f=[],n.each(i._getAxisNames(),function(n,t){f.push.apply(f,r.utils.getAxisPointValue(e,t).slice())}),u.push(f)}),u=i._deductDrillDownValues(u),i._setSelectedValues(u),o=i._getSelectionCallbackType(u,h),o===r.viewerActions.drillDown&&(u=u[0]),i._mustSelectingFired(u)?i.selected.fire(i._getName(),o,u):i._onClearMasterFilter()):(i.customSelectedTuples=[],n.each(t,function(n,t){i.customSelectedTuples.push(t)})),i.customSelectionMode==r.dashboardSelectionMode.multiple&&this._updateToolbar()},_mustSelectingFired:function(n){return n.length>0},_patchTroughDrillDownValues:function(t){var r=this._getDrillDownValues(),i=[];return t&&n.each(t,function(n,t){i.push(r.concat(t))}),i},_deductDrillDownValues:function(t){var i=this._getDrillDownValues(),u=i.length,f;return n.each(t,function(n,t){f=t.slice(0,u),r.utils.checkValuesAreEqual(f,i)&&t.splice(0,u)}),t},_getSelectionCallbackType:function(n,t){var u=i,f=r.viewerActions,e=n.length===1&&t&&r.utils.checkValuesAreEqual(n[0],t);return this._canSetMultipleMasterFilter()&&this.itemMultiselectionEnabled?u=f.setMultipleValuesMasterFilter:this._canSetMasterFilter()?e?this._canPerformDrillDown()&&(u=f.drillDown):u=f.setMasterFilter:this._canPerformDrillDown()&&(u=f.drillDown),u},_selectTuples:function(t,u,f){var e=this;n.each(t,function(n,t){r.utils.checkArrayContainsTuple(u,t)==i&&e.selectTuple(e._hasDrillUpButton()&&!e._isMultiDataSupported()?e._changeTuple(t):t,f)})},_renderFooter:function(){return i},_updateFooter:function(){},renderContent:function(){},renderPartialContent:function(){},updateContentState:function(){},getInfo:function(){var n=this,t=n.$container;return{name:n._getName(),headerHeight:n.$header?n.$header.innerHeight():i,position:t.position(),width:t.outerWidth(),height:t.outerHeight(),virtualSize:i,scroll:i}},getCaption:function(){return this.options.CaptionViewModel?this.options.CaptionViewModel.Caption:i},hasCaption:function(n){var t=n||this.options;return t&&t.CaptionViewModel&&t.CaptionViewModel.ShowCaption},hasGroup:function(){return this.options&&o.isDefined(this.options.Group)},isPaneEmpty:function(){return this.hasGroup()},render:function(t){var i=this;i.$container=i.$container||t,i.$container&&(n.each(i._getOuterBorderClasses(),function(n,t){i.$container.addClass(t)}),i.$container.attr("data-layout-item-name",this._getName())),i.$contentRoot=n("<div/>"),n.each(i._getInnerBorderClasses(),function(n,t){i.$contentRoot.addClass(t)}),r.utils.moveContent(i.$container,i.$contentRoot,!0),i.$container.append(i.$contentRoot),i.$header=i._renderHeader(i.$container),i.$container.append(i._renderFooter()),i._updateContentSize(),i._changeContent(!1)},updateContent:function(n){var r=this.hasCaption(this.options),t=this.hasCaption(n);this.initializeData(n),o.isDefined(t)&&r!==t?(this.$header&&(this.$header.remove(),delete this.$header,this.$header=i),this.$header=this._renderHeader(this.$container),this._updateContentSize()):(this._updateHeader(),this._updateFooter());switch(n.ContentType){case this.ContentType.PartialDataSource:case this.ContentType.CompleteDataSource:(n.DataSource||n.ItemData&&n.ItemData.DataStorageDTO)&&this.renderPartialContent();break;case this.ContentType.ActionModel:this.isInteractivityActionEnabled()||this.updateContentState();break;default:this._changeContent(!0)}},updateClientState:function(n){this.options.ContentType!==this.ContentType.PartialDataSource&&this.options.ContentType!==this.ContentType.CompleteDataSource&&this._updateClientStateInternal(n)},updateState:function(t){if(this.$container){var r=this,o=r._getContainerPosition(),s=i,f=r.$preloader,e=r.$shieldingElement;t.loading?f||(f=n("<div/>",{"class":"dx-dashboard-item-loading"}),r.$preloaderContainer&&(r.$preloaderContainer.css("background-image","none"),r.itemMultiselectionEnabled&&r.$preloaderContainer.removeClass(u.cssClassNames.checked)),s=r._getPreloaderPosition(o),f.css({left:s.left,top:s.top,"z-index":100,position:"absolute"}),r.$container.prepend(f),r.$preloader=f):f&&(f.remove(),this.$preloaderContainer&&this.$preloaderContainer.removeAttr("style"),delete r.$preloader),t.operations.actions?e&&(e.remove(),delete r.$shieldingElement):e||(e=n("<div/>",{"class":"dx-dashboard-item-shield"}),e.css({left:o.left,top:o.top,width:o.width,height:o.height}),r.$shieldingElement=e,r.$container.prepend(e)),r.exportToMenu&&r.exportToMenu.setState(!!t.operations.exportTo)}},width:function(t){var r=this;if(n.isNumeric(t))r.setSize(t,i);else return r.$container.outerWidth()},height:function(t){var r=this;if(n.isNumeric(t))r.setSize(i,t);else return r.$container.outerHeight()},setSize:function(n,t){var i=this,r={width:i.width(),height:i.height()},u={width:n,height:t};n&&i.$container.outerWidth(n),t&&i.$container.outerHeight(t),i._resize(r,u)},getConstraints:function(n){var t=n?r.utils.getBorderSizeByClasses(this._getOuterBorderClasses().concat(this._getInnerBorderClasses())):{width:0,height:0},f=this._calcHeaderAndFooterHeight(!0),e=this._getMinContentHeight(),o=this.$header?this.$header.find("."+u.cssClassNames.toolbar).outerWidth():0,i=t.height+f+e;return new r.layout.utils.constraints(new r.layout.utils.size(o+t.width+r.MIN_PANE_WIDTH,i),new r.layout.utils.size(Number.MAX_VALUE,this._isFixedHeight?i:Number.MAX_VALUE))},getOffset:function(){return{width:0,height:0}},updateInteractivityOptions:function(){var t=this,n=r.dashboardSelectionMode.none;t.isInteractivityActionEnabled()?this._canSetMultipleMasterFilter()&&this.itemMultiselectionEnabled?n=r.dashboardSelectionMode.multiple:t.isInteractivityActionEnabled()&&(n=r.dashboardSelectionMode.single):(t.updateContentState(),n=this.customSelectionMode,n!=r.dashboardSelectionMode.multiple||this.itemMultiselectionEnabled||(n=r.dashboardSelectionMode.single)),t.interactivityController.setOptions(n)},_updateClientStateInternal:function(){},_changeContent:function(n){n&&this._raiseItemWidgetUpdating(),this.renderContent(n),n?this._raiseItemWidgetUpdated():this._raiseItemWidgetCreated()},_renderHeader:function(t){if(this.hasCaption()){var e=this.getCaption(),r=n("<div/>",{"class":u.cssClassNames.header}),f=n("<div/>",{"class":u.cssClassNames.headerText}),o=n("<span/>",{"class":u.cssClassNames.headerTextCaption});return t&&(t.prepend(r),r.append(this._ensureToolbarIsRendered())),e&&(r.append(f),f.append(o),s.renderHelper.html(o,e,this._encodeHtml),n("<span/>",{"class":u.cssClassNames.headerTextParameters}).appendTo(f)),r}return t&&this._renderFloatingToolbar(t),i},_calcHeaderAndFooterHeight:function(n){var t=0;return this.$header?t+=this.$header.height():n&&(t+=s.renderHelper.getElementBox(this._renderHeader()).height),this.$footer&&(t+=this.$footer.height()),t},_updateHeader:function(){var t=this,i=t.getCaption(),f=t.options.DrillDownValues||[],r="",e=" - ";t.$header&&t.hasCaption()&&i&&(t.$header.find("."+u.cssClassNames.headerTextCaption).html(i),n.each(f,function(n,t){t&&(r+=e+h.format(t.Value,t.Format))}),t.$header.find("."+u.cssClassNames.headerTextParameters).html(r)),t._updateToolbar()},_renderFloatingToolbar:function(t){var r=this,i=t.find("."+u.cssClassNames.hoverToolbar);i.length===0&&(i=n("<div/>",{"class":u.cssClassNames.hoverToolbar}),i.css({position:"absolute",visibility:"hidden","z-index":99}),i.append(r._ensureToolbarIsRendered()),t.prepend(i)),t.hover(function(){var n=r._getContainerPosition();r.toolbarIsVisible&&i.css({left:n.left+n.offsetX-r.$toolbarDiv.outerWidth(!0),top:n.top+n.offsetY,visibility:"visible"})},function(){i&&i.css({visibility:"hidden"})})},_ensureToolbarIsRendered:function(){var t=this,l=t.$container,h=t.options.ViewModel?t.options.ViewModel.ContentDescription:i,a=t._hasClearMasterFilterButton(),k=t._hasClearSelectionButton(),v=t._hasToggleSelectionModeButton(),y=h&&h.ElementSelectionEnabled,p=t._hasInternalButtons(),w=t._hasDrillUpButton(),b=t._allowExport,d=t._supportDataAwareExport,o=i,s,e,c;if(t.toolbarIsVisible=p||a||v||y||w||b,t.$toolbarDiv?o=t.$toolbarDiv.find("."+u.cssClassNames.toolbarInternal):(t.$toolbarDiv=n("<div/>",{"class":u.cssClassNames.toolbar}),o=n("<div/>",{"class":u.cssClassNames.toolbarInternal}),t.$toolbarDiv.append(o)),p&&(t.$preloaderContainer=t._ensureInternalToolbarIsRendered(o)),b&&(t.exportToMenu||(c=[f.getString(r.localizationId.buttonNames.ExportToPdf),f.getString(r.localizationId.buttonNames.ExportToImage)],d&&c.push(f.getString(r.localizationId.buttonNames.ExportToExcel)),t.exportToMenu=new r.dropDownMenu({$parentContainer:l,$container:o,className:"dashboard-item-export",elementNames:c,selectItem:function(n){var u;switch(n){case 0:u=r.exportFormats.pdf;break;case 1:u=r.exportFormats.image;break;default:u=r.exportFormats.excel}t._showExportDialog(u)},title:f.getString(r.localizationId.buttonNames.ExportTo),enabled:!0})),t.$preloaderContainer=t.exportToMenu.getButtonImageDiv()),y&&(t.selectElementMenu||(t.selectElementMenu=new r.dropDownMenu({$parentContainer:l,$container:o,className:"dashboard-content-selection",elementNames:h.ElementNames,selectedIndex:h.SelectedElementIndex,selectItem:function(n,i){t._onContentElementSelection(n,i)},title:f.getString(r.localizationId.buttonNames.ElementSelection),enabled:!0})),t.$preloaderContainer=t.selectElementMenu.getButtonImageDiv()),e=o.find("."+u.cssClassNames.iconClearMasterFilter),a){if(e&&e.length!=0||(e=n("<div/>",{"class":u.cssClassNames.iconClearMasterFilter,title:f.getString(r.localizationId.buttonNames.ClearMasterFilter)}).appendTo(o)),e.off("click",t._getClearMasterFilterHandler()),t._isClearMasterFilterEnabled()){e.addClass(u.cssClassNames.enabled);e.on("click",t._getClearMasterFilterHandler())}else e.removeClass(u.cssClassNames.enabled);t.$preloaderContainer=e}else e.remove();if(e=o.find("."+u.cssClassNames.iconClearSelection),k){if(e&&e.length!=0||(e=n("<div/>",{"class":u.cssClassNames.iconClearSelection,title:f.getString(r.localizationId.buttonNames.ClearSelection)}).appendTo(o)),e.off("click",t._getClearSelectionHandler()),t._isClearSelectionEnabled()){e.addClass(u.cssClassNames.enabled);e.on("click",t._getClearSelectionHandler())}else e.removeClass(u.cssClassNames.enabled);t.$preloaderContainer=e}else e.remove();if(s=o.find("."+u.cssClassNames.iconDrillUp),w){if(s&&s.length!=0||(s=n("<div/>",{"class":u.cssClassNames.iconDrillUp,title:f.getString(r.localizationId.buttonNames.DrillUp)}).appendTo(o)),s.off("click",t._getDrillUpHandler()),t._isDrillUpEnabled()){s.addClass(u.cssClassNames.enabled);s.on("click",t._getDrillUpHandler())}else s.removeClass(u.cssClassNames.enabled);t.$preloaderContainer=s}else s.remove();if(e=o.find("."+u.cssClassNames.iconMultiselection),v){if(!e||e.length==0){e=n("<div/>",{"class":u.cssClassNames.iconMultiselection,title:f.getString(r.localizationId.buttonNames.AllowMultiselection)}).appendTo(o);e.on("click",t._getToggleSelectionModeHandler())}t.itemMultiselectionEnabled?e.addClass(u.cssClassNames.checked):e.removeClass(u.cssClassNames.checked),t.$preloaderContainer=e}else e.remove();return t.$toolbarDiv},_ensureInternalToolbarIsRendered:function(){},_updateToolbar:function(){this._ensureToolbarIsRendered()},_showExportDialog:function(n){var t=this,i=t._exportCaption,r=t._getExportDialog();r.setExportFunction(function(i){t._onExportTo({mode:"SingleItem",format:n,documentOptions:i,fileName:i.fileName})}),r.showDialog(t._getName(),t.options.Type,n,{caption:i,fileName:i})},_getMinContentHeight:function(){return r.MIN_PANE_HEIGHT},_getInnerBorderClasses:function(){var n=[u.cssClassNames.item];return this._isBorderRequired()&&n.push(u.cssClassNames.simpleBorder),n},_getOuterBorderClasses:function(){return this.hasGroup()?[u.cssClassNames.groupItemChild]:[]},_isBorderRequired:function(){return this.isPaneEmpty()},_resize:function(){this._updateContentSize(),this._allocatePreloader()},_updateContentSize:function(){var n=this.$container.height(),t=this._calcHeaderAndFooterHeight(!1),i=Math.floor(n-t);this.$contentRoot.outerHeight(i)},_allocatePreloader:function(){if(this.$preloader){var n=this,r=n.$container,u=r.find(".dx-dashboard-item-shield"),t=n._getContainerPosition(),i=n._getPreloaderPosition(t);n.$preloader.css({left:i.left,top:i.top}),u.css(t)}},_getPreloaderPosition:function(n){var t=this._getButtonOffset();return{left:n.left+n.offsetX-t,top:n.top+n.offsetY+6}},_getButtonOffset:function(){return 28},_getAnimationOptions:function(){return{enabled:!!this.options.animate,duration:300}},_getContainerPosition:function(){var n=this,t=n.$container.position(),i=n.$container.outerWidth(),f=n.$container.outerHeight(),e=n.$container.css("margin-left"),o=n.$container.css("margin-top"),r=n.isPaneEmpty()?0:1,u=function(n){return n=="auto"?0:parseInt(n)};return{left:t.left,top:t.top,width:i,height:f,offsetX:i+u(e)-r,offsetY:u(o)-r}},_getName:function(){return this.options.Name},_getSelectedValues:function(){var n=this.options.SelectedValues;return this._isMultiDataSupported()?this._patchTroughDrillDownValues(n):n},_getClearMasterFilterHandler:function(){var n=this;return n._clearMasterFilterHandler=n._clearMasterFilterHandler||function(){n._onClearMasterFilter()}},_getClearSelectionHandler:function(){var n=this;return n._clearSelectionHandler=n._clearSelectionHandler||function(){n.clearSelection(),n.customSelectedTuples=[],n.customSelectionMode==r.dashboardSelectionMode.multiple&&n._updateToolbar(),n.itemSelectionChanged.fire(n._getName(),[])}},_getElementInteractionValue:function(){},_getToggleSelectionModeHandler:function(){var n=this;return n._toggleSelectionModeHandler=n._toggleSelectionModeHandler||function(){n._onToggleSelectionMode()}},_getDrillUpHandler:function(){var n=this;return n._drillUpHandler=n._drillUpHandler||function(){n._onDrillUp()}},_setSelectedValues:function(n){return this.options.SelectedValues=n},_raiseItemClick:function(t){var r=this,e=[],f=r._getDataPoint(t),o=r._getDrillDownValues(),u=r._getTargetAxes(),s=o&&u.length==1?u[0]:i;n.each(u,function(n,t){var i;i=f.getSelectionValues?f.getSelectionValues(t):f.getValues(t),i.length>0&&(s&&t===s&&!r._isMultiDataSupported()&&(i=o.concat(i)),e.push({AxisName:t,Value:i}))}),u.length!=0&&u.length==e.length&&r.interactivityController.clickAction([e]),r.itemClick&&r.itemClick.fire(r._getName(),f)},_isMultiDataSupported:function(){return!1},_getDataPoint:function(){return null},_getWidget:function(){return null},_raiseItemWidgetCreated:function(){var n=this._getWidget();n&&this.itemWidgetCreated.fire(this._getName(),n)},_raiseItemWidgetUpdating:function(){var n=this._getWidget();n&&this.itemWidgetUpdating.fire(this._getName(),n)},_raiseItemWidgetUpdated:function(){var n=this._getWidget();n&&this.itemWidgetUpdated.fire(this._getName(),n)},_raiseItemHover:function(n,t){if(this.itemHover){var i=this._getDataPoint(n);this.itemHover.fire(this._getName(),i,t)}},_allowCombineSelectedValues:function(n){return n===r.viewerActions.setMultipleValuesMasterFilter},_onClearMasterFilter:function(){var n=this._getName();this._setSelectedValues(null),this.clearMasterFilter.fire(n),this.clearSelection()},_onToggleSelectionMode:function(){this.itemMultiselectionEnabled=!this.itemMultiselectionEnabled,this._updateToolbar(),this.updateInteractivityOptions()},_onDrillUp:function(){this.drillUp.fire(this._getName(),!!this._getSelectedValues())},_onContentElementSelection:function(n,t){this.contentElementSelection.fire(this._getName(),{index:n,caption:t})},_onExpandValue:function(n){this.expandValue.fire(this._getName(),n)},_onClientStateUpdate:function(n){this.clientStateUpdate.fire(this._getName(),n)},_onDataRequest:function(){this.dataRequest.fire(this._getName())},_onExportTo:function(t){n.extend(t,{itemType:this.options.Type}),this.exportTo.fire(this._getName(),t)},_hasInternalButtons:function(){return!1},_hasDrillUpButton:function(){var n=this.options.ActionModel;return n&&n.DrillUpButtonState&&n.DrillUpButtonState!=="Hidden"},_hasClearMasterFilterButton:function(){var n=this.options.ActionModel;return n&&n.ClearMasterFilterButtonState&&n.ClearMasterFilterButtonState!=="Hidden"},_hasClearSelectionButton:function(){return!this.isInteractivityActionEnabled()&&this.customSelectionMode==r.dashboardSelectionMode.multiple},_hasToggleSelectionModeButton:function(){return this._canSetMultipleMasterFilter()||!this.isInteractivityActionEnabled()&&this.customSelectionMode==r.dashboardSelectionMode.multiple},_isDrillUpEnabled:function(){var n=this.options.ActionModel;return n&&n.DrillUpButtonState&&n.DrillUpButtonState==="Enabled"},_isClearMasterFilterEnabled:function(){var n=this.options.ActionModel;return n&&n.ClearMasterFilterButtonState&&n.ClearMasterFilterButtonState==="Enabled"},_isClearSelectionEnabled:function(){return this.customSelectedTuples.length>0},_canPerformAction:function(t){var i=this.options.ActionModel;return i&&i.Actions&&n.inArray(t,i.Actions)!=-1},_canPerformDrillDown:function(){return this._canPerformAction(r.viewerActions.drillDown)},_canSetMasterFilter:function(){return this._canPerformAction(r.viewerActions.setMasterFilter)},_canSetMultipleMasterFilter:function(){return this._canPerformAction(r.viewerActions.setMultipleValuesMasterFilter)},isInteractivityActionEnabled:function(){return this._canSetMasterFilter()||this._canSetMultipleMasterFilter()||this._canPerformDrillDown()},_selectionMode:function(){return this.isInteractivityActionEnabled()?"multiple":"none"},_getHtml:function(n){return this._encodeHtml?r.utils.encodeHtml(n):n},_getAxisNames:function(){return this.options.AxisNames||[]},_getDrillDownAxisName:function(){return this._getAxisNames().length>0?this._getAxisNames()[0]:i},_getDrillDownValues:function(){var n=this.options.DrillDownUniqueValues;return n!=null?n:[]}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,r=u.viewerItems;r.groupItem=r.baseItem.inherit({ctor:function(n,t){this.callBase(n,t)},renderContent:function(){this.$contentRoot.addClass(r.cssClassNames.groupItem)},getOffset:function(){var n=u.utils.getBorderSizeByClasses([r.cssClassNames.groupItem]);return{width:n.width,height:n.height+this._calcHeaderAndFooterHeight(!0)}}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.viewerItems;u.widgetViewerItem=u.baseItem.inherit({ctor:function(n,t){this.callBase(n,t)},clearSelection:function(){this.widgetsViewer&&this.widgetsViewer.clearSelections()},getInfo:function(){return n.extend(!0,this.callBase(),this.widgetsViewer.getSizeParams())},renderContent:function(n){var t=this._getWidgetViewerOptions();n&&this.widgetsViewer?this.widgetsViewer.option(t):this.widgetsViewer=new r.widgetsViewer.dxWidgetsViewer(this.$contentRoot,t),this._applySelection()},_getContainerPosition:function(){var t=this,r=t.callBase(),n=t.$headerDiv?i:t.getInfo(),u=n&&n.scroll&&n.scroll.vertical?n.scroll.size:0;return r.offsetX-=u,r},_getSpecificWidgetViewerOptions:function(){return{itemOptions:{encodeHtml:this._encodeHtml}}},_getWidgetType:function(){return},_isHoverEnabled:function(){return this._selectionMode()!=="none"},_configureHover:function(n){var t={};return t.hoverEnabled=n!==null&&this._isHoverEnabled()&&r.utils.allowSelectValue(n),t.cursor=t.hoverEnabled?"pointer":"default",t},_getWidgetViewerOptions:function(){var f=this.options.ViewModel,u=f?f.ContentDescription:i,t={viewer:{redrawOnResize:!1,useNativeScrolling:r.USE_NATIVE_SCROLLING}};return this.dataController&&(this.dataController.setSourceItemProperties=n.proxy(this._setSourceItemProperties,this)),t.dataSource=this._getDataSource(),t.viewer.onclick=this._getOnClickHandler(),t.viewer.onhover=this._getOnHoverHandler(),t.viewer.widgetType=this._getWidgetType(),t.viewer.method=u?this._convertContentArrangementMode(u.ArrangementMode):"auto",t.viewer.count=u?u.LineCount:1,n.extend(!0,t,this._getSpecificWidgetViewerOptions())},_getDataSource:function(){if(this.dataController)return this.dataController.getDataSource()},_getElementInteractionValue:function(n){return n.tag},_getOnClickHandler:function(){var n=this;return function(t){n._raiseItemClick(t.item)}},_getOnHoverHandler:function(){var n=this;return function(t){n._raiseItemHover(t.item,t.state)}},_convertContentArrangementMode:function(n){switch(n){case"FixedColumnCount":return"column";case"FixedRowCount":return"row";default:return"auto"}},_resize:function(n,t){this.callBase(n,t),this.widgetsViewer.redraw()},updateContentState:function(){var t=this;n.each(this.widgetsViewer.itemsList,function(n,i){i._hoverEnabled=t._getCustomHoverEnabled()})},_setSourceItemProperties:function(){},_isMultiDataSupported:function(){return!0},_applySelection:function(){}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,f=t.utils,u=r.viewerItems;u.kpiItem=u.widgetViewerItem.inherit({ctor:function(n,t){this.callBase(n,t)},renderContent:function(n){this.callBase(n),this.$contentRoot.addClass("dx-dashboard-widget-viewer-item")},_showTitle:function(){return!0},_getElementsName:function(){},selectTuple:function(t,i){n.each(this.widgetsViewer.itemsList,function(n,u){r.utils.checkValuesAreEqual(u.tag,t[0].Value)&&(i?u.select():u.clearSelection())})},setSelection:function(t){this.callBase(t),this.clearSelection(),n.each(this.widgetsViewer.itemsList,function(i,u){n.each(t,function(){r.utils.checkValuesAreEqual(u.tag,this)&&u.select()})})},_getDataPoint:function(n){var r=this,u=r.options.ViewModel,t=n.tag,f=t?t:[],e=t?0:n.index,i=u[r._getElementsName()][e];return{getValues:function(n){return n=="Default"?f:null},getDeltaIds:function(){return i.DataItemType==="Delta"?[i.ID]:[]},getMeasureIds:function(){return i.DataItemType==="Measure"?[i.ID]:[]},getSelectionValues:function(){return t}}},_isMultiDataSupported:function(){return!0},_setSourceItemProperties:function(t,i,u){var f=u.getSelectionValues(),e=this.options.SelectedValues,s,o=u.getCaptions(),h=function(){if(e&&f)for(var n=0;n<e.length;n++)if(s=e[n],r.utils.checkValuesAreEqual(f,s))return!0;return!1};this._hasDrillUpButton()&&(o=o.slice(-1)),n.extend(t,this._configureHover(f)),t.tag=f,t.isSelected=h(),this._setTitle(t,o)},_setTitle:function(){}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.viewerItems,f=r.utils;u.cardsItem=u.kpiItem.inherit({ctor:function(n,t){this.callBase(n,t),this._hasSparkline=!1},renderContent:function(n){this._hasSparkline=!1,this.callBase(n)},isPaneEmpty:function(){return this.callBase()||!this.hasCaption()},_isBorderRequired:function(){return!1},_getSpecificWidgetViewerOptions:function(){var t=this,i={viewer:{ignorePadding:this.isPaneEmpty()},itemOptions:{hasSparkline:this._hasSparkline}};return n.extend(!0,i,t.callBase())},_getWidgetType:function(){return"card"},_getElementsName:function(){return"Cards"},_setSourceItemProperties:function(n,t,r){this.callBase(n,t,r);var s=r.getCaptions(),o,u,e;t.DataItemType===f.KpiValueMode.Measure?n.mainValue={type:i,hasPositiveMeaning:i,text:{value:r.getMeasureDisplayText(),useDefaultColor:t.IgnoreDeltaColor}}:(u=r.getIndicatorType(),e=r.getIsGood(),n.mainValue={type:u,hasPositiveMeaning:e,text:{value:r.getMainValueText(),useDefaultColor:t.IgnoreDeltaColor}},n.variableValue1={type:u,hasPositiveMeaning:e,text:{value:r.getSubValue1Text(),useDefaultColor:t.IgnoreSubValue1DeltaColor}},n.variableValue2={type:u,hasPositiveMeaning:e,text:{value:r.getSubValue2Text(),useDefaultColor:t.IgnoreSubValue2DeltaColor}}),t.ShowSparkline&&(o=r.getSparklineOptions(),o&&(n.sparklineOptions=o,this._hasSparkline=!0))},_setTitle:function(n,t){t.length>0&&(n.title=t.pop(),n.subTitle=t.join(" - "))}})}(jQuery,DevExpress),function(n,t){var u=t.dashboard,e=u.data.formatter,f=u.viewerItems,r=u.utils;f.gaugesItem=f.kpiItem.inherit({ctor:function(n,t){this.callBase(n,t)},_getSpecificWidgetViewerOptions:function(){var i=this,u=i.options.ViewModel,t={itemOptions:{ignoreProportions:!0}};if(u)switch(u.ViewType){case r.gaugeViewType.CircularHalf:t.itemOptions.proportions=.85,t.itemOptions.minWidth=155;break;case r.gaugeViewType.CircularQuarterLeft:case r.gaugeViewType.CircularQuarterRight:t.itemOptions.proportions=1.25,t.itemOptions.minWidth=150;break;case r.gaugeViewType.CircularThreeFourth:case r.gaugeViewType.CircularFull:t.itemOptions.proportions=1,t.itemOptions.minWidth=180;break;case r.gaugeViewType.LinearVertical:t.itemOptions.proportions=1.5,t.itemOptions.minWidth=150;break;case r.gaugeViewType.LinearHorizontal:t.itemOptions.proportions=.5,t.itemOptions.minWidth=200}return n.extend(!0,t,i.callBase())},_getWidgetType:function(){var n=this.options.ViewModel;if(n)switch(n.ViewType){case r.gaugeViewType.LinearVertical:case r.gaugeViewType.LinearHorizontal:return"lineargauge";default:return"circulargauge"}return"circulargauge"},_getElementsName:function(){return"Gauges"},_showTitle:function(){return this.options.ViewModel?this.options.ViewModel.ShowGaugeCaptions:this.callBase()},_getWidget:function(){var r=this,i=this.widgetsViewer.itemsList,t=[];return n.each(i,function(){t.push(this._widget)}),t},_setSourceItemProperties:function(n,t,i){this.callBase(n,t,i);var e=i.getCaptions(),f=i.getGaugeRange(),u;this._setVisualProperties(n,t,f),t.DataItemType===r.KpiValueMode.Measure?(n.value=i.getMeasureValue(),n.indicator={text:{value:i.getMeasureDisplayText(),useDefaultColor:t.IgnoreDeltaColor}}):(n.value=i.getActualValue(),u=i.getTargetValue(),u&&(n.subvalues=[u]),n.indicator={type:i.getIndicatorType(),hasPositiveMeaning:i.getIsGood(),text:{value:i.getMainValueText(),useDefaultColor:t.IgnoreDeltaColor}})},_setVisualProperties:function(n,t,i){var o=this,l=o.options.ViewModel,s=i.min,h=i.max,u=h-s,c=i.majorTickCount-1,f;switch(l.ViewType){case r.gaugeViewType.CircularHalf:n.geometry={startAngle:180,endAngle:0};break;case r.gaugeViewType.CircularQuarterLeft:n.geometry={startAngle:180,endAngle:90};break;case r.gaugeViewType.CircularQuarterRight:n.geometry={startAngle:90,endAngle:0};break;case r.gaugeViewType.CircularThreeFourth:n.geometry={startAngle:220,endAngle:320};break;case r.gaugeViewType.CircularFull:n.geometry={startAngle:240,endAngle:300};break;case r.gaugeViewType.LinearVertical:n.geometry={orientation:"vertical"};break;case r.gaugeViewType.LinearHorizontal:n.geometry={orientation:"horizontal"}}n.valueIndicator={type:n.geometry.orientation?"rangebar":"twocolorneedle"},n.subvalueIndicator={offset:n.geometry.orientation?8:0},n.scale={startValue:s,endValue:h,label:{format:e.defaultNumericFormat}},u>0&&(f=u/c,n.scale.majorTick={tickInterval:u>=c?Math.round(f):f,useTicksAutoArrangement:!1}),n.animation=o._getAnimationOptions()},_setTitle:function(n,t){t.length>0&&this._showTitle()&&(n.title={text:t.join(" - "),font:{size:16},subtitle:{font:{size:14}},margin:{top:4,left:0,right:0,bottom:0}})}})}(jQuery,DevExpress),function(n,t,i){var h=DevExpress.require("/class"),r=t.dashboard,c=t.dashboard.data,s=t.utils,e=t.require("/utils/utils.string"),u=c.chartHelper,f=r.data.selectionHelper,o=r.viewerItems;o.pieItem=o.widgetViewerItem.inherit({ctor:function(t,i){this.callBase(t,i),this._createPieMouseEventController(),this.itemElementCustomColor=n.Callbacks()},initializeData:function(t){this.callBase(t),this.dataController&&(this.dataController.elementCustomColor=n.proxy(this._elementCustomColor,this))},clearSelection:function(){var t=this,i=t.options.ViewModel,r=t.widgetsViewer;t.callBase(),r&&i&&i.SelectionEnabled&&i.SelectionMode!==u.SelectionMode.Series&&n.each(r.itemsList,function(){this._widget.clearSelection()})},updateContentState:function(){var f=this;if(f._getCustomHoverEnabled()){var t="none",i=!1,u=this._getTargetAxes();u.length==1?u[0]==r.itemDataAxisNames.chartArgumentAxis?t="allArgumentPoints":i=!0:u.length==2&&(t="point",i=!0),n.each(this.widgetsViewer.itemsList,function(n,r){r._widget.option("commonSeriesSettings.hoverMode",t),r._hoverEnabled=i})}},selectTuple:function(t,i){var s=this,h=s.options.ViewModel.SelectionMode===u.SelectionMode.Points,o=r.utils.getAxisPointValue(t,r.itemDataAxisNames.chartSeriesAxis),e=r.utils.getAxisPointValue(t,r.itemDataAxisNames.chartArgumentAxis);n.each(s.widgetsViewer.itemsList,function(n,t){o?f._checkWidgetCorrespondsToValue(t,o)&&(e?f.setSelectedArguments(t._widget,[e],i):h?f.selectWholePie(t._widget,i):f.setSelectedWidgetViewer(t,[o],i)):e&&f.setSelectedArguments(t._widget,[e],i)})},setSelection:function(t){this.callBase(t);var i=this,r=i.getSelectedTuples();i.clearSelection(),n.each(r,function(n,t){i.selectTuple(t,!0)})},_elementCustomColor:function(n){this.itemElementCustomColor.fire(this._getName(),n)},_createPieMouseEventController:function(){var n=this;n.pieMouseEventController=new o.pieItem.pieMouseEventController,n.pieMouseEventController.ready.add(function(){var t={pie:n.pieMouseEventController.pieData,slice:n.pieMouseEventController.sliceData};n._raiseItemClick(t)})},_isHoverEnabled:function(){return this.callBase()&&this._isItemSelectionEnabled()},_isItemSelectionEnabled:function(){var n=this.options.ViewModel;return n&&n.SelectionEnabled&&n.SelectionMode===u.SelectionMode.Series},_isLabelsVisible:function(){var n=this.options.ViewModel;return n&&n.LabelContentType!=="None"},_getSpecificWidgetViewerOptions:function(){var t=this,i=t._isLabelsVisible()?{itemOptions:{minWidth:200,proportions:.75,ignoreProportions:!0}}:{itemOptions:{minWidth:100,proportions:1,ignoreProportions:!0}};return n.extend(!0,i,t.callBase())},_getWidgetType:function(){return"pieChart"},_getDataSource:function(){if(!this.options.ViewModel)return{};var t=this,u=t.options.ViewModel,c=t._getPointSelectionEnabled(),l=t._selectionMode(),a=t.dataController.getSeriesAxisPoints(),h=t._getSelectedValues(),e=[],i,o,f;return n.each(a,function(a,v){o=v.getUniquePath(),n.each(t.dataController.getValueDataMembers(),function(a,y){i={animation:t._getAnimationOptions(),legend:{visible:!1},resolveLabelOverlapping:"shift",onIncidentOccurred:s.renderHelper.widgetIncidentOccurred,onPointClick:t._getSelectPointsHandler(),onPointHoverChanged:t._getHoverPointsHandler(),palette:s.renderHelper.getDefaultPalette(),pointSelectionMode:"multiple",tag:{axisPoint:v},commonSeriesSettings:{hoverMode:c&&l!=="none"?"allArgumentPoints":"none"},customizePoint:function(){var n={color:t.dataController.getColor(this.tag.axisPoint,v,t._getMeasuresIds(this.tag),this.tag.colorMeasureId)};return r.utils.allowSelectValue(t._getElementInteractionValue(this,t.options.ViewModel))||(n.hoverStyle={hatching:"none"}),n}},n.extend(i,t._configureHover(o)),h&&t._isItemSelectionEnabled()&&n.each(h,function(n,t){r.utils.checkValuesAreEqual(o,t)&&(i.isSelected=!0)}),u.ShowPieCaptions&&(i.title={text:t.dataController.getValueDisplayNames(v,a),font:{size:18}}),f={type:u.PieType==="Donut"?"doughnut":"pie",argumentField:"x",valueField:"y",label:{visible:t._isLabelsVisible(),position:"columns"},point:{visible:!0},segmentsDirection:"anticlockwise",paintNullPoints:!0},f.label.visible&&(f.label.connector={visible:!0,width:1},f.label.customizeText=t._getFormatLabelHandler(u.LabelContentType)),i.series=[f],i.dataSource=t.dataController.createDataSource(v,y),i.tooltip={enabled:u.TooltipContentType!=="None"},i.tooltip.enabled&&(i.tooltip.container=r.utils.tooltipContainerSelector,i.tooltip.customizeTooltip=function(n){return{text:t._getFormatLabelHandler(u.TooltipContentType)(n)}},i.tooltip.font={size:14},i.tooltip.zIndex=100),e.push(i)})}),e.length==1&&e[0].dataSource.length==0?[]:e},_getPointSelectionEnabled:function(){var n=this.options.ViewModel;return n.SelectionEnabled&&(n.SelectionMode===u.SelectionMode.Argument||n.SelectionMode===u.SelectionMode.Points)},_getFormatLabelHandler:function(n){var t=this;return function(i){var r=t.dataController.getPointDisplayTexts(i.point.tag,i.value,i.percent),u=t._getTooltipPattern(n);switch(n){case"Argument":return r.argumentText;case"Percent":return r.percentText;case"Value":return r.valueText;case"ValueAndPercent":return e.format(u,r.valueText,r.percentText);case"ArgumentAndPercent":return e.format(u,r.argumentText,r.percentText);case"ArgumentAndValue":return e.format(u,r.argumentText,r.valueText);case"ArgumentValueAndPercent":return e.format(u,r.argumentText,r.valueText,r.percentText);default:return""}}},_getTooltipPattern:function(n){switch(n){case"ValueAndPercent":return"{0} ({1})";case"ArgumentAndPercent":case"ArgumentAndValue":return"{0}: {1}";case"ArgumentValueAndPercent":return"{0}: {1} ({2})";default:return""}},_getElementInteractionValue:function(n){return this._isItemSelectionEnabled()?this.callBase(n):n.tag},_getOnClickHandler:function(){var n=this;return function(t){n._pieMouseEventHandler(t.item)}},_getSelectPointsHandler:function(){var n=this;return function(t){var i=n.options.ViewModel,r=n._selectionMode(),f=i.SelectionEnabled&&i.SelectionMode===u.SelectionMode.Argument&&r!=="none";n._sliceMouseEventHandler(t.target)}},_getOnHoverHandler:function(){var n=this;return function(t){n.pieMouseEventController.pieData=t.item,n._raiseItemHover({pie:t.item},t.state)}},_getHoverPointsHandler:function(){var n=this;return function(t){n._raiseItemHover({pie:n.pieMouseEventController.pieData,slice:t.target})}},_pieMouseEventHandler:function(n){this.pieMouseEventController.setPieData(n)},_sliceMouseEventHandler:function(n){this.pieMouseEventController.setSliceData(n)},_getDataPoint:function(n){var o=this,a=o.options.ViewModel,t=n.slice,f=t?t.tag:i,u=n.pie,e=u?u.tag:i,c=f?r.utils.getTagValue(f):[],l=e?r.utils.getTagValue(e):[],s=t&&!f?t.index:i,h=u&&!e?u.index:i,v=s?s:h?h:0;return{getValues:function(n){switch(n){case r.itemDataAxisNames.chartArgumentAxis:return c;case r.itemDataAxisNames.chartSeriesAxis:return l;default:return null}},getDeltaIds:function(){return[]},getMeasureIds:function(){return t?o._getMeasuresIds(t.tag):[]}}},_getMeasuresIds:function(n){return n?n.dataMembers:[]},_isMultiDataSupported:function(){return!0},_getWidget:function(){var i=this.widgetsViewer.itemsList,t=[];return n.each(i,function(){t.push(this._widget)}),t},_applySelection:function(){var t=this,i=t.getSelectedTuples();n.each(i,function(n,i){t.selectTuple(i,!0)})}}),o.pieItem.pieMouseEventController=h.inherit({ctor:function(){this.pieData=i,this.sliceData=i,this.shouldRaise=!1,this.ready=new n.Callbacks},setPieData:function(n){this.pieData=n,this.shouldRaise=!0,this._onValueSet()},setSliceData:function(n){this.sliceData=n,this.shouldRaise=!0,this._onValueSet()},_onValueSet:function(){var n=this;window.setTimeout(function(){n.shouldRaise&&(n.ready&&n.ready.fire(),n.pieData=i,n.sliceData=i,n.shouldRaise=!1)},100)}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,s=r.data.formatter,u=r.data.localizer,o=r.styleSettingsProvider,e=r.viewerItems,f="pivotBar";e.pivotGridItem=e.baseItem.inherit({ctor:function(n,t){this.callBase(n,t),this._collapseStateCache={},this._conditionalFormattingInfoCache=[],this._dataRequestProcessing=!1,this._styleSettingsProvider=new o,this._styleSettingsProvider.initialize(n,this.options.ConditionalFormattingModel)},renderContent:function(n){if(this.options){var i=this._getPivotGridOptions();n&&this.pivotGridViewer?this.pivotGridViewer.option(i):this.pivotGridViewer=new t.ui.dxPivotGrid(this.$contentRoot,i),this._dataRequestProcessing=!1,this._conditionalFormattingInfoCache=[]}},render:function(n){this._styleSettingsProvider.update(n),this.callBase(n)},renderPartialContent:function(){var n=this.options.Parameters,t=n[1],r=t?"column":"row",i=n[0],u=this.dataController.getDataSource(t,i);this._dataRequestProcessing=!1,this._conditionalFormattingInfoCache=[],this.pivotGridViewer.applyPartialDataSource(r,i,u)},getInfo:function(){return n.extend(!0,this.callBase(),{scroll:{topPath:this.pivotGridViewer.getScrollPath("row"),leftPath:this.pivotGridViewer.getScrollPath("column"),horizontal:this.pivotGridViewer.hasScroll("column"),vertical:this.pivotGridViewer.hasScroll("row")}})},getExpandingState:function(){var n=this.pivotGridViewer?this.pivotGridViewer.getDataSource():i;return{rows:n&&n.state()?n.state().rowExpandedPaths:[],columns:n&&n.state()?n.state().columnExpandedPaths:[]}},initializeData:function(n){this.callBase(n),this._styleSettingsProvider&&this._styleSettingsProvider.initialize(this.$contentRoot,this.options.ConditionalFormattingModel)},_getPivotGridOptions:function(){if(!this.options.ViewModel)return{};var t=this.options.ViewModel,n={};return n.fieldChooser={enabled:!1},n.loadPanel=!1,n.contextMenuEnabled=!1,n.showRowGrandTotals=t.ShowRowGrandTotals,n.showColumnGrandTotals=t.ShowColumnGrandTotals,n.showColumnTotals=t.ShowColumnTotals,n.showRowTotals=t.ShowRowTotals,n.dataSource=this.dataController.getDataSource(),n.encodeHtml=this._encodeHtml,n.scrolling={mode:"standard",useNative:r.USE_NATIVE_SCROLLING},n.onExpandValueChanging=this._getExpandValueChangingHandler(),n.texts={grandTotal:u.getString(r.localizationId.PivotGridGrandTotal),total:u.getString(r.localizationId.PivotGridTotal),noData:u.getString(r.localizationId.MessagePivotHasNoData)},n.onCellClick=this._getCellClickHandler(),n.onCellPrepared=this._getCellPreparedHandler(),n.onContentReady=this._getContentReadyHandler(),n},_createHeaderHierarchy:function(n){var e=[],u=[],r=null,f=null,o=0,i,t,s=[];if(n&&n.length>0){for(i=0;i<n.length;i++)t=n[i],r={index:o++,value:t[1],displayText:t[2],parentIndex:t[3]},u.push(r),r.parentIndex>=0&&(f=u[r.parentIndex],f.children||(f.children=[]),f.children.push(r));for(i=0;i<u.length;i++)t=u[i],t.parentIndex<0&&e.push({index:t.index,value:t.value,displayText:t.displayText,children:t.children})}return e},_createCells:function(n){var t=[],u=-1,i=-1,e=-1,o=null,f,r;if(n&&n.length>0)for(f=0;f<n.length;f++)r=n[f],u=r[0],i=r[1],e=r[2],o=r[3],t[i]||(t[i]=[]),t[i][u]||(t[i][u]=[]),t[i][u].splice(e,0,o);return t},_getExpandValueChangingHandler:function(){var n=this;return function(t){var i=t.area==="column",r=t.path;n._dataRequestProcessing=!!t.needExpandData,n._onExpandValue({values:r,isColumn:i,isExpand:t.expanded,isRequestData:n._dataRequestProcessing});n.onCollapseStateChanged(i,r,!t.expanded)}},onCollapseStateChanged:function(n,t,i){var r=this,u=t.concat(n?"column":"row");r._conditionalFormattingInfoCache=[],i?r._collapseStateCache[u]=u:delete r._collapseStateCache[u]},_resize:function(n,t){this.callBase(n,t),this.pivotGridViewer.resize(),this._styleSettingsProvider.updateBarWidth(this.pivotGridViewer._$element,f)},_getDataPoint:function(n){var t=this,u=t.options.ViewModel;return{getValues:function(t){switch(t){case r.itemDataAxisNames.pivotRowAxis:return n.rowPath;case r.itemDataAxisNames.pivotColumnAxis:return n.columnPath;default:return null}},getDeltaIds:function(){return[]},getMeasureIds:function(){var t=n.dataIndex;return t!=i?[u.Values[t].DataId]:null}}},_getCellClickHandler:function(){var n=this;return function(t){t.area==="data"&&n._raiseItemClick(t.cell)}},_getWidget:function(){return this.pivotGridViewer},_getCellPreparedHandler:function(){var n=this;return function(t){n._onCellPrepared(t)}},_getContentReadyHandler:function(){var n=this;return function(t){n._onContentReady(t)}},_onCellPrepared:function(n){var u,e=n.area===r.utils.pivotArea.column&&n.cell.dataIndex!==i,t={area:n.area};e||(n.area===r.utils.pivotArea.column?t.columnPath=n.cell.path:n.area===r.utils.pivotArea.row?t.rowPath=n.cell.path:(t.columnPath=n.cell.columnPath,t.rowPath=n.cell.rowPath,t.cellIndex=n.cell.dataIndex),u=this.dataController.getStyleSettingsInfo(t,this._collapseStateCache,this._conditionalFormattingInfoCache),this._styleSettingsProvider.applyStyleSettings(n.cellElement,u,!1,f))},_onContentReady:function(n){this._styleSettingsProvider.updateBarWidth(n.component._$element,f)}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,s=t.require("/utils/utils.common"),f=r.data.formatter,u=r.data.chartHelper,h=r.data.selectionHelper,e=r.viewerItems,o=t.utils;e.chartItem=e.baseItem.inherit({ctor:function(t,i){this.callBase(t,i),this.itemElementCustomColor=n.Callbacks()},initializeData:function(t){this.callBase(t),this.dataController&&(this.dataController.elementCustomColor=n.proxy(this._elementCustomColor,this))},clearSelection:function(){this.chartViewer&&this.chartViewer.clearSelection()},selectTuple:function(n,t){h.setSelectedPoint(this.chartViewer,r.utils.getAxisPointValue(n,r.itemDataAxisNames.chartSeriesAxis),r.utils.getAxisPointValue(n,r.itemDataAxisNames.chartArgumentAxis),t)},setSelection:function(n){this.callBase(n),this._applySelection()},updateContentState:function(){if(this._getCustomHoverEnabled()){var n="none",t=this._getTargetAxes();t.length==1?n=t[0]==r.itemDataAxisNames.chartArgumentAxis?"allArgumentPoints":"allSeriesPoints":t.length==2&&(n="point"),this.chartViewer.option("commonSeriesSettings.hoverMode",n)}},renderContent:function(n){var r=this._getChartViewerOptions(),i;n&&this.chartViewer?this.chartViewer.option(r):this.chartViewer=new t.viz.charts.dxChart(this.$contentRoot,r),i=this.dataController?this.dataController.getZoomArguments():null,i&&this.chartViewer.zoomArgument(i.start,i.end),this._applySelection()},getInfo:function(){var t=this.callBase(),i;return this.chartViewer.option("scrollingMode")==="all"&&(i=this.chartViewer.getVisibleArgumentBounds(),t=n.extend(!0,t,{chartViewport:{min:this.dataController.getArgumentUniquePath(i.minVisible),max:this.dataController.getArgumentUniquePath(i.maxVisible)}})),t},_elementCustomColor:function(n){this.itemElementCustomColor.fire(this._getName(),n)},_isOverlappingModeHide:function(){if(!this.options||!this.options.ViewModel)return!1;var i=this,r=i.options.ViewModel,t=!1;return n.each(this.options.ViewModel.Panes,function(i,r){n.each(r.SeriesTemplates,function(n,i){i.PointLabel&&(i.PointLabel.OverlappingMode=="Hide"||i.PointLabel.OverlappingMode=="Reposition")&&(t=!0)})}),t},_getChartViewerOptions:function(){if(!this.options||!this.options.ViewModel)return{};var e=this,h=e.options.ViewModel,d=e.dataController.getDataSourceAndSeries(e._encodeHtml),w=e._getAnimationOptions(),b=e.isInteractivityActionEnabled(),g=b?e._convertHoverMode(h.SelectionMode):"none",nt=b?e._convertPointHoverMode(h.SelectionMode):"none",k=h.Panes,tt={},y=e.dataController.isDiscreteArgument(),it=e.dataController.isQualitativeArgument(),c=i,l=i,p=i,a=i,v=h.Rotated,t={panes:[],valueAxis:[],redrawOnResize:!1,rotated:v,pointSelectionMode:"multiple",seriesSelectionMode:"multiple",palette:o.renderHelper.getDefaultPalette(),encodeHtml:e._encodeHtml,onIncidentOccurred:o.renderHelper.widgetIncidentOccurred,zoomingMode:h.AxisX.EnableZooming?"all":"none",scrollingMode:h.AxisX.EnableZooming||h.AxisX.LimitVisiblePoints?"all":"none",adjustOnZoom:!1,scrollBar:{visible:h.AxisX.EnableZooming||h.AxisX.LimitVisiblePoints,position:"bottom"},customizePoint:function(){var i=this.tag,n=this.series.tag,t={};return u.isFinancialType(this.series.type)||(t.color=e.dataController.getColor(i.axisPoint,n.axisPoint,e._getMeasuresIds(n),n.colorMeasureId)),r.utils.allowSelectValue(e._getElementInteractionValue(this,e.options.ViewModel))||(t.hoverStyle={hatching:"none"}),t}};if(this._isOverlappingModeHide()?(t.resolveLabelOverlapping="hide",t.resolveLabelsOverlapping=!0):(t.resolveLabelOverlapping="none",t.resolveLabelsOverlapping=!1),n.each(k,function(n,r){var u=e.dataController.generatePaneName(r.Name,n),s=e._isAxisInPercentFormat(r,!1),h=e._isAxisInPercentFormat(r,!0),o=function(n){return function(){return f.formatAxisValue(this.value,this.min,this.max,n)}};tt[u]={},t.panes.push({name:u}),l={name:u+"primary",position:v?"bottom":"left",pane:u,inverted:r.PrimaryAxisY.Reverse,label:{visible:r.PrimaryAxisY.Visible,customizeText:o(s)},title:{text:r.PrimaryAxisY.Visible?r.PrimaryAxisY.Title:i},visible:r.PrimaryAxisY.Visible,grid:{visible:r.PrimaryAxisY.ShowGridLines},showZero:r.PrimaryAxisY.ShowZeroLevel},e._configureLogarithmicOptions(l,r.PrimaryAxisY),t.valueAxis.push(l),r.SecondaryAxisY&&(l={name:u+"secondary",position:v?"top":"right",pane:u,inverted:r.SecondaryAxisY.Reverse,label:{visible:r.SecondaryAxisY.Visible,customizeText:o(h)},title:{text:r.SecondaryAxisY.Visible?r.SecondaryAxisY.Title:i},visible:r.SecondaryAxisY.Visible,grid:{visible:r.SecondaryAxisY.ShowGridLines},showZero:r.SecondaryAxisY.ShowZeroLevel},e._configureLogarithmicOptions(l,r.SecondaryAxisY),t.valueAxis.push(l))}),v&&t.panes.reverse(),t.commonSeriesSettings={hoverMode:g,point:{visible:!1,hoverMode:nt},stackedbar:{label:{backgroundColor:"none"}}},t.commonPaneSettings={border:{visible:!0}},t.argumentAxis={inverted:h.AxisX.Reverse,label:{visible:h.AxisX.Visible,overlappingBehavior:{mode:!h.Argument.IsOrderedDiscrete&&y?"auto":"enlargeTickInterval"},customizeText:function(n){var t=f.getPredefinedString(n.value);return s.isDefined(t)?t:it||y?n.value:e.dataController.formatArgument(n,c)||""}},title:{text:h.AxisX.Visible?h.AxisX.Title:i},grid:{visible:h.AxisX.ShowGridLines},visible:h.AxisX.Visible,valueMarginsEnabled:u.allowArgumentAxisMargins(k)},e._configureLogarithmicOptions(t.argumentAxis,h.AxisX),e.dataController.isSingleArgument()&&(p=e.dataController.getArgumentAxisDimensionFormat(0)),y?(t.argumentAxis.type="discrete",t.dataPrepareSettings={sortingMethod:!1}):h.Argument&&(c=e.dataController.getArgumentFormat(h.Argument.AxisXLabelFormat,h.Argument.DataType)),c=c?c:p,c&&!(h.Argument&&h.Argument.IsContinuousDateTimeScale))switch(c.format){case"monthYear":t.argumentAxis.tickInterval={months:1},t.argumentAxis.label.minSpacing=10;break;case"dayMonthYear":t.argumentAxis.tickInterval={days:1},t.argumentAxis.label.minSpacing=10;break;case"quarterYear":t.argumentAxis.tickInterval={quarters:1},t.argumentAxis.label.minSpacing=10;break;case"dateHour":t.argumentAxis.tickInterval={hours:1},t.argumentAxis.label.minSpacing=10;break;case"dateHourMinute":t.argumentAxis.tickInterval={minutes:1},t.argumentAxis.label.minSpacing=10;break;case"dateHourMinuteSecond":t.argumentAxis.tickInterval={seconds:1},t.argumentAxis.label.minSpacing=10}return t.tooltip={enabled:!0,container:r.utils.tooltipContainerSelector,customizeTooltip:function(t){var r=t.point.series.pane,u=e.dataController.getTooltipArgumentText(t),f=e.chartViewer.getAllSeries(),i='<table cellspacing="0px">';return i+='<tr><td align="left" style="padding-bottom:4px;"><b>'+e._getHtml(u)+"<\/b><\/td><\/tr>",n.each(f,function(n,u){var f,o;u.pane===r&&(f=u.getPointsByArg(t.argument)[0],f&&(o=e.dataController.customizeTooltipText(u,f,u.tag.valueFormats,e._encodeHtml),o&&(i+='<tr><td align="left">'+o+"<\/td><\/tr>")))}),i+="<\/table>",{html:i}},font:{size:14},argumentFormat:p,zIndex:100},t.animation={enabled:w.enabled,duration:w.duration},t.margin={top:10,right:22,bottom:22,left:22},h.Legend&&(h.Legend.IsInsideDiagram?(a=u.convertLegendInsidePosition(h.Legend.InsidePosition),a.border={visible:!0}):a=u.convertLegendOutsidePosition(h.Legend.OutsidePosition),t.legend=n.extend(!0,{},a,{position:h.Legend.IsInsideDiagram?"inside":"outside",visible:h.Legend.Visible,itemTextPosition:"right"}),h.Legend.IsInsideDiagram&&(t.legend.margin=10)),t.onPointClick=e._getPointClickHandler(),t.onPointHoverChanged=e._getPointHoverHandler(),n.extend(!0,d,t)},_configureLogarithmicOptions:function(n,t){t.Logarithmic&&(n.type="logarithmic",n.logarithmBase=t.LogarithmicBase)},_applySelection:function(){var t=this,i=t.options.ViewModel,r=t.getSelectedTuples();i&&i.SelectionEnabled&&r.length>0&&(t.chartViewer.clearSelection(),n.each(r,function(n,i){t.selectTuple(i,!0)}))},_getDataPoint:function(n){var e=this,f=n.tag,t=n.series,u=t?t.tag:i,o=u?r.utils.getTagValue(u):[],s=f?r.utils.getTagValue(f):[],h=t?t.index:i;return{getValues:function(n){switch(n){case r.itemDataAxisNames.chartArgumentAxis:return s;case r.itemDataAxisNames.chartSeriesAxis:return o;default:return null}},getDeltaIds:function(){return[]},getMeasureIds:function(){return e._getMeasuresIds(u)}}},_getMeasuresIds:function(n){return n?n.dataMembers:[]},_isMultiDataSupported:function(){return!0},_getElementInteractionValue:function(n,t){return t.SelectionEnabled&&t.SelectionMode===u.SelectionMode.Series?n.series.tag:n.tag},_getPointClickHandler:function(){var n=this;return function(t){n._raiseItemClick(t.target)}},_getPointHoverHandler:function(){var n=this;return function(t){n._raiseItemHover(t.target)}},_isAxisInPercentFormat:function(n,t){for(var i,r=0;r<n.SeriesTemplates.length;r++)if(i=n.SeriesTemplates[r],t==i.PlotOnSecondaryAxis&&!i.OnlyPercentValues&&!this._isFullStackedSeriesType(i.SeriesType))return!1;return!0},_isFullStackedSeriesType:function(n){switch(n){case"FullStackedArea":case"FullStackedBar":case"FullStackedLine":case"FullStackedSplineArea":return!0;default:return!1}},_convertHoverMode:function(n){switch(n){case u.SelectionMode.Argument:return"allArgumentPoints";case u.SelectionMode.Series:return"allSeriesPoints";case u.SelectionMode.Points:default:return"none"}},_convertPointHoverMode:function(n){switch(n){case u.SelectionMode.Argument:return"allArgumentPoints";case u.SelectionMode.Series:return"allSeriesPoints";case u.SelectionMode.Points:return"onlyPoint";default:return"none"}},_resize:function(n,t){this.callBase(n,t),this.chartViewer.render()},_getWidget:function(){return this.chartViewer}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,e=DevExpress.require("/class"),s=r.data.formatter,u=r.data.chartHelper,f=r.viewerItems,o=t.utils;f.rangeSelectorItem=f.baseItem.inherit({ctor:function(n,t){this.callBase(n,t)},isPaneEmpty:function(){return this.callBase()||!this.hasCaption()},clearSelection:function(){this.rangeSelectorViewer&&this.rangeSelectorViewer.resetSelectedRange()},setSelection:function(n){if(n.length==0)this.clearSelection();else{var t=n[0];this.rangeSelectorViewer.setSelectedRange({startValue:t[0],endValue:t[1]})}},getCurrentRange:function(){return new r.rangeFilterSelection(this.rangeSelectorViewer.getSelectedRange())},getEntireRange:function(){return new r.rangeFilterSelection(this.rangeSelectorViewer.option("scale"))},setRange:function(n){var t=new r.rangeFilterSelection(n);this.selected.fire(this._getName(),r.viewerActions.setMasterFilter,[[t.getMinimum(),t.getMaximum()]])},renderContent:function(n){var i=this._getRangeSelectorViewerOptions();n&&this.rangeSelectorViewer?this.rangeSelectorViewer.option(i):this.rangeSelectorViewer=new t.viz.rangeSelector.dxRangeSelector(this.$contentRoot,i)},_isBorderRequired:function(){return!1},_getContainerPosition:function(){var t=this,n=t.callBase();return n.offsetY=n.height-t._getButtonOffset(),n},_getRangeSelectorViewerOptions:function(){if(!this.options||!this.options.ViewModel)return{};var t=this,r=t.options.ViewModel,a=this._getSelectedValues(),e=a?a[0]:null,f=t.dataController.getDataSourceAndSeries(t._encodeHtml),v=0,h=f.dataSource?f.dataSource.length-1:-1,y=t.dataController.isQualitativeArgument(),s=i,c=i,l=i,p=t._getAnimationOptions(),n={encodeHtml:t._encodeHtml};return t.isPaneEmpty()||(n.margin={top:10,bottom:15}),n.scale={marker:{visible:!1}},h>0&&(n.scale.startValue=y?v:f.dataSource[v].x,n.scale.endValue=y?h:f.dataSource[h].x),e&&e.length&&(n.selectedRange={startValue:e[0],endValue:e[1]}),t.dataController.isSingleArgument()&&(c=t.dataController.getArgumentAxisDimensionFormat(0),r.Argument&&(l=t.dataController.getArgumentFormat(r.Argument.AxisXLabelFormat,r.Argument.DataType)),n.scale.label={format:l?l:c}),n.sliderMarker={format:c},r.Argument&&r.Argument.IsContinuousDateTimeScale?n.behavior={snapToTicks:!1,animationEnabled:p.enabled}:(s=t.dataController.isDiscreteArgument()||r.Argument.Type=="Integer"?1:u.convertPresentationUnit(r.Argument),s&&(n.scale.minorTickInterval=s,n.scale.majorTickInterval=s,n.scale.showMinorTicks=!1,n.behavior={snapToTicks:!0,animationEnabled:p.enabled})),n.dataSource=f.dataSource,n.chart={series:f.series,commonSeriesSettings:{type:r.SeriesTemplates&&r.SeriesTemplates.length>0?u.convertSeriesType(r.SeriesTemplates[0].SeriesType):null},palette:o.renderHelper.getDefaultPalette()},n.onSelectedRangeChanged=t._getSelectedRangeChangedHandler(),n},_getSelectedRangeChangedHandler:function(){var n=this;return function(t){n.selected.fire(n._getName(),r.viewerActions.setMasterFilter,[[t.startValue,t.endValue]])}},_resize:function(n,t){this.callBase(n,t),this.rangeSelectorViewer.render()},_getWidget:function(){return this.rangeSelectorViewer}}),r.rangeFilterSelection=e.inherit({ctor:function(n){this.setMinimum(n.startValue),this.setMaximum(n.endValue)},getMaximum:function(){return this.maximum},setMaximum:function(n){this.maximum=n},getMinimum:function(){return this.minimum},setMinimum:function(n){this.minimum=n}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,r=u.viewerItems;r.imageItem=r.baseItem.inherit({ctor:function(n,t){this.imgSrc=i,this.img=i,this.callBase(n,t)},initializeData:function(n){this.callBase(n),this.imgSrc=this._getImageSource(this.options.ViewModel?this.options.ViewModel.ImageViewModel:i)},renderContent:function(t){var i=this;t&&i.img||(i.img=n("<img>").bind("load",function(){i._initialWidth=i.img.width(),i._initialHeight=i.img.height(),i._loadedImgProcessing()}),i.$contentRoot.append(i.img)),i.img.attr("src",i.imgSrc)},_loadedImgProcessing:function(){var t=this,i=t.$contentRoot,u=i.width(),f=i.height(),n=i.find("img"),e=t.options.ViewModel,l=e.SizeMode,o=e.HorizontalAlignment||"Right",s=e.VerticalAlignment||"Top",r,h,c;switch(l){case"Clip":i.css({overflow:"hidden"}),t._setHorizontalAlignment(n,o),t._setVerticalAlignment(n,s);break;case"Stretch":n.css({width:"100%",height:"100%"});break;case"Squeeze":h=n.height(),c=n.width(),h>=f&&h<=t._initialHeight||c>=u&&c<=t._initialWidth?(r=t._setImgSizeWithProportions(n,f/u),n.css({marginTop:0,marginLeft:0})):(n.css({width:"",height:""}),t._setHorizontalAlignment(n,o),t._setVerticalAlignment(n,s));break;case"Zoom":r=t._setImgSizeWithProportions(n,f/u)}r==="horizontalCentering"&&t._setHorizontalAlignment(n,o),r==="verticalCentering"&&t._setVerticalAlignment(n,s)},_setHorizontalAlignment:function(n,t){if(t==="Center"){n.css({marginLeft:(this.$contentRoot.width()-n.width())/2});return}n.attr("align",t.toLowerCase())},_setVerticalAlignment:function(n,t){var i,r=this.$contentRoot.height()-n.height();switch(t){case"Bottom":i=1;break;case"Center":i=.5;break;case"Top":i=0}n.css({marginTop:Math.floor(r*i)+"px"})},_setImgSizeWithProportions:function(n,t){var i=this._initialHeight/this._initialWidth;return i>t?(n.height("100%"),n.width(Math.floor(n.height()/i)),"horizontalCentering"):(n.width("100%"),n.height(Math.floor(n.width()*i)),"verticalCentering")},_getImageSource:function(n){if(n){var t=n.Url,i=n.SourceBase64String,r=n.MimeType||"";if(i)return"data:"+r+";base64,"+i;if(t)return t}return""},_resize:function(){this.callBase(),this._loadedImgProcessing()},_getWidget:function(){return this.img}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.viewerItems;u.textItem=u.baseItem.inherit({ctor:function(n,t){this.callBase(n,t),this.div=i},renderContent:function(i){var u=this,f=u.options;i&&u.div||(u.div=n("<div>"),u.$content=t.utils.renderHelper.wrapScrollable(u.div,r.USE_NATIVE_SCROLLING,"auto","vertical"),u.$contentRoot.append(u.div)),u.$content.html(f.ViewModel.Html.replace("<body>","<div>").replace("<\/body>","<\/div>"))},_getWidget:function(){return this.div}})}(jQuery,DevExpress),function(n,t,i){function d(){e||(e=new t.viz.indicators.SimpleIndicator,e.renderIndicators(c))}var s=t.utils,r=t.dashboard,l=t.require("/utils/utils.string"),f=r.data.localizer,h=r.viewerItems,e,a=t.viz.indicators.DeltaIndicator,v=r.ColumnWidthCalculator,o=r.data.dataController.DATA_POSTFIX,y=r.styleSettingsProvider,p="string",w=2e3,c=12,u=10,g="dx-datagrid-table",nt="dx-datagrid-headers",b="dashboard-datagriditem-resetcolumnwidths",k="0123456789";h.dataGridItem=h.baseItem.inherit({ctor:function(n,t){this.callBase(n,t),this._widthOptionsInfo=i,this._calculator=new v,this._styleSettingsProvider=new y,this._styleSettingsProvider.initialize(n,this.options.ConditionalFormattingModel),this._clientState=i,this.dataGrid=i,d()},TextAlignment:{Left:"left",Right:"right",Center:"center"},DisplayMode:{Value:"Value",Delta:"Delta",Bar:"Bar",Sparkline:"Sparkline",Image:"Image"},SummaryType:{Count:"Count",Min:"Min",Max:"Max",Avg:"Avg",Sum:"Sum"},clearSelection:function(){this.dataGrid&&this.dataGrid.clearSelection()},setSelection:function(n){this.callBase(n),this._setGridSelection(n)},selectTuple:function(t,i){var u=this,r=u.dataGrid.getSelectedRowKeys(),f=function(t){return n.each(t,function(t,u){i?r.push(u):r.splice(n.inArray(u,r),1)}),r};u._setGridSelection([t[0].Value],f)},renderContent:function(n){var r=this,u;r.options&&(u=r._getGridViewOptions(),n&&r.dataGrid?r.dataGrid.option(u):(r._charWidth=r._calcCharWidth(),r._columnsResized=!1,r._widthOptionsInfo=i,r.dataGrid=new t.ui.dxDataGrid(r.$contentRoot,u)),r._applySelection())},render:function(n){this._styleSettingsProvider.update(n),this.callBase(n)},updateContentState:function(){},getInfo:function(){var t=this,i=t.dataGrid.element().find(".dx-scrollable").first().dxScrollable("instance"),e=t.dataGrid.isScrollbarVisible(),o=i.scrollWidth()>i.clientWidth(),r=t.dataGrid.getTopVisibleRowData(),u=[],f=[];return r&&(n.each(t.options.ViewModel.RowIdentificatorDataMembers,function(n,t){var i=r[t];u.push(i)}),f.push(t._getLeftPrintingColumnIndex(i.scrollLeft()))),n.extend(!0,this.callBase(),{scroll:{horizontal:o,vertical:e,topPath:u,leftPath:f},widthOptionsInfo:t._widthOptionsInfo})},initializeData:function(n){this.callBase(n),this._styleSettingsProvider&&this._styleSettingsProvider.initialize(this.$contentRoot,this.options.ConditionalFormattingModel)},_getLeftPrintingColumnIndex:function(t){var r=this,u=0,f=0;return r._widthOptionsInfo!==i&&n.each(r._widthOptionsInfo.columnsWidthInfo,function(n,i){if(t<f+i.actualWidth/2)return u=n,!1;f+=i.actualWidth}),u},_onResetColumnWidth:function(){this._updateWidthOptionsInfoByViewModel(),this._recalcGridColumnWidhts(),this._columnsResized=!1,this._clientState=i,this.dataGrid.refresh(),this._applySelection()},_calcCharWidth:function(){var t=n("<span />").addClass("dx-widget").text(k).appendTo(n("body")),i=t.width()/10;return t.remove(),i},_onColumnsChanging:function(n){var t=n.component,r;this._viewModelHasColumns()&&t.columnCount()===this.options.ViewModel.Columns.length&&!this._columnWidthsSetting&&(t.getController("data").isLoaded()&&(n.optionNames.width||n.optionNames.visibleWidth&&t.columnOption(0,"visibleWidth")!==i)&&(this._updateWidthOptionsInfoByViewModel(),this._applyClientState()),this._widthOptionsInfo!==i&&(n.optionNames.width?(r=this._getResizedColumnIndex(),r>=0&&r<this.options.ViewModel.Columns.length-1&&this._onColumnResized(r)):n.optionNames.visibleWidth&&t.columnOption(0,"visibleWidth")!==i&&this._onGridResized()))},_onColumnResized:function(t){var r=this,o,s,f,e,h,c;r._recalcWidthOptionsInfo(r.dataGrid),r._widthOptionsInfo.columnWidthMode="Manual",o=r._widthOptionsInfo.columnsWidthInfo[t],s=r._widthOptionsInfo.columnsWidthInfo[t+1],r._widthOptionsInfo.allColumnsFixed?(r._widthOptionsInfo.allColumnsFixed=!1,n.each(r._widthOptionsInfo.columnsWidthInfo,function(n,t){t.widthType="Weight",t.isFixedWidth=!1})):(o.widthType="Weight",o.isFixedWidth=!1,s.widthType="Weight",s.isFixedWidth=!1),f=r.dataGrid.columnOption(t,"width"),e=r.dataGrid.columnOption(t+1,"width"),f<u?(e=f+e-u,f=u):e<u&&(f=f+e-u,e=u),o.actualWidth=f,s.actualWidth=e,h=0,c=0,n.each(r._widthOptionsInfo.columnsWidthInfo,function(n,t){t.widthType==="Weight"&&(h+=t.actualWidth,c+=t.weight)}),n.each(r._widthOptionsInfo.columnsWidthInfo,function(n,t){t.widthType==="Weight"&&(t.weight=t.actualWidth*c/h,t.initialWidth=t.weight)}),r._columnWidthsSetting=!0,r.dataGrid.beginUpdate(),r.dataGrid.columnOption(t,"width",i),r.dataGrid.columnOption(t+1,"width",i),r.dataGrid.columnOption(t,"visibleWidth",f),r.dataGrid.columnOption(t+1,"visibleWidth",e),r.dataGrid.endUpdate(),r._columnWidthsSetting=!1,r._columnsResized=!0,r._updateClientState()},_getResizedColumnIndex:function(){for(var t=this.dataGrid.columnCount(),n=0;n<t;n++)if(this.dataGrid.columnOption(n,"width"))return n;return-1},_onGridResized:function(){this._recalcGridColumnWidhts()},_recalcGridColumnWidhts:function(){var t=this;t._recalcWidthOptionsInfo(),t._columnWidthsSetting=!0,t.dataGrid.beginUpdate(),n.each(t._widthOptionsInfo.columnsWidthInfo,function(n,i){t.dataGrid.columnOption(n,"visibleWidth",i.actualWidth)}),t.dataGrid.endUpdate(),t._columnWidthsSetting=!1},_recalcWidthOptionsInfo:function(){var n=this.dataGrid.element().width()-this.dataGrid.getScrollbarWidth();this._widthOptionsInfo=this._calculator.calcWidth(this._widthOptionsInfo,n)},_updateWidthOptionsInfoByViewModel:function(){var t=this,i=t.options.ViewModel.Columns;t._widthOptionsInfo={columnWidthMode:t.options.ViewModel.ColumnWidthMode,allColumnsFixed:t.options.ViewModel.AllColumnsFixed,columnsWidthInfo:[]},n.each(i,function(n,i){var f=t._widthOptionsInfo.columnWidthMode=="Manual",r=0;r=f&&i.WidthType!=="FitToContent"?f&&i.WidthType==="FixedWidth"?Math.round(i.FixedWidth*t._charWidth):i.Weight:t.dataGrid.columnOption(n,"bestFitWidth"),t._widthOptionsInfo.columnsWidthInfo[n]={actualIndex:i.ActualIndex,widthType:i.WidthType,initialWidth:r,weight:i.Weight,minWidth:u,actualWidth:0,isFixedWidth:i.WidthType!=="Weight",defaultBestCharacterCount:i.DefaultBestCharacterCount,displayMode:i.DisplayMode,fixedWidth:i.FixedWidth}})},_updateClientState:function(){for(var n=this,u,i={columnWidthMode:n._widthOptionsInfo.columnWidthMode,allColumnsFixed:n._widthOptionsInfo.allColumnsFixed,columnsWidthInfo:[]},r,t=0;t<n._widthOptionsInfo.columnsWidthInfo.length;t++)i.columnsWidthInfo.push(n._widthOptionsInfo.columnsWidthInfo[t]);if(n._clientState)for(t=0;t<n._clientState.columnsWidthInfo.length;t++){for(u=!1,r=0;r<i.columnsWidthInfo.length;r++)if(n._clientState.columnsWidthInfo[t].actualIndex===i.columnsWidthInfo[r].actualIndex){u=!0;break}u||i.columnsWidthInfo.push(n._clientState.columnsWidthInfo[t])}i.columnsResized=n._columnsResized,this._clientState=i},_applyClientState:function(){var i=this,t=i._clientState,u=i.options.ViewModel,r,f;t&&(f=t.columnWidthMode=="Manual",i._columnsResized=t.columnsResized,i._widthOptionsInfo.columnWidthMode=t.columnWidthMode,i._widthOptionsInfo.allColumnsFixed=t.allColumnsFixed,n.each(i._widthOptionsInfo.columnsWidthInfo,function(f,e){n.each(t.columnsWidthInfo,function(n,o){e.actualIndex===o.actualIndex?(e.widthType=o.widthType,e.weight=o.weight,e.minWidth=o.minWidth,e.isFixedWidth=o.isFixedWidth,r=t.columnWidthMode!=="Manual"||o.widthType==="FitToContent"?i.dataGrid.columnOption(f,"bestFitWidth"):o.initialWidth,e.initialWidth=r):u.ColumnWidthMode!="Manual"&&t.columnWidthMode=="Manual"&&(e.initialWidth=e.weight)})}))},_getColumnWeightSum:function(){for(var t=0,i=this.options.ViewModel.Columns,n=0;n<i.length;n++)t+=i[n].Weight;return t},_viewModelHasColumns:function(){return this.options&&this.options.ViewModel&&this.options.ViewModel.Columns&&this.options.ViewModel.Columns.length!==0},_getGridViewOptions:function(){if(!this.options.ViewModel)return{};var i=this,u=i.options.ViewModel,t={},e=i.dataController.getDataSource(),o=i._getColumns(),s={totalItems:i._getTotals()},h=function(n){i._onResetColumnWidth(n)};return t.dataSource=e,t.scrolling={mode:e.store.data.length*(o.length||1)>=w?"virtual":"standard",useNative:r.USE_NATIVE_SCROLLING},t.columns=o,t.summary=s,t.remoteOperations={summary:!0},t.paging={enabled:!1},t.rowAlternationEnabled=u.EnableBandedRows,t.showColumnHeaders=u.ShowColumnHeaders,t.showRowLines=u.ShowHorizontalLines,t.showColumnLines=u.ShowVerticalLines,t.sorting={mode:"multiple",ascendingText:f.getString(r.localizationId.buttonNames.GridSortAscending),descendingText:f.getString(r.localizationId.buttonNames.GridSortDescending),clearText:f.getString(r.localizationId.buttonNames.GridClearSorting)},t.onContextMenuPreparing=function(n){n.target==="content"&&(n.items=[{text:f.getString(r.localizationId.buttonNames.GridResetColumnWidths),icon:b,disabled:!i._columnsResized,onItemClick:h}])},t.onCellClick=i._getCellClickHandler(),t.onCellHoverChanged=i._getCellHoverHandler(),t.noDataText=f.getString(r.localizationId.MessageGridHasNoData),t.width="100%",t.wordWrapEnabled=u.WordWrap,t.onColumnsChanging=n.proxy(i._onColumnsChanging,i),t.columnAutoWidth=!0,t.allowColumnResizing=u.ColumnWidthMode!=="AutoFitToContents",t.cellHintEnabled=!0,t.loadPanel=!1,t.searchPanel=!1,t.useKeyboard=!1,t},_getElement:function(n,t){var i,r;return(i=n.get(t),i&&(r=i.style.width,r))?r:null},_calcMaxWidth:function(t){var r,u=0,i=0;return t&&t.length&&(r=this._getElement(t,t.length-1)||this._getElement(t,0),r?i=parseInt(r):t.each(function(t,r){u=n(r).width(),u>i&&(i=u)})),i},_changeGridSparklineColumnsWidth:function(t,i,r,u){var s=this,f=t.find("."+i+"_startValue"),e=t.find("."+i+"_endValue"),h=s._calcMaxWidth(f),o=s._calcMaxWidth(e),c=t.find("."+i+"_sparkline"),a=c.get(0),l=a?n(a).parent().width():0,v=l-(h+o);v>=0||r?(r?(f.css("float",""),e.css("float","")):(f.css("float","left"),f.width(h),e.css("float","left"),e.width(o)),f.show(),e.show(),n.each(c,function(t,i){var f=n(i);r?(f.css("float",""),f.dxSparkline("instance").option("size",{width:Math.round(u.DefaultBestCharacterCount*s._charWidth)}),f.show()):(f.css("float","left"),f.dxSparkline("instance").option("size",{width:v}),f.show())})):(n.each(c,function(t,i){var r=n(i);r.hide()}),l>=h+o?f.show():(f.hide(),l>=o?e.show():e.hide()))},_changeGridBarColumnsWidth:function(t,i,r,u){var s=this,f=t.find("."+i+"_bar"),e=f.get(0),o=e?n(e).parent().width():0;n.each(f,function(t,i){var f=n(i);o>0?(f.show(),f.dxBullet("instance").option("size",{width:r?Math.round(u.DefaultBestCharacterCount*s._charWidth):o})):f.hide()})},_getRowsValues:function(t){var r=this,e=r.options.ViewModel.SelectionDataMembers,f=[],u;return n.each(e,function(n,e){u=r._getUniqueValue(t,e),u!==i&&f.push(u)}),r.dataController.getSelectionValues(f)},_getSelectedRowIndices:function(){var n=this._getSelectedValues();return n?this.dataController.getSelectedRowKeys(n):[]},_renderDelta:function(t,i,r){var f=n("<div>",{css:{display:"inline-block"}}).appendTo(t),o=a.getIndicatorColorType(i.type,i.hasPositiveMeaning,i.text.useDefaultColor),u=n("<span>",{css:{display:"inline-block"},text:i.text.value});r.styleIndexes.length===0?u.addClass(o):this._styleSettingsProvider.applyStyleSettings(u,r,!0),t.innerHTML="",t.css({"text-align":"right",overflow:"hidden"}),u.appendTo(f),n("<div>",{css:{display:"inline-block","margin-top":"3px","margin-left":"10px",width:"16px",height:c}}).appendTo(f).html(e.getRenderedIndicator(i.type,i.hasPositiveMeaning))},_renderSparkline:function(t,i,r){var c=t.sparklineData,f=t.columnName,u=t.parentContainer,l=t.columnViewModel,e=i.sparkline,o=n("<div>",{css:{float:"left",display:"inline-block"},"class":f+"_sparkline"}),s,h;l.ShowStartEndValues?(s=n("<span>",{css:{display:"none",float:"left",textAlign:"right"},"class":f+"_startValue"}).appendTo(u),o.appendTo(u),h=n("<span>",{css:{display:"none",float:"left",textAlign:"right"},"class":f+"_endValue"}).appendTo(u),this._styleSettingsProvider.applyStyleSettings(s,r,!0),this._styleSettingsProvider.applyStyleSettings(h,r,!0),c&&c.length&&(s.text(i.startText),h.text(i.endText))):o.appendTo(u),e.size={width:Math.round(l.DefaultBestCharacterCount*this._charWidth),height:20},e.pointSize=1,new DevExpress.viz.sparklines.dxSparkline(o,e)},_renderBar:function(t){var e=this,i=t.zeroValue,u=t.value,f=n("<div>",{"class":t.columnName+"_bar"}).appendTo(t.parentContainer);f.dxBullet({startScaleValue:-i,endScaleValue:1-i,value:u,showZeroLevel:u!==0&&i!==0&&i!==1,showTarget:!1,onIncidentOccurred:s.renderHelper.widgetIncidentOccurred,tooltip:{container:r.utils.tooltipContainerSelector,customizeTooltip:function(){return{text:t.tooltipText}},zIndex:100},size:{width:Math.round(t.defaultBestCharacterCount*this._charWidth),height:20}})},_getTotals:function(){var t=this,i=[],r=t.options.ViewModel.Columns||[];return n.each(r,function(r,u){var f=u.DataId,e=u.Totals||[];n.each(e,function(n,r){i.push({column:f,summaryType:"custom",displayFormat:l.format(r.Caption,t.dataController.getTotalValue(r.DataId))})})}),i},_calculateCustomSummary:function(n){n.totalValue=0},_getColumns:function(){var t=this,u=[],o=t.options.ViewModel,h=t.options.Name,f=o.Columns||[],e=f.length,r;return n.each(f,function(f,o){var c=o.DataId,a=h+c,l={dataField:c,dataType:p,encodeHtml:t._encodeHtml,caption:o.Caption,alignment:o.HorzAlignment==="Right"?t.TextAlignment.Right:t.TextAlignment.Left,headerAlignment:t.TextAlignment.Left};switch(o.DisplayMode){case t.DisplayMode.Value:l.cellTemplate=function(n,i){var r=t._getCellData(i.data,c).displayText;s.renderHelper.html(n,r,t._encodeHtml),t._styleSettingsProvider.applyStyleSettings(n,t._getStyleSettingsInfo(i.data,c),!1,a)},l.resized=function(){var r=t.dataGrid&&t.dataGrid.columnOption(f,"visibleWidth")===i,n=t.dataGrid?t.dataGrid._$element:i;n&&t._styleSettingsProvider.updateBarWidth(n,a)};break;case t.DisplayMode.Delta:l.cellTemplate=function(n,i){r=t._getStyleSettingsInfo(i.data,c),t._renderDelta(n,t._getCellData(i.data,c),r),t._styleSettingsProvider.applyStyleSettings(n,r,!0)};break;case t.DisplayMode.Sparkline:l.alignment=t.TextAlignment.Left,l.cssClass="dx-dashboard-datagrid-column-visible-cell-content",l.cellTemplate=function(n,i){r=t._getStyleSettingsInfo(i.data,c),t._renderSparkline({columnName:a,parentContainer:n,sparklineData:i.data[c],rowIndex:i.rowIndex,columnIndex:i.column.index,columnsCount:e,columnViewModel:o},t._getCellData(i.data,c),r),t._styleSettingsProvider.applyStyleSettings(n,r,!0)},l.resized=function(){var r=t.dataGrid&&t.dataGrid.columnOption(f,"visibleWidth")===i,n=t.dataGrid?t.dataGrid._$element:i;n&&t._changeGridSparklineColumnsWidth(n,a,r,o)};break;case t.DisplayMode.Bar:l.alignment=t.TextAlignment.Left,l.cssClass="dx-dashboard-datagrid-column-visible-cell-content",l.cellTemplate=function(n,i){var r=t._getCellData(i.data,c);t._renderBar({columnName:a,parentContainer:n,rowIndex:i.rowIndex,columnIndex:i.column.index,columnsCount:e,tooltipText:r.text,value:r.normalizedValue,zeroValue:r.zeroValue,defaultBestCharacterCount:o.DefaultBestCharacterCount}),t._styleSettingsProvider.applyStyleSettings(n,t._getStyleSettingsInfo(i.data,c),!0)},l.resized=function(){var r=t.dataGrid&&t.dataGrid.columnOption(f,"visibleWidth")===i,n=t.dataGrid?t.dataGrid._$element:i;n&&t._changeGridBarColumnsWidth(n,a,r,o)};break;case t.DisplayMode.Image:l.cellTemplate=function(i,r){var u=t._getCellData(r.data,c),f="data:image/png;base64,"+t._convertByteArrayToBase64(u.value),e=n("<img />").attr("src",f);e.appendTo(i),t._styleSettingsProvider.applyStyleSettings(i,t._getStyleSettingsInfo(r.data,c),!0)}}u.push(l)}),u},_getCellData:function(n,t){return n[t+o].getData()},_getStyleSettingsInfo:function(n,t){return n[t+o].getStyleSettingsInfo()},_getUniqueValue:function(n,t){return n[t+o].getUniqueValue()},_convertByteArrayToBase64:function(n){for(var i=new Uint8Array(n),u=i.byteLength,r="",t=0;t<u;t++)r+=String.fromCharCode(i[t]);return window.btoa(r)},_applySelection:function(){var n=this._getSelectedValues();n&&this._setGridSelection(n)},_resize:function(n,t){this.callBase(n,t),this.dataGrid.resize()},_getDataPoint:function(n){var t=this;return{getValues:function(i){return i==="Default"?t._getDimensionValues(n.data):null},getDeltaIds:function(){return t._getColumnDataIdsByColumnType("Delta")},getMeasureIds:function(){return t._getColumnDataIdsByColumnType("Measure")},getSelectionValues:function(){return t._getRowsValues(n.data)}}},_getDimensionValues:function(n){return this.dataController.getDimensionValues(n.index)},_getColumnsByColumnType:function(t){var r=this.options.ViewModel.Columns,i=[];return n.grep(r,function(n){n.ColumnType===t&&i.push(n)}),i},_getColumnDataIdsByColumnType:function(t){var r=this,u=r._getColumnsByColumnType(t),i=[];return n.each(u,function(n,t){i.push(t.DataId)}),i},_getElementInteractionValue:function(n){return this._getRowsValues(n.data)},_getCellClickHandler:function(){var n=this;return function(t){t.rowType==="data"&&n._raiseItemClick(t)}},_getCellHoverHandler:function(){var n=this;return function(t){n._raiseItemHover(t,t.eventType=="mouseover")}},_getWidget:function(){return this.dataGrid},_setGridSelection:function(n,t){if(n&&n.length>0){var i=this,r=i.dataController.getSelectedRowKeys(n);i._selectRows(t?t(r):r)}},_selectRows:function(n){this.dataGrid&&this.dataGrid.selectRows(n)},_isMultiDataSupported:function(){return!0}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,e=t.require("/utils/utils.string"),s=u.data.formatter,o=u.data.localizer,r=u.viewerItems,f;r.map={cssClassNames:{initialExtent:"dx-icon-dashboard-map-initial-extent"}},f=function(){function i(n,t,i){return Math.min(Math.max(n,t),i)}var n=t.viz.map.projection.get("mercator").source(),r=n.to,u=n.from;return n.to=function(n){var t=r(n);return[i(t[0],-1,1),t[1]]},n.from=function(n){var t=[i(n[0],-1,1),n[1]];return u(t)},t.viz.map.projection(n)}(),r.mapItem=r.baseItem.inherit({ctor:function(n,t){this.callBase(n,t),this.viewportChanged=!1},clearSelection:function(){this.mapViewer&&this.mapViewer.clearSelection()},getInfo:function(){return n.extend(!0,this.callBase(),{viewport:this._getViewport()})},_ensureInternalToolbarIsRendered:function(t){var i=t.find("."+r.map.cssClassNames.initialExtent);if(!i||i.length==0){i=n("<div/>",{"class":r.map.cssClassNames.initialExtent,title:o.getString(u.localizationId.buttonNames.InitialExtent)}).appendTo(t);i.on("click",this._getInitialExtentHandler())}return i},_getMapViewerOptions:function(){var n=this,t=n.options.ViewModel;return{projection:f,encodeHtml:n._encodeHtml,background:{borderWidth:0,borderColor:"none"},controlBar:{enabled:!1},zoomFactor:n._calculateZoomFactor(t.Viewport,n.$contentRoot.width(),n.$contentRoot.height()),maxZoomFactor:262144,center:[t.Viewport.CenterPointLongitude,t.Viewport.CenterPointLatitude],panningEnabled:t.LockNavigation!==!0,zoomingEnabled:t.LockNavigation!==!0}},_getLabelSettings:function(n){return{label:{enabled:!!n.ShapeTitleAttributeName,dataField:"title"}}},_calculateZoomFactor:function(n,t,i){var r=t<i?t:i,o=this._translateLon(n.RightLongitude,r)-this._translateLon(n.LeftLongitude,r),s=this._translateLat(n.BottomLatitude,r)-this._translateLat(n.TopLatitude,r),u=t/o,f=i/s,e=u<f?u:f;return n.CreateViewerPaddings&&(e*=.95),e},_translateLon:function(n,t){var i=n*Math.PI/180;return t/2+t/(2*Math.PI)*i},_translateLat:function(n,t){var i=n*Math.PI/180;return t/2-t/(2*Math.PI)*Math.log(Math.tan(Math.PI/4+i/2))},_getMapDataSource:function(n,t){for(var o=[],f,e,s,h,u,r,i=0;i<n.length;i++){if(f=[],n[i].Latitude&&n[i].Longitude&&n[i].Size&&f.push([n[i].Longitude,n[i].Latitude]),n[i].Segments)for(s=n[i].Segments,r=0;r<s.length;r++){for(e=s[r].Points,h=[],u=0;u<e.length;u++)h.push([e[u].Longitude,e[u].Latitude]);f.push(h)}for(o.push({coordinates:f,attributes:[]}),r=0;r<n[i].Attributes.length;r++)if(n[i].Attributes[r].Name===t){o[i].attributes.title=n[i].Attributes[r].Value;break}}return o},_getLegend:function(n){var t=n&&!!n.Visible?{}:i;return t&&this._updateLegendPosition(t,n),t},_updateLegendPosition:function(n,t){switch(t.Orientation){case"Vertical":n.orientation="vertical",n.inverted=!0;break;case"Horizontal":n.orientation="horizontal"}switch(t.Position){case"TopLeft":n.verticalAlignment="top",n.horizontalAlignment="left";break;case"TopCenter":n.verticalAlignment="top",n.horizontalAlignment="center";break;case"TopRight":n.verticalAlignment="top",n.horizontalAlignment="right";break;case"BottomLeft":n.verticalAlignment="bottom",n.horizontalAlignment="left";break;case"BottomCenter":n.verticalAlignment="bottom",n.horizontalAlignment="center";break;case"BottomRight":n.verticalAlignment="bottom",n.horizontalAlignment="right"}},_isSelected:function(n){var t=this._getSelectedValues(),f=!1,u,r,i;if(t&&t.length>0&&t[0].length===n.length)for(r=0;r<t.length;r++){for(u=!0,i=0;i<n.length;i++)if(t[r][i]!==n[i]){u=!1;break}if(u){f=!0;break}}return f},_getToolTip:function(n,t){return e.format("{0}: {1}",this._getHtml(n),this._getHtml(t))},_getColors:function(n){var i,t;if(n){for(i=[],t=0;t<n.length;t++)i.push("rgb("+n[t].R+", "+n[t].G+", "+n[t].B+")");return i}},_updateRangeStops:function(n,t,i,r){for(var u=[],f=0;f<n.length;f++)u.push(n[f]);return r&&this._updatePercentRangeStops(u,t,i),u.length>0&&u[0]>t&&(u[0]=t),u[u.length-1]<i?u.push(i):u.push(u[u.length-1]+1),u},_updatePercentRangeStops:function(n,t,i){for(var r=0;r<n.length;r++)n[r]=t+n[r]/100*(i-t)},_getViewport:function(){var n=this.mapViewer.convertCoordinates(0,0),t=this.mapViewer.convertCoordinates(this.$contentRoot.width(),this.$contentRoot.height()),i=this.mapViewer.viewport(),r=this.mapViewer.center();return{LeftLongitude:!n[0]?i[0]:n[0],TopLatitude:!n[1]?i[1]:n[1],RightLongitude:!t[0]?i[2]:t[0],BottomLatitude:!t[1]?i[3]:t[1],CenterPointLongitude:r[0],CenterPointLatitude:r[1]}},_getClientContext:function(){return{viewport:this._getViewport(),clientSize:{width:this.$contentRoot.width(),height:this.$contentRoot.height()}}},_updateClientStateInternal:function(n){var t=n.viewport;this._updateViewport(n.viewport)},_updateViewport:function(n){this.mapViewer.zoomFactor(this._calculateZoomFactor(n,this.$contentRoot.width(),this.$contentRoot.height()),!0),this.mapViewer.center([n.CenterPointLongitude,n.CenterPointLatitude],!0)},_resize:function(n,t){this.callBase(n,t);var i=this.changedViewport?this.changedViewport.viewport:this.options.ViewModel.Viewport;this._updateViewport(i),this.mapViewer.render(),this._onClientStateUpdate(this._getClientContext())},_onViewPortChanged:function(){this.changedViewport=this._getClientContext(),this._onClientStateUpdate(this.changedViewport)},_onInitialExtent:function(){this._updateViewport(this.options.ViewModel.Viewport),this.changedViewport=null,this._onClientStateUpdate(this._getClientContext())},_hasInternalButtons:function(){return this.options.ViewModel.LockNavigation!==!0},_getInitialExtentHandler:function(){var n=this;return n._initialExtentHandler=n._initialExtentHandler||function(){n._onInitialExtent()}},_getWidget:function(){return this.mapViewer},_subscribeItemEvents:function(){var n=this;this.mapViewer.option("onCenterChanged",function(){n._onViewPortChanged()}),this.mapViewer.option("onZoomFactorChanged",function(){n._onViewPortChanged()})},_unsubscribeItemEvents:function(){this.mapViewer.option("onCenterChanged",null),this.mapViewer.option("onZoomFactorChanged",null)}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,e=r.data.formatter,f=r.viewerItems,u=t.viz.indicators.consts.deltaIndicator.indicatorType;f.choroplethMapItem=f.mapItem.inherit({ctor:function(n,t){this.callBase(n,t)},selectTuple:function(t,i){var r=this;n.each(r.mapViewer.getLayerByName("area").getElements(),function(n,r){r.attribute("selectionName")==t[0].Value&&r.selected(i)})},setSelection:function(t){this.callBase(t);var i=this;this.clearSelection(),n.each(i.mapViewer.getLayerByName("area").getElements(),function(i,r){n.each(t,function(n,t){r.attribute("selectionName")==t&&r.selected(!0)})})},updateContentState:function(){this.mapViewer.option("layers[0].hoverEnabled",this._getCustomHoverEnabled())},renderContent:function(i){var r=this._getMapViewerOptions();r=n.extend(!0,r,this._getChoroplethMapViewerOptions()),i&&this.mapViewer?(this._unsubscribeItemEvents(),this.mapViewer.option(r)):this.mapViewer=new t.viz.map.dxVectorMap(this.$contentRoot,r),this._subscribeItemEvents()},_getChoroplethMapViewerOptions:function(){for(var t=this,u=t.options.ViewModel,f=u.MapItems,s=t._getMapDataSource(f,u.ShapeTitleAttributeName),i=u.ChoroplethColorizer,v=u.ToolTipAttributeName,c=u.TooltipMeasures,e,h,l,a,o=0;o<f.length;o++)a=t._findAttributeValueByName(f[o].Attributes,v),s[o].attributes.tooltip="<b>"+t._getHtml(a)+"<\/b>";return i&&t.dataController.hasRecords()&&(i.ValueName&&(t._fillValueMapDataSourceAttrs(s,i,c,f),h=t._getRangeStops(i),e=t._getColors(i.Colorizer.Colors),e||(e=h.length>2?["#5F8195","#B55951"]:["#5F8195"]),l=t._getColorLegend(u.Legend,t.dataController.getMeasureDescriptorById(i.ValueId))),i.DeltaValueName&&(t._fillDeltaMapDataSourceAttrs(s,i,c,f),e=["rgb(229, 82, 83)","rgb(224, 194, 58)","rgb(154, 181, 126)"],h=[0,1,2,3])),{layers:[n.extend({name:"area",type:"area",data:s},t._getArea(u,e,h))],onClick:function(n){n.target&&n.target.layer.name==="area"&&n.target.attribute("selectionName")&&t._raiseItemClick(n.target)},legends:[l],tooltip:{enabled:!0,zIndex:100,container:r.utils.tooltipContainerSelector,customizeTooltip:function(n){if(n.layer.name==="area")return{html:n.attribute("tooltip")}}}}},_getColorLegend:function(n,t){var i=this._getLegend(n);return i&&(i.source={layer:"area",grouping:"color"},i.customizeText=function(n){return t.format(n.start)}),i},_fillMeasureToolTip:function(n,t,i){var u,f,r;if(i)for(r=0;r<i.length;r++)f=i[r],u=this.dataController.getDisplayText(t,f.DataId),u!=null&&(n.attributes.tooltip+="<br>"+this._getToolTip(f.Caption,u))},_fillValueMapDataSourceAttrs:function(n,t,i,r){for(var s=t.AttributeName,f,e,o,u=0;u<r.length;u++)f=this._findAttributeValueByName(r[u].Attributes,s),e=this.dataController.getUniqueValue(f),e&&(o=this.dataController.getDisplayText(f,t.ValueId),n[u].attributes.selectionName=e,n[u].attributes.selected=this._isSelected([e]),n[u].attributes.value=this.dataController.getValue(f,t.ValueId),n[u].attributes.tooltip+="<br>"+this._getToolTip(t.ValueName,o),this._fillMeasureToolTip(n[u],f,i))},_fillDeltaMapDataSourceAttrs:function(n,t,i,r){for(var a=t.AttributeName,e,o,s,f,h,c,l,u=0;u<r.length;u++)o=this._findAttributeValueByName(r[u].Attributes,a),e=this.dataController.getUniqueValue(o),e&&(n[u].attributes.selectionName=e,n[u].attributes.selected=this._isSelected([e]),f=this.dataController.getDeltaValue(o,t.DeltaValueId),c=f.getIsGood().getValue(),l=this._convertIndicatorType(f.getIndicatorType().getValue()),n[u].attributes.value=this._getDeltaColorValue(l,c),s="<br>"+this._getToolTip(t.ActualValueName,f.getActualValue().getDisplayText()),h=this._getDeltaValue(f,t.DeltaValueType),h&&(s+="<br>"+this._getToolTip(t.DeltaValueName,h.getDisplayText())),n[u].attributes.tooltip+=s,this._fillMeasureToolTip(n[u],o,i))},_getDeltaValue:function(n,t){switch(t){case"AbsoluteVariation":return n.getAbsoluteVariation();case"PercentVariation":return n.getPercentVariation();case"PercentOfTarget":return n.getPercentOfTarget();case"ActualValue":default:return null}},_findAttributeValueByName:function(n,t){for(var i=0;i<n.length;i++)if(n[i].Name===t)return n[i].Value},_getRangeStops:function(n){var t=this.dataController.getMinMax(n.ValueId);return this._updateRangeStops(n.Colorizer.RangeStops,t.min,t.max,n.Colorizer.UsePercentRangeStops)},_convertIndicatorType:function(n){var t=["none","up","down","warning"];return t[n]},_getDeltaColorValue:function(n,t){switch(n){case u.up:case u.down:return t?2.5:.5;case u.warning:return 1.5;default:return-1}},_getArea:function(t,r,u){var f=this,e=f._selectionMode()==="none";return n.extend(f._getLabelSettings(t),{colorGroupingField:"value",colorGroups:u,palette:r,customize:function(t){n.each(t,function(n,t){t.selected(t.attribute("selected")),(e||t.attribute("value")===i)&&t.applySettings({hoveredBorderColor:null,hoveredClass:null,hoverEnabled:!1})})},selectionMode:"multiple"})},_getDataPoint:function(n){var t=this;return{getValues:function(){return t._getElementInteractionValue(n,t.options.ViewModel)},getMeasureIds:function(){return[t.options.ViewModel.ChoroplethColorizer.ValueId]},getDeltaIds:function(){return[]}}},_getElementInteractionValue:function(n){return!this.options.ViewModel.ChoroplethColorizer?[]:[n.attribute("selectionName")]}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,f=r.data.formatter,u=r.viewerItems;u.geoPointMapItemBase=u.mapItem.inherit({ctor:function(n,t){this.callBase(n,t);var i=this;i.raiseTimerClusterizationDataRequest=function(){i._onDataRequest(),clearTimeout(i.timer),i.timer=!1}},initialDataRequest:function(){this._raiseClusterizationDataRequest()},selectTuple:function(t,i){var r=this;n.each(r._getMarkerLayers(),function(r,u){n.each(u.getElements(),function(n,r){r.attribute("latSelection")==t[0].Value[0]&&r.attribute("lonSelection")==t[0].Value[1]&&r.selected(i)})})},setSelection:function(t){this.callBase(t);var i=this;i.clearSelection(),n.each(i._getMarkerLayers(),function(i,r){n.each(r.getElements(),function(i,r){n.each(t,function(n,t){r.attribute("latSelection")==t[0]&&r.attribute("lonSelection")==t[1]&&r.selected(!0)})})})},renderContent:function(i){var r=n.extend(!0,this._getMapViewerOptions(),this._getGeoPointMapViewerOptions());i&&this.mapViewer?(this._unsubscribeItemEvents(),this.mapViewer.option(r)):this.mapViewer=new t.viz.map.dxVectorMap(this.$contentRoot,r),this._subscribeItemEvents()},renderPartialContent:function(){var n=this.options.ViewModel;this._updateMarkerLayers(n)},updateContentState:function(){var t=this,i=t.mapViewer.option("layers");n.each(i,function(n,i){i.type==="marker"&&(i.hoverEnabled=t._getCustomHoverEnabled())}),this.mapViewer.option("layers",i)},_getGeoPointMapViewerOptions:function(){var n=this,t=n.options.ViewModel;return{layers:n._configureLayers(t),onClick:function(t){t.target&&t.target.layer.type==="marker"&&n._raiseItemClick(t.target)},legends:[n._getColorLegend(t)],tooltip:{enabled:!0,zIndex:100,container:r.utils.tooltipContainerSelector,customizeTooltip:function(n){var u,i,r,t="";return n.layer.type==="marker"&&(u=n.attribute("dimensionsTooltip"),r=n.attribute("tooltip"),i=n.attribute("measuresTooltip"),u&&(t+="<tr><td>"+u+"<\/td><\/tr>"),r&&(t+="<tr><td>"+r+(i?"":"<\/td><\/tr>")),i&&(t+=(r?"<br>":"<\/td><\/tr>")+i+"<\/td><\/tr>")),{html:t!=""?'<table align="left">'+t+"<\/table>":""}}}}},_getMarkerLayers:function(){},_configureLayers:function(t){var i=[n.extend({name:"area",type:"area",data:this._getMapDataSource(t.MapItems,t.ShapeTitleAttributeName)},this._getArea(t))];return i.concat(this._configureMarkerLayers(t))},_configureMarkerLayers:function(){},_updateMarkerLayers:function(t){var i=this.mapViewer.option("layers"),r=this._configureMarkerLayers(t);n.each(r,function(n,t){i[n+1]=t}),this.mapViewer.option("layers",i)},_getMarker:function(){var r;return{customize:function(t){n.each(t,function(n,t){t.selected(t.attribute("selected")),r={color:t.attribute("color")};var i=t.attribute("size");i&&(r.size=i),t.applySettings(r)})},selectionMode:"multiple"}},_getArea:function(t){var i=this;return n.extend(i._getLabelSettings(t),{hoverEnabled:!1,selectionMode:i._selectionMode()})},_getColorLegend:function(n){var t=this._getLegend(n.ColorLegend);return t&&(t.source={grouping:"color"}),t},_getMinMaxValues:function(n){var r,u,t;if(n.length>0)for(t=0;t<n.length;t++)(u===i||n[t].attributes.value!==i&&n[t].attributes.value>u)&&(u=n[t].attributes.value),(r===i||n[t].attributes.value!==i&&n[t].attributes.value<r)&&(r=n[t].attributes.value);return{min:r,max:u}},_pointsCountTooltip:function(n){return"<b>"+n+" points<\/b>"},_getElementInteractionValue:function(n){return[n.attribute("latSelection"),n.attribute("lonSelection")]},_getDimensionsTooltipHtml:function(n){var i=[],t,r,u;if(n.length===1){if(n[0].values){for(t=0;t<n[0].values.length;t++)i.push("<b>"+this._getHtml(n[0].values[t])+"<\/b>");return i.join("<br>")}}else{for(t=0;t<n.length;t++)if(r=n[t],r.values)for(i.push("<b>"+this._getHtml(r.caption)+"<\/b>"),u=0;u<r.values.length;u++)i.push(this._getHtml(r.values[u]));return i.join("<br>")}return""},_getMeasuresTooltipHtml:function(n){for(var i=[],t=0;t<n.length;t++)i.push(this._getToolTip(n[t].caption,n[t].value));return i.join("<br>")},_getDataPoint:function(n){var t=this,i=t.options.ViewModel;return{getValues:function(){return t._getElementInteractionValue(n,i)},getMeasureIds:function(){return t._getDataPointMeasureIds()},getDeltaIds:function(){return[]}}},_getDataPointMeasureIds:function(){},_raiseClusterizationDataRequest:function(){this.options.ViewModel.EnableClustering&&(this._onClientStateUpdate(this._getClientContext()),this._onDataRequest())},_onViewPortChanged:function(){this.callBase(),this.options.ViewModel.EnableClustering&&(this.timer||(this.timer=setTimeout(this.raiseTimerClusterizationDataRequest,500)))},_resize:function(n,t){this.callBase(n,t),this._raiseClusterizationDataRequest()},_onInitialExtent:function(){this.callBase(),this._raiseClusterizationDataRequest()}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,f=r.data.formatter,u=r.viewerItems;u.geoPointMapItem=u.geoPointMapItemBase.inherit({ctor:function(n,t){this.callBase(n,t)},_getMarkerLayers:function(){return[this.mapViewer.getLayerByName("dot"),this.mapViewer.getLayerByName("bubble")]},_configureMarkerLayers:function(t){var i=this._getMarkerDataSource(),r=i.dotDataSource.length>0?this._getDorMarker(t,i.dotDataSource):null,u=i.bubbleDataSource.length>0?this._getBubbleMarker(t,i.bubbleDataSource):null;return[n.extend({name:"dot",type:"marker",elementType:"dot",data:i.dotDataSource},r),n.extend({name:"bubble",type:"marker",elementType:"bubble",dataField:"value",data:i.bubbleDataSource},u)]},_getMarkerDataSource:function(){for(var e=this.options.ViewModel,u=[],f=[],o=this.dataController?this.dataController.getCount():0,r,t,n,i=0;i<o;i++)n=this.dataController.getPoint(i),r=this._getToolTip(e.ValueName,n.text),t={coordinates:[n.lon,n.lat],attributes:{latSelection:n.latSel,lonSelection:n.lonSel,selected:this._isSelected([n.latSel,n.lonSel]),dimensionsTooltip:this._getDimensionsTooltipHtml(n.tooltipDimensions),measuresTooltip:this._getMeasuresTooltipHtml(n.tooltipMeasures)}},n.pointsCount&&n.pointsCount>1?(t.attributes.value=this._getClusterBubbleSizeIndex(n.pointsCount),t.attributes.tooltip=this._pointsCountTooltip(n.pointsCount)+"<br>"+r,t.attributes.color=this._getClusterBubbleColor(n.pointsCount),f.push(t)):(t.attributes.text=n.text,t.attributes.tooltip=r,u.push(t));return{dotDataSource:u,bubbleDataSource:f}},_getDorMarker:function(t,i){return n.extend(this._getMarker(t,i),{label:{dataField:"text"}})},_getBubbleMarker:function(t,i){var r=this._getMinMaxValues(i);return n.extend(!0,this._getMarker(t,i),{minSize:30+r.min*10,maxSize:30+r.max*10})},_getColorLegend:function(){},_getClusterBubbleColor:function(n){return n<10?"rgb(27, 73, 165)":n<100?"rgb(63, 136, 48)":n<1e3?"rgb(228, 124, 2)":"rgb(214, 5, 5)"},_getClusterBubbleSizeIndex:function(n){for(var t=0;;t++)if(n<Math.pow(10,t))return t-1},_getDataPointMeasureIds:function(){var t=this.options.ViewModel,n=[];return n.push(t.ValueId),n}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,e=r.data.formatter,u=r.viewerItems,f=t.require("/color");u.bubbleMapItem=u.geoPointMapItemBase.inherit({ctor:function(n,t){this.callBase(n,t)},_getMarkerLayers:function(){return[this.mapViewer.getLayerByName("bubble")]},_configureMarkerLayers:function(t){var i=this._getMarkerDataSource(),r=i.length>0?this._getMarker(t,i):null;return[n.extend({name:"bubble",type:"marker",elementType:"bubble",dataField:"value",data:i},r)]},_getMarkerDataSource:function(){for(var r=this.options.ViewModel,i=[],n,t=0;t<this.dataController.getCount();t++)n=this.dataController.getPoint(t),i.push({coordinates:[n.lon,n.lat],attributes:{latSelection:n.latSel,lonSelection:n.lonSel,selected:this._isSelected([n.latSel,n.lonSel]),value:n.weight||(n.pointsCount>1?1:0),colorValue:n.color||0,tooltip:this._getBubbleTooltip(r,n.weightText,n.colorText,n.pointsCount),dimensionsTooltip:this._getDimensionsTooltipHtml(n.tooltipDimensions),measuresTooltip:this._getMeasuresTooltipHtml(n.tooltipMeasures)}});return i},_getMarker:function(t,i){var o=t.ColorId?this._getBubbleRangeStops(t.Colorizer,i):[0,1],s=this._getBubbleColors(t.Colorizer.Colors,o.length-1),r,u,e={palette:s,colorGroups:o,colorGroupingField:"colorValue"},f;return t.WeightId?(r=20,u=60):(f=this._getMinMaxValues(i),f.min!==f.max?(r=20,u=40):f.min===1?(r=40,u=40):(r=20,u=20)),e.minSize=r,e.maxSize=u,n.extend(!0,this.callBase(t,i),e)},_getColorLegend:function(n){var i=this,t;if(n.ColorId)return t=this.callBase(n),t&&(t.source.layer="bubble",t.customizeText=function(n){return i.dataController.formatColor(n.start)}),t},_getBubbleTooltip:function(n,t,i,r){var u=[];return r&&r>1&&u.push(this._pointsCountTooltip(r)),t&&u.push(this._getToolTip(n.WeightName,t)),i&&n.ColorName!==n.WeightName&&u.push(this._getToolTip(n.ColorName,i)),u.join("<br>")},_getBubbleRangeStops:function(n,t){for(var r=t[0].attributes.colorValue,u=t[0].attributes.colorValue,i=1;i<t.length;i++)t[i].attributes.colorValue>r&&(r=t[i].attributes.colorValue),t[i].attributes.colorValue<u&&(u=t[i].attributes.colorValue);return this._updateRangeStops(n.RangeStops,u,r,n.UsePercentRangeStops)},_getBubbleColors:function(n,t){var i=this._getColors(n);return i?i:this._getDefaultBubbleColorizerColors(t)},_getDefaultBubbleColorizerColors:function(n){var i=new f("rgb(54, 170, 206)"),u=new f("rgb(255, 93, 106)"),r=[],t;if(n===1)return[i.toHex()];for(t=0;t<n;t++)r.push(i.blend(u,t/(n-1)).toHex());return r},_getDataPointMeasureIds:function(){var t=this.options.ViewModel,n=[];return n.push(t.WeightId),n.push(t.ColorId),n}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,f=t.require("/utils/utils.string"),e=r.data.formatter,u=r.viewerItems;u.pieMapItem=u.geoPointMapItemBase.inherit({ctor:function(n,t){this.callBase(n,t),this.pieUniqueArguments=i,this.pieArgumentDisplayTexts=i},_getMarkerLayers:function(){return[this.mapViewer.getLayerByName("pie")]},_configureMarkerLayers:function(t){var i=this._getMarkerDataSource(),r=i.length>0?this._getMarker(t,i):null;return[n.extend({name:"pie",type:"marker",elementType:"pie",dataField:"values",data:i},r)]},_getMarkerDataSource:function(){var r=[],u=this.options.ViewModel,f=this._getPieSegments(),n=this._getPiesData(f,u),e=u.IsWeighted?this._getPieRangeStops(n):[0,1,2],i,t;for(t in n)i=n[t].attributes,i.size=20+this._getRangeStopIndex(n[t].sizeValue,e)*10,r.push({coordinates:n[t].coordinates,attributes:i});return r},_getColorLegend:function(n){var i=this,t=this.callBase(n);return t&&(t.source.layer="pie",t.customizeText=function(n){return i.pieArgumentDisplayTexts[n.index]}),t},_getPieSegments:function(){var t=this,u=this.options.ViewModel,e=[],i,s=u.Values&&u.Values.length>0,o=function(n){return{clusterCount:n.pointsCount,lat:n.lat,lon:n.lon,latSel:n.latSel,lonSel:n.lonSel,dimensionsTooltipText:t._getDimensionsTooltipHtml(n.tooltipDimensions),measuresTooltipText:t._getMeasuresTooltipHtml(n.tooltipMeasures),value:n.value,valueDisplayText:n.valueDisplayText,argumentValue:n.argument,argumentDisplayText:n.argumentDisplayText}},r,f;for(t.pieUniqueArguments=[],this.pieArgumentDisplayTexts=[],r=0;r<t.dataController.getCount();r++)if(u.ArgumentDataId)i=o(t.dataController.getPoint(r)),n.inArray(i.argumentValue,t.pieUniqueArguments)===-1&&(t.pieUniqueArguments.push(i.argumentValue),t.pieArgumentDisplayTexts.push(i.argumentDisplayText)),e.push(i);else if(s)for(f=0;f<u.Values.length;f++)i=o(t.dataController.getPoint(r,f)),(n.inArray(i.argumentValue,t.pieUniqueArguments)===-1||r===0)&&(t.pieUniqueArguments.push(i.argumentValue),t.pieArgumentDisplayTexts.push(i.argumentDisplayText)),e.push(i);return e},_getPiesData:function(n,t){for(var u={},r,e,o,c,l,s,h=0;h<n.length;h++){for(r=n[h],e=f.format("{0};{1}",r.lat,r.lon),u.hasOwnProperty(e)||(c=r.dimensionsTooltipText,l=r.measuresTooltipText,u[e]={coordinates:[r.lon,r.lat],attributes:{latSelection:r.latSel,lonSelection:r.lonSel,selected:this._isSelected([r.latSel,r.lonSel]),values:this._getEmptyValues(this.pieUniqueArguments.length),dimensionsTooltip:c,measuresTooltip:l},sizeValue:t.IsWeighted?0:r.clusterCount>1?1:0},r.clusterCount>1&&(u[e].attributes.tooltip=this._pointsCountTooltip(r.clusterCount))),s=0;s<u[e].attributes.values.length;s++)r.argumentValue===this.pieUniqueArguments[s]&&(u[e].attributes.values[s]=r.value);o=t.Values&&t.Values.length>0?r.argumentValue&&r.value>0?this._getToolTip(r.argumentDisplayText,r.valueDisplayText):i:r.argumentDisplayText,o&&(u[e].attributes.tooltip?u[e].attributes.tooltip+="<br>"+o:u[e].attributes.tooltip=o),t.IsWeighted?u[e].sizeValue+=r.value:this._getPieSegmentCount(u[e])===2&&u[e].sizeValue++}return u},_getPieSegmentCount:function(n){for(var i=0,t=0;t<n.attributes.values.length;t++)n.attributes.values[t]>0&&i++;return i},_getEmptyValues:function(n){for(var i=[],t=0;t<n;t++)i.push(0);return i},_getPieRangeStops:function(n){var e=[],o=3,t,u,r,f;for(r in n)(t===i||n[r].sizeValue<t)&&(t=n[r].sizeValue),(u===i||n[r].sizeValue>u)&&(u=n[r].sizeValue);for(f=0;f<=o;f++)e.push(t+f/o*(u-t));return e},_getRangeStopIndex:function(n,t){if(n<t[0])return 0;for(var i=0;i<t.length-1;i++)if(n>=t[i]&&n<t[i+1])return i;return t.length-1},_getDataPointMeasureIds:function(){var t=this.options.ViewModel,i=[];return t.ArgumentDataId!=null&&t.Values.length>0?i.push(t.Values[0]):n.each(t.Values,function(n,t){i.push(t)}),i}})}(jQuery,DevExpress),function(n,t){var r=t.dashboard,u=r.viewerItems;u.filterElementBaseItem=u.baseItem.inherit({ctor:function(n,t){this.callBase(n,t),this._allowExport=!1,this._locked=!1,this.itemMultiselectionEnabled=!0},setSelection:function(n){this.callBase(n),this.dataController.update(n)},renderContent:function(n){this.callBase(n)},initializeData:function(n){this.callBase(n),this.isMultiSelectable=this.dataController?this.dataController.isMultiselectable():!1},isPaneEmpty:function(){return this.callBase()||!this.hasCaption()},updateInteractivityOptions:function(){this.isMultiSelectable?this.interactivityController.setOptions(r.dashboardSelectionMode.multiple):this.interactivityController.setOptions(r.dashboardSelectionMode.single)},_isBorderRequired:function(){return!1},_getOptions:function(){},_hasToggleSelectionModeButton:function(){return!1},_resize:function(n,t){this.callBase(n,t)},_raiseItemClick:function(t){if(!this._isLocked()){var i=this,r=[],u=i._getAxisNames()[0],f=i.dataController.getInteractionValues(t,i._getSelectedValues());n.each(f,function(n,t){r.push([{AxisName:u,Value:t}])}),i.interactivityController.clickAction(r)}},_mustSelectingFired:function(){return!0},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this._locked=!1},_isUpdating:function(n){return!n||n._updateLockCount>0},_wrapContentRoot:function(){return n("<div/>",{}).appendTo(this.$contentRoot)},_selectTuples:function(){}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.viewerItems,f=100;u.listFilterElement=u.filterElementBaseItem.inherit({ctor:function(n,t){this.callBase(n,t),this.list=i,this.suppressSelectionChanged=!1},setSelection:function(n){this.callBase(n),this._lock();try{this.list.option("dataSource",this._getDataSource()),this.list.option("selectedItems",this._getSelection())}finally{this._unlock()}},clearSelection:function(){},renderContent:function(n){var i=this,r=i._wrapContentRoot(),u=i._getOptions(!0);this._lock();try{n&&i.list?i.list.option(u):i.list=new t.ui.dxList(r,u)}finally{this._unlock()}r.addClass("dx-list-item-separator-hidden"),i.isPaneEmpty()&&r.addClass("dx-list-border-visible")},_resize:function(n,t){this.callBase(n,t),this.list.updateDimensions()},_getOptions:function(t){var u=this,f=i,e=i;return t&&(f=function(n){u.suppressSelectionChanged||(u.isMultiSelectable&&n.removedItems.length>0?u._raiseItemClick(n.removedItems):u._raiseItemClick(n.addedItems))},e=function(t){var i,r;return u.suppressSelectionChanged=!0,i=t.component.option("selectedItems"),t.value===!0&&(r=n.grep(u.dataController.selection,function(t){return n.inArray(t,i)===-1}),t.component.option("selectedItems",u.dataController.selection),r.length>0&&u._raiseItemClick(r)),t.value===!1&&(t.component.option("selectedItems",[]),i.length>0&&u._raiseItemClick(i)),u.suppressSelectionChanged=!1,!1}),{dataSource:u._getDataSource(),selectedItems:u._getSelection(),showSelectionControls:!0,focusStateEnabled:!1,hoverStateEnabled:!1,selectionMode:u.isMultiSelectable?"all":"single",selectAllText:r.data.ALL_ELEMENT.text,onSelectionChanged:f,onSelectAllChanged:e,pageLoadMode:"scrollBottom"}},_getDataSource:function(){return{paginate:!0,pageSize:f,requireTotalCount:!0,store:new t.data.ArrayStore(this.dataController.dataSource)}},_getSelection:function(){return!this.isMultiSelectable&&this.dataController.selection.length>1?[this.dataController.selection[0]]:this.dataController.selection}})}(jQuery,DevExpress),function(n,t,i){var u=t.dashboard,f=t.utils,e=t.require("/utils/utils.common"),r=u.viewerItems;r.cssComboBoxClassNames={item:"dx-dashboard-combobox-filter-item",multiText:"dx-dashboard-filter-item-multitext"},r.comboBoxFilterElement=r.filterElementBaseItem.inherit({ctor:function(n,t){this.callBase(n,t),this.comboBox=i,this._isFixedHeight=!0},setSelection:function(n){this.callBase(n),this._lock();try{this.comboBox.option("dataSource",this.dataController.dataSource),this.isMultiSelectable?this.comboBox.option("values",this.dataController.selection):this.comboBox.option("value",this.dataController.selection?this.dataController.selection[0]:this.dataController.dataSource[0])}finally{this._unlock()}},clearSelection:function(){},renderContent:function(n){var i=this,u=i._wrapContentRoot(),f=this._getControlName(),r=i._getOptions(!0);this._lock();try{n&&i.comboBox?i.comboBox.option(r):i.comboBox=new t.ui[f](u,r)}finally{this._unlock()}},_getControlName:function(){return this.isMultiSelectable?"dxTagBox":"dxSelectBox"},_getMinContentHeight:function(){var n=this._getControlName();return f.renderHelper.getControlBox(n,this._getOptions(!1)).height},_getInnerBorderClasses:function(){var n=this.callBase();return this.isPaneEmpty()||n.push(r.cssComboBoxClassNames.item),n},_resize:function(n,t){this.callBase(n,t)},_getCustomTemplate:function(){var t=this,i=function(i){if(i&&e.isArray(i)&&i.length>0){if(i.length==t.dataController.dataSource.length)return u.data.ALL_ELEMENT.text;var r=[];return n.each(i,function(n,t){r.push(t.text)}),r.join("; ")}return"(none)"};return function(t){var u=n("<input>").addClass("dx-texteditor-input").val(i(t)).prop("readonly",!0).css({padding:"7px 9px 8px",border:"none",width:"100%",boxSizing:"border-box",readOnly:!0}),f,e;return u.addClass(r.cssComboBoxClassNames.multiText),f=n("<div>").css({marginRight:"40px"}).append(u),e=n("<div>").css({float:"right",width:"37px"}).dxTextBox(),n("<div>").append(e).append(f)}},_getOptions:function(t){var r=this,f={dataSource:r.dataController.dataSource,displayExpr:"text",valueExpr:"this",multiSelectEnabled:r.isMultiSelectable,selectAllText:u.data.ALL_ELEMENT.text};return r.isMultiSelectable?n.extend(f,{values:r.dataController.selection,onValuesChanged:t?function(n){r._raiseItemClick(n.removedItems.length>0?n.removedItems:n.addedItems)}:i,placeholder:"",showSelectionControls:r.isMultiSelectable,showDropButton:!0,selectAllText:u.data.ALL_ELEMENT.text,fieldTemplate:r._getCustomTemplate()}):n.extend(f,{value:r.dataController.selection?r.dataController.selection[0]:r.dataController.dataSource[0],onValueChanged:t?function(n){r._raiseItemClick([n.value])}:i}),f}})}(jQuery,DevExpress),function(n,t,i){var r=t.dashboard,u=r.viewerItems;u.treeViewFilterElement=u.filterElementBaseItem.inherit({ctor:function(n,t){this.callBase(n,t),this.treeView=i},setSelection:function(n){this.callBase(n),this._lock();try{this.treeView.option("items",this.dataController.dataSource)}finally{this._unlock()}},clearSelection:function(){},renderContent:function(n){var i=this,r=i._wrapContentRoot(),u=i._getOptions(!0);this._lock();try{n&&i.treeView?i.treeView.option(u):i.treeView=new t.ui.dxTreeView(r,u)}finally{this._unlock()}i.isPaneEmpty()&&r.addClass("dx-treeview-border-visible")},_resize:function(n,t){this.callBase(n,t),this.treeView.updateDimensions()},_getOptions:function(n){var t=this,u=i;return n&&(u=function(n){t._raiseItemClick(n.component.getNodes())}),{items:t.dataController.dataSource,width:"100%",height:"100%",keyExpr:"key",hoverStateEnabled:!1,scrollDirection:"both",showCheckBoxes:!0,rootValue:null,selectAllEnabled:!0,selectAllText:r.data.ALL_ELEMENT.text,selectNodesRecursive:!0,onSelectionChanged:u}}})}(jQuery,DevExpress),DevExpress.MOD_DASHBOARD=!0}