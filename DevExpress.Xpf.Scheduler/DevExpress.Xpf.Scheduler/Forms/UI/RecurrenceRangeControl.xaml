<UserControl x:Class="DevExpress.Xpf.Scheduler.UI.RecurrenceRangeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxschdui="clr-namespace:DevExpress.Xpf.Scheduler.UI"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:dxsch="clr-namespace:DevExpress.Xpf.Scheduler"
             xmlns:dxschdw="clr-namespace:DevExpress.Xpf.Scheduler.Drawing"
             xmlns:local="clr-namespace:DevExpress.Xpf.Scheduler.UI"
             xmlns:dxschcore="clr-namespace:DevExpress.XtraScheduler;assembly=DevExpress.XtraScheduler.v15.2.Core"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             x:Name="RecRangeUserControl">

    <UserControl.Resources>
        <dxsch:SchedulerControlStringIdConverter x:Key="SchedulerControlStringIdConverter" />
        <dxschdw:DecimalToConverter x:Key="DecimalToConverter" />
        <dx:EnumToBoolConverter x:Key="EnumToBoolConverter" />
        <dxschdw:InvertedBoolConverter x:Key="invertedBoolConverter" />
        <Style x:Key="ListBoxEditItem" TargetType="{x:Type StackPanel}">
            <!--<Setter Property="Height" Value="25"/>-->
        </Style>
    </UserControl.Resources>

    <Grid x:Name="MainElement" UseLayoutRounding="True" IsHitTestVisible="{Binding IsReadOnly, Converter={StaticResource invertedBoolConverter}}">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto">
            </ColumnDefinition>
            <ColumnDefinition Width="Auto">
            </ColumnDefinition>
        </Grid.ColumnDefinitions>
        <RadioButton Name="NoEndDateRadioButton" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" IsChecked="{Binding RecurrenceInfo.Range, ElementName=RecRangeUserControl, Converter={local:RecurrenceRangeTypeConverter}, ConverterParameter={x:Static dxschcore:RecurrenceRange.NoEndDate}}"
                     Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_NoEndDate, Converter={StaticResource SchedulerControlStringIdConverter}}" Margin="0,2,0,2"/>
        <RadioButton Name="OccurenceCountRadioButton" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" IsChecked="{Binding RecurrenceInfo.Range, ElementName=RecRangeUserControl, Converter={local:RecurrenceRangeTypeConverter}, ConverterParameter={x:Static dxschcore:RecurrenceRange.OccurrenceCount}}"
                     Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_EndAfter, Converter={StaticResource SchedulerControlStringIdConverter}}"/>
        <RadioButton Name="EndByDateRadioButton" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" IsChecked="{Binding RecurrenceInfo.Range, ElementName=RecRangeUserControl, Converter={local:RecurrenceRangeTypeConverter}, ConverterParameter={x:Static dxschcore:RecurrenceRange.EndByDate}}"
                     Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_EndBy, Converter={StaticResource SchedulerControlStringIdConverter}}"/>

        <!--<StackPanel Orientation="Horizontal" Margin="4,3,0,2" VerticalAlignment="Center" Style="{StaticResource ListBoxEditItem}">
            <TextBlock Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_NoEndDate, Converter={StaticResource SchedulerControlStringIdConverter}}" VerticalAlignment="Center" Margin="0,0,0,0" />
        </StackPanel>-->

        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="4,2,0,2" VerticalAlignment="Center" Style="{StaticResource ListBoxEditItem}" >
            <dxe:SpinEdit EditValue="{Binding Path=RecurrenceInfo.OccurrenceCount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,  Converter={StaticResource DecimalToConverter}, ConverterParameter={x:Type sys:Int32}}" IsReadOnly="{Binding IsReadOnly}" VerticalAlignment="Center" IsFloatValue="False" MinValue="1" Margin="0, 0, 4, 0" GotFocus="OnOccurrenceCountSpinEditGotFocus" />
            <TextBlock Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_Occurrences, Converter={StaticResource SchedulerControlStringIdConverter}}" VerticalAlignment="Center" />
        </StackPanel>
        <!--<StackPanel Grid.Row="1" Orientation="Horizontal" Margin="4,2,0,2" VerticalAlignment="Center" Style="{StaticResource ListBoxEditItem}" >
            
            <TextBlock Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_EndAfter, Converter={StaticResource SchedulerControlStringIdConverter}}" VerticalAlignment="Center" Margin="0,0,0,0" />
            <dxe:SpinEdit EditValue="{Binding Path=RecurrenceInfo.OccurrenceCount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,  Converter={StaticResource DecimalToConverter}, ConverterParameter={x:Type sys:Int32}}" IsReadOnly="{Binding IsReadOnly}" VerticalAlignment="Center" IsFloatValue="False" MinValue="1" Margin="4, 0, 4, 0" GotFocus="OnOccurrenceCountSpinEditGotFocus" />
            <TextBlock Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_Occurrences, Converter={StaticResource SchedulerControlStringIdConverter}}" VerticalAlignment="Center" Margin="0,0,0,0" />
        </StackPanel>-->


        <dxe:DateEdit Grid.Row="3" Grid.Column="1" DateTime="{Binding Path=LocalEnd, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="{Binding IsReadOnly}"
                              VerticalAlignment="Center" Margin="4, 0, 4, 0" GotFocus="OnEndByDateEditGotFocus" Validate="OnEdtEndDateValidate" />
        <!--<StackPanel Grid.Row="2" Orientation="Horizontal" Margin="4,2,0,3" VerticalAlignment="Center" Style="{StaticResource ListBoxEditItem}" >
            
            <TextBlock Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_EndBy, Converter={StaticResource SchedulerControlStringIdConverter}}" VerticalAlignment="Center" Margin="0,0,0,0" />
            <dxe:DateEdit DateTime="{Binding Path=LocalEnd, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="{Binding IsReadOnly}"
                              VerticalAlignment="Center" Margin="4, 0, 4, 0" GotFocus="OnEndByDateEditGotFocus" />
        </StackPanel>-->
    </Grid>
</UserControl>
