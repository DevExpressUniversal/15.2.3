<UserControl
    x:Class="DevExpress.Xpf.Scheduler.UI.RemindersControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxsch="clr-namespace:DevExpress.Xpf.Scheduler"
    xmlns:dxschui="clr-namespace:DevExpress.Xpf.Scheduler.UI"
    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
    mc:Ignorable="d" Margin="10" Height="264" Width="490">
    
    <UserControl.Resources>
        <dx:BoolToVisibilityViaOpacityConverter x:Key="BoolToVisibilityViaOpacityConverter"/>
        <dxsch:SchedulerControlStringIdConverter x:Key="SchedulerControlStringIdConverter"/>
    </UserControl.Resources>
    
    <dxmvvm:Interaction.Triggers>
        <dxmvvm:EventToCommand PassEventArgsToCommand="True" Command="{Binding OnRemindersDoubleClickCommand}" EventName="MouseDoubleClick" SourceName="lbReminders">
            <dxmvvm:EventToCommand.EventArgsConverter>
                <dxschui:RemindersDoubleClickEventArgsConverter />
            </dxmvvm:EventToCommand.EventArgsConverter>
        </dxmvvm:EventToCommand>
    </dxmvvm:Interaction.Triggers>
    
    <Grid MinWidth="270">
        <Grid.RowDefinitions>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="AUTO"/>
        </Grid.RowDefinitions>
        <StackPanel Orientation="Vertical" HorizontalAlignment="Left">
            <TextBlock FontWeight="Bold" Text="{Binding ElementName=lbReminders, Path=SelectedItem.Subject}" Margin="0,0,0,5" Opacity="{Binding IsRemindersSubjectVisible, Converter={StaticResource BoolToVisibilityViaOpacityConverter}}"/>
            <TextBlock x:Name="startDisplayTextBlock" Text="{Binding AppointmentStartDisplayText}"/>
        </StackPanel>
        <dxe:ListBoxEdit x:Name="lbReminders"
                         Margin="0,5,0,5"
                         Grid.Row="1"
                         SelectionMode="Extended"
                         ItemsSource="{Binding Alerts}"
                         MinHeight="130"
                         SelectedIndex="{Binding SelectedReminderIndex, Mode=TwoWay}" TabIndex="0"
                         DisplayMember="Subject"/>
        <StackPanel Grid.Row="2" HorizontalAlignment="Stretch" Orientation="Vertical">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="AUTO"/>
                    <ColumnDefinition Width="AUTO"/>
                </Grid.ColumnDefinitions>
                <StackPanel HorizontalAlignment="Left" MinWidth="85">
                    <Button MinWidth="75" Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=ButtonCaption_DismissAll, Converter={StaticResource SchedulerControlStringIdConverter}}" Command="{Binding DismissAllCommand}" TabIndex="1" />
                </StackPanel>
                <Button Grid.Column="1" x:Name="btnOpen" MinWidth="75" Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=ButtonCaption_OpenItem, Converter={StaticResource SchedulerControlStringIdConverter}}" Command="{Binding OpenItemCommand}" TabIndex="2" IsEnabled="{Binding CanOpenEditAppointmentForm}"/>
                <Button x:Name="btnDismiss" Grid.Column="2" MinWidth="75" Margin="10,0,0,0" Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=ButtonCaption_Dismiss, Converter={StaticResource SchedulerControlStringIdConverter}}" Command="{Binding DismissCommand}" TabIndex="3" />
            </Grid>
            <TextBlock Margin="0,5,0,5" Text="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_ClickSnoozeToBeReminderAgainIn, Converter={StaticResource SchedulerControlStringIdConverter}}"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="AUTO"/>
                </Grid.ColumnDefinitions>
                <dxe:ComboBoxEdit x:Name="snoozeComboBox"
                                  AutomationProperties.Name="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=Form_ClickSnoozeToBeReminderAgainIn, Converter={StaticResource SchedulerControlStringIdConverter}}"
                                  DisplayMember="DisplayText"
                                  ValueMember="TimeSpan"
                                  IsTextEditable="False"
                                  ItemsSource="{Binding SnoozeList}"
                                  EditValue="{Binding SnoozeValue}" TabIndex="4">                                  
                </dxe:ComboBoxEdit>
                <Button x:Name="btnSnooze" Grid.Column="1" MinWidth="75" Margin="10,0,0,0" Content="{Binding Source={StaticResource SchedulerControlStringIdConverter}, ConverterParameter=ButtonCaption_Snooze, Converter={StaticResource SchedulerControlStringIdConverter}}" Command="{Binding SnoozeCommand}" TabIndex="5" />
            </Grid>
        </StackPanel>
    </Grid>
</UserControl>
